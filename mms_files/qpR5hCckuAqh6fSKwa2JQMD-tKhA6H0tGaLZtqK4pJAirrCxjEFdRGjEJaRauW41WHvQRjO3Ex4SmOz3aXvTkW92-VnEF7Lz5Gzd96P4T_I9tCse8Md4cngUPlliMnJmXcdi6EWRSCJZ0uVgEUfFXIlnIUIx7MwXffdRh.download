;/*FB_PKG_DELIM*/

__d("IDGWLoggingContext",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),l=n("$InternalEnum")({STREAM_LIFECYCLE:"stream_lifecycle",STREAM_GROUP_TRANSPORT:"stream_group_transport"}),s=n("$InternalEnum")({SUCCESS:"success",FAIL:"fail"});i.DGWLoggingComponent=e,i.QPLEvent=l,i.QPLResult=s}),66);
__d("DGWAckManager",["IDGWLoggingContext","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var r=this;this.$3=n,this.sendId=e,this.$2=t,this.handleAckReceived=function(){r.stopTracking(!0)},this.$1=window.setTimeout(function(){r.stopTracking(!1)},t)}var t=e.prototype;return t.stopTracking=function(t){window.clearTimeout(this.$1),this.$3(t)},e})(),s=(function(){function t(e){this.$1=new Map,this.$2=e}var n=t.prototype;return n.waitForAck=async function(n,a){this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");var t=this.$1;try{var i=await new Promise(function(r,o){t.set(n,new e(n,a,r))});return i===!0?this.$2.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+n,!0):(this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+n+" timed out after "+a+"ms")),t.delete(n),i}catch(e){var l=r("getErrorSafe")(e);throw this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error"),t.delete(n),l}},n.handleAckReceived=function(t){this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var e=this.$1.get(t);if(e===void 0){this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked"),this.$2.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+t+" which was not being tracked");return}e.handleAckReceived()},n.clearPendingAcks=function(){var e=this;this.$2.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size),this.$1.forEach(function(t,n,r){e.$2.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+t.sendId,null,!0),t.stopTracking(!1),r.delete(n)})},t})();l.DGWAckManager=s}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0",GUEST:"19:0"});function s(t){if(t==="TEST")return e.TEST;if(t==="FACEBOOK")return e.FACEBOOK;if(t==="INTERNALFB")return e.INTERNALFB;if(t==="OCULUS")return e.OCULUS;if(t==="ENTERPRISEFB")return e.ENTERPRISEFB;if(t==="RECRUITINGFB")return e.RECRUITINGFB;if(t==="INSTAGRAM")return e.INSTAGRAM;if(t==="HORIZON_WEB")return e.HORIZON_WEB;if(t==="SPARK_WEB")return e.SPARK_WEB;if(t==="ABRA")return e.ABRA;if(t==="GUEST")return e.GUEST;throw r("err")("failed to convert string to DGWAuth Type")}function u(t){if(t===e.TEST)return"TEST";if(t===e.FACEBOOK)return"FACEBOOK";if(t===e.INTERNALFB)return"INTERNALFB";if(t===e.OCULUS)return"OCULUS";if(t===e.ENTERPRISEFB)return"ENTERPRISEFB";if(t===e.RECRUITINGFB)return"RECRUITINGFB";if(t===e.INSTAGRAM)return"INSTAGRAM";if(t===e.HORIZON_WEB)return"HORIZON_WEB";if(t===e.SPARK_WEB)return"SPARK_WEB";if(t===e.ABRA)return"ABRA";if(t===e.GUEST)return"GUEST";throw r("err")("failed to convert DGWAuth to string")}l.DGWAuth=e,l.fromStringToDGWAuth=s,l.fromDGWAuthToString=u}),98);
__d("DGWGlobalLogger",["gkx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){var e=this;this.tabID=r("uuidv4")(),this.isTabClosed=!1,this.otherTabs=new Map,this.thisTab={realtime:0,lightspeed:0},this.broadcastChannel=this.$1("DGWGlobalLogger"),this.broadcastChannel.onmessage=function(t){var n=JSON.parse(String(t.data)),r=!e.otherTabs.has(n.key);n.event==="DELETE"?e.otherTabs.delete(n.key):n.event==="UPDATE"&&n.value!=null&&(e.otherTabs.set(n.key,n.value),r&&e.$2())}}var t=e.prototype;return t.$1=function(t){return window.BroadcastChannel!=null?new BroadcastChannel(t):{onmessage:function(t){},postMessage:function(t){}}},t.streamRequested=function(t){switch(t){case"realtime":this.thisTab.realtime++;break;case"lightspeed":this.thisTab.lightspeed++;break}this.$2()},t.streamClosed=function(t){switch(t){case"realtime":this.thisTab.realtime=Math.max(0,this.thisTab.realtime-1);break;case"lightspeed":this.thisTab.lightspeed=Math.max(0,this.thisTab.lightspeed-1);break}this.$2()},t.tabClosed=function(){if(!this.isTabClosed){this.isTabClosed=!0;var e={key:this.tabID,event:"DELETE"};this.broadcastChannel.postMessage(JSON.stringify(e))}},t.getGlobalState=function(){var e={realtime:this.thisTab.realtime,lightspeed:this.thisTab.lightspeed};return this.otherTabs.forEach(function(t){e.realtime+=t.realtime,e.lightspeed+=t.lightspeed}),e},t.$2=function(){var e={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.postMessage(JSON.stringify(e))},e})(),s=r("gkx")("4337")?new e:{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{realtime:-1,lightspeed:-1}}},u=function(){return s};l.getInstance=u}),98);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1755537"),s=o("FalcoLoggerInternal").create("dgw_client",e),u=s;l.default=u}),98);
__d("DGWLoggingContext",["DGWGlobalLogger","DgwClientFalcoEvent","IDGWLoggingContext","NetworkStatus","ODS","QuickPerformanceLogger","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="dgw_client",c=r("qpl")._(701242292,"2919"),d=r("qpl")._(701238781,"3037"),m={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function p(e){switch(e){case o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT:case o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT:return!0;default:return!1}}var _=(function(){function t(e,t,n,r,o,a,i){a===void 0&&(a=!1),i===void 0&&(i=!1),this.$5=""+e,this.$1=t,this.$4=n,this.$3=r,this.sgTransportId=o,this.$2=a,this.$6=i}var n=t.prototype;return n.getGlobalLogger=function(){return o("DGWGlobalLogger").getInstance()},t.bumpODSKey=function(t,n,r){if(r===void 0&&(r=1),!!o("Random").coinflip(r)){var e=t+"."+n;(s||(s=o("ODS"))).bumpEntityKey(3589,"dgw_web_client",e,r)}},n.bumpODSKey=function(t,n,r){if(r===void 0&&(r=1),!!o("Random").coinflip(r)){var e=this.$4+"."+t+"."+n;(s||(s=o("ODS"))).bumpEntityKey(3589,"dgw_web_client",e,r)}},n.logEvent=function(t,n,r,o,a){o===void 0&&(o=!1),this.$2||this.$7(t,n,null,m.INFO,r,o,a)},n.$7=function(t,n,o,a,i,l,s){var e=this;l===void 0&&(l=!1),!(l&&!this.$6)&&(p(t)&&this.$1!=null||!p(t)&&this.sgTransportId!=null)&&r("DgwClientFalcoEvent").log(function(){return{event:n,logging_id:s!=null?s:e.$1,dgw_version:e.$5,message:o,severity:a,uuid:e.$3,dgw_component:t,extra_info:i,destination_tier:e.$4,sg_transport_id:e.sgTransportId,source:2}})},n.logError=function(t,n,o,a,i,l,s){if(i===void 0&&(i=!1),s===void 0&&(s=!1),!this.$2){var e=a;if(s){var u="onLine:"+String(r("NetworkStatus").isOnline());e=a!=null&&a!==""?a+", "+u:u}this.$7(t,n,o,m.ERROR,e,i,l)}},n.logWarn=function(t,n,r,o,a){a===void 0&&(a=!1),this.$2||this.$7(t,n,r,m.WARNING,o,a)},n.$8=function(t){switch(t){case o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE:return c;case o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT:return d}},n.qplMarkerStart=function(n,o){(e||(e=r("QuickPerformanceLogger"))).markerStart(this.$8(n),o)},n.qplMarkerEnd=function(n,a,i){var t=a===o("IDGWLoggingContext").QPLResult.SUCCESS?2:3;(e||(e=r("QuickPerformanceLogger"))).markerEnd(this.$8(n),t,i)},n.qplMarkerPoint=function(n,o,a){(e||(e=r("QuickPerformanceLogger"))).markerPoint(this.$8(n),o,{instanceKey:a})},n.qplMarkerAnnotate=function(n,o,a){(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(this.$8(n),o,{instanceKey:a})},t})();l.DGWLoggingComponent=o("IDGWLoggingContext").DGWLoggingComponent,l.QPLEvent=o("IDGWLoggingContext").QPLEvent,l.QPLResult=o("IDGWLoggingContext").QPLResult,l.DGW_MODULE=u,l.DGWLoggingContext=_}),98);
__d("DGWCppBridge",[],(function(t,n,r,o,a,i){var e=(function(){var e=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return(function(t){t=t||{};var t=typeof t!="undefined"?t:{},n=(function(){function e(){}function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function r(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,n._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?o:a)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(e){a(t.promise,e);return}o(t.promise,r)})}function o(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var o=r.then;if(r instanceof n){e._state=3,e._value=r,i(e);return}else if(typeof o=="function"){s(t(o,r),e);return}}e._state=1,e._value=r,i(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,i(e)}function i(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var t=0,o=e._deferreds.length;t<o;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function s(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(t,n){var o=new this.constructor(e);return r(this,new l(t,n,o)),o},n.all=function(e){return new n(function(t,n){if(!Array.isArray(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var o=r.length;function a(e,i){try{if(i&&(typeof i=="object"||typeof i=="function")){var l=i.then;if(typeof l=="function"){l.call(i,function(t){a(e,t)},n);return}}r[e]=i,--o===0&&t(r)}catch(e){n(e)}}for(var i=0;i<r.length;i++)a(i,r[i])})},n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,r){if(!Array.isArray(e))return r(new TypeError("Promise.race accepts an array"));for(var o=0,a=e.length;o<a;o++)n.resolve(e[o]).then(t,r)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){setTimeout(e,0)},n._unhandledRejectionFn=function(t){},n})(),r,o;t.ready=new n(function(e,t){r=e,o=t});var a={},i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);var l=[],s="./this.program",u=function(t,n){throw n},c=!0,d=!1,m="";function p(e){return t.locateFile?t.locateFile(e,m):m+e}var _,f,g,h;typeof document!="undefined"&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",_=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(e){var n=ge(t);if(n)return pe(n);throw e}},f=function(t,n,r){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){if(e.status==200||e.status==0&&e.response){n(e.response);return}var o=ge(t);if(o){n(o.buffer);return}r()},e.onerror=r,e.send(null)},h=function(t){document.title=t};var y=t.print||console.log.bind(console),C=t.printErr||console.warn.bind(console);for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);a=null,t.arguments&&(l=t.arguments),t.thisProgram&&(s=t.thisProgram),t.quit&&(u=t.quit);var b;t.wasmBinary&&(b=t.wasmBinary);var v=t.noExitRuntime||!0,S={Memory:function(t){this.buffer=new ArrayBuffer(t.initial*65536)},Module:function(t){},Instance:function(t,n){this.exports=(function(t){function e(e){return e.set=function(e,t){this[e]=t},e.get=function(e){return this[e]},e}for(var n,r=new Uint8Array(123),o=25;o>=0;--o)r[48+o]=52+o,r[65+o]=o,r[97+o]=26+o;r[43]=62,r[47]=63;function a(e,t,n){for(var o,a,i=0,l=t,s=n.length,u=t+(s*3>>2)-(n[s-2]=="=")-(n[s-1]=="=");i<s;i+=4)o=r[n.charCodeAt(i+1)],a=r[n.charCodeAt(i+2)],e[l++]=r[n.charCodeAt(i)]<<2|o>>4,l<u&&(e[l++]=o<<4|a>>2),l<u&&(e[l++]=a<<6|r[n.charCodeAt(i+3)])}function i(e){a(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),a(n,1372,"gAkQ")}function l(t){var r=t.a,o=r.buffer;r.grow=Le;var a=new Int8Array(o),l=new Int16Array(o),s=new Int32Array(o),u=new Uint8Array(o),c=new Uint16Array(o),d=new Uint32Array(o),m=new Float32Array(o),p=new Float64Array(o),_=Math.imul,f=Math.fround,g=Math.abs,h=Math.clz32,y=Math.min,C=Math.max,b=Math.floor,v=Math.ceil,S=Math.trunc,R=Math.sqrt,L=t.abort,E=NaN,k=1/0,I=t.b,T=1051008,D=0;function x(e,t,n,r,o,i){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,i=i|0;var m=0,p=0,f=0;m=T-80|0,T=m,s[m+72>>2]=e,s[m+68>>2]=t,s[m+64>>2]=n,s[m+60>>2]=r,s[m+56>>2]=o,s[m+52>>2]=i;e:{if(!s[m+52>>2]||!s[m+56>>2]|(!s[m+72>>2]|!s[m+68>>2]|(!s[m+64>>2]|!s[m+60>>2]))){s[m+76>>2]=5;break e}s[s[m+64>>2]>>2]=0,s[s[m+60>>2]>>2]=0,t=s[m+68>>2],n=s[m+56>>2],r=s[m+52>>2],e=T+-64|0,T=e,s[e+56>>2]=s[m+72>>2],s[e+52>>2]=t,s[e+48>>2]=n,s[e+44>>2]=r,s[e+40>>2]=0,s[e+36>>2]=s[e+56>>2];t:{n:{r:{for(;;){if(!s[e+52>>2])break n;if(s[e+32>>2]=s[e+36>>2],a[e+31|0]=u[s[e+36>>2]],s[e+52>>2]=s[e+52>>2]-1,s[e+36>>2]=s[e+36>>2]+1,u[e+31|0]==10||u[e+31|0]==2|u[e+31|0]==4|u[e+31|0]==9){s[e+40>>2]=s[e+40>>2]+1;continue}if(s[e+24>>2]=1,J(u[e+31|0])&1){if(p=e,f=ee(u[e+31|0])&1,a[p+23|0]=f,s[e+16>>2]=a[e+23|0]&1?1:2,d[e+52>>2]<d[e+16>>2]){s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}if(s[e+52>>2]=s[e+52>>2]-s[e+16>>2],s[e+24>>2]=s[e+16>>2]+s[e+24>>2],s[e+36>>2]=s[e+16>>2]+s[e+36>>2],!(u[e+31|0]!=14&&u[e+31|0]!=8)){s[e+40>>2]=s[e+40>>2]+1;continue}}if(d[e+52>>2]<3)break r;if(s[e+12>>2]=0,t=s[e+36>>2],n=u[t|0]|u[t+1|0]<<8,a[e+12|0]=n,a[e+13|0]=n>>>8,a[e+14|0]=u[t+2|0],s[e+52>>2]=s[e+52>>2]-3,s[e+24>>2]=s[e+24>>2]+3,s[e+36>>2]=s[e+36>>2]+3,d[e+12>>2]<=d[e+52>>2]){s[e+40>>2]=s[e+40>>2]+1,s[e+36>>2]=s[e+12>>2]+s[e+36>>2],s[e+52>>2]=s[e+52>>2]-s[e+12>>2];continue}break}s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}s[s[e+44>>2]>>2]=s[e+52>>2]}if(s[e+60>>2]=s[e+40>>2],T=e- -64|0,s[m+48>>2]=s[e+60>>2],!s[m+48>>2]){s[m+76>>2]=0;break e}if(p=m,f=$(_(s[m+48>>2],20)),s[p+44>>2]=f,!s[m+44>>2]){s[m+76>>2]=3;break e}for(s[m+40>>2]=s[m+44>>2],s[m+36>>2]=s[m+72>>2],s[m+32>>2]=s[m+68>>2]-s[s[m+52>>2]>>2],s[m+28>>2]=0;;){if(d[m+28>>2]<d[m+48>>2]){if(d[m+32>>2]<1){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=1;break e}a[m+27|0]=u[s[m+36>>2]],s[m+36>>2]=s[m+36>>2]+1,s[m+32>>2]=s[m+32>>2]-1;t:{if(!u[m+27|0]|u[m+27|0]==1|(u[m+27|0]==2|u[m+27|0]==3)|(u[m+27|0]==4|u[m+27|0]==9|u[m+27|0]==10)||J(u[m+27|0])&1)break t;V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=6;break e}e=s[m+40>>2],s[e>>2]=u[m+27|0]&15|s[e>>2]&-16;t:{if(u[m+27|0]==10||u[m+27|0]==2|u[m+27|0]==4|u[m+27|0]==9){e=s[m+40>>2],s[e>>2]=s[e>>2]&-268435441,s[m+40>>2]=s[m+40>>2]+20;break t}if(J(u[m+27|0])&1){e=T-48|0,T=e,s[e+40>>2]=s[m+40>>2],s[e+36>>2]=m+36,s[e+32>>2]=m+32;n:{if(!(J(s[s[e+40>>2]>>2]&15)&1)){s[e+44>>2]=1;break n}if(p=e,f=ee(s[s[e+40>>2]>>2]&15)&1,a[p+31|0]=f,s[e+24>>2]=a[e+31|0]&1?1:2,d[s[e+32>>2]>>2]<d[e+24>>2]){s[e+44>>2]=1;break n}if(ae(s[e+40>>2]+4|0,s[s[e+36>>2]>>2],s[e+24>>2]),t=s[e+36>>2],s[t>>2]=s[e+24>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+24>>2],(s[s[e+40>>2]>>2]&15)==8){t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==14){t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441,s[e+44>>2]=0;break n}if(d[s[e+32>>2]>>2]<3){s[e+44>>2]=11;break n}if(s[e+20>>2]=0,t=s[s[e+36>>2]>>2],n=u[t|0]|u[t+1|0]<<8,a[e+20|0]=n,a[e+21|0]=n>>>8,a[e+22|0]=u[t+2|0],t=s[e+36>>2],s[t>>2]=s[t>>2]+3,t=s[e+32>>2],s[t>>2]=s[t>>2]-3,t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441|(s[e+20>>2]&16777215)<<4,d[s[e+32>>2]>>2]<d[e+20>>2]){s[e+44>>2]=11;break n}if((s[s[e+40>>2]>>2]&15)==15){if(s[s[e+40>>2]+12>>2]=s[e+20>>2],t=$(s[e+20>>2]),s[s[e+40>>2]+8>>2]=t,!s[s[e+40>>2]+8>>2]){s[e+44>>2]=3;break n}ae(s[s[e+40>>2]+8>>2],s[s[e+36>>2]>>2],s[e+20>>2]),t=s[e+36>>2],s[t>>2]=s[e+20>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+20>>2],s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==5){if(s[s[e+40>>2]+12>>2]=s[e+20>>2],t=$(s[e+20>>2]),s[s[e+40>>2]+8>>2]=t,!s[s[e+40>>2]+8>>2]){s[e+44>>2]=3;break n}ae(s[s[e+40>>2]+8>>2],s[s[e+36>>2]>>2],s[e+20>>2]),t=s[e+36>>2],s[t>>2]=s[e+20>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+20>>2],s[e+44>>2]=0;break n}r:{if(!((s[s[e+40>>2]>>2]&15)!=6&&(s[s[e+40>>2]>>2]&15)!=7)){if(p=e,f=G(s[e+36>>2],s[e+32>>2],e+19|0,e+18|0),s[p+12>>2]=f,s[e+12>>2]){s[e+44>>2]=s[e+12>>2];break n}break r}if(!((s[s[e+40>>2]>>2]&15)!=13&&(s[s[e+40>>2]>>2]&15)!=12)){n=s[e+32>>2],t=T-32|0,s[t+24>>2]=s[e+36>>2],s[t+20>>2]=n,s[t+16>>2]=e+19,s[t+12>>2]=e+16,l[t+10>>1]=0;o:{if(d[s[t+20>>2]>>2]<2){s[t+28>>2]=1;break o}n=s[s[t+24>>2]>>2],n=u[n|0]|u[n+1|0]<<8,a[t+10|0]=n,a[t+11|0]=n>>>8,n=s[t+24>>2],s[n>>2]=s[n>>2]+2,n=s[t+20>>2],s[n>>2]=s[n>>2]-2,a[s[t+16>>2]]=(c[t+10>>1]&32768)==32768,l[s[t+12>>2]>>1]=c[t+10>>1]&32767,s[t+28>>2]=0}if(s[e+12>>2]=s[t+28>>2],s[e+12>>2]){s[e+44>>2]=s[e+12>>2];break n}}}if((s[s[e+40>>2]>>2]&15)==12){t=s[e+40>>2],l[t+8>>1]=l[t+8>>1]&1|c[e+16>>1]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==7){t=s[e+40>>2],a[t+8|0]=a[t+8|0]&1|u[e+18|0]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==13){n=s[e+32>>2],r=s[e+20>>2],o=s[e+40>>2]+12|0,i=s[e+40>>2],t=T-32|0,T=t,s[t+24>>2]=s[e+36>>2],s[t+20>>2]=n,s[t+16>>2]=r,s[t+12>>2]=o,s[t+8>>2]=i+16;r:{if(d[t+16>>2]<2){s[t+28>>2]=9;break r}if(s[s[t+8>>2]>>2]=s[t+16>>2]-2,d[s[t+20>>2]>>2]<d[s[t+8>>2]>>2]){s[t+28>>2]=1;break r}if(n=$(s[s[t+8>>2]>>2]),s[s[t+12>>2]>>2]=n,!s[s[t+12>>2]>>2]){s[t+28>>2]=3;break r}ae(s[s[t+12>>2]>>2],s[s[t+24>>2]>>2],s[s[t+8>>2]>>2]),n=s[t+24>>2],s[n>>2]=s[s[t+8>>2]>>2]+s[n>>2],n=s[t+20>>2],s[n>>2]=s[n>>2]-s[s[t+8>>2]>>2],s[t+28>>2]=0}if(T=t+32|0,s[e+8>>2]=s[t+28>>2],s[e+8>>2]){s[e+44>>2]=s[e+8>>2];break n}t=s[e+40>>2],l[t+8>>1]=a[e+19|0]&1|c[t+8>>1]&65534,t=s[e+40>>2],l[t+8>>1]=l[t+8>>1]&1|c[e+16>>1]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==6){if(p=e,f=q(s[e+36>>2],s[e+32>>2],s[e+20>>2],s[e+40>>2]+12|0,s[e+40>>2]+16|0),s[p+4>>2]=f,s[e+4>>2]){s[e+44>>2]=s[e+4>>2];break n}t=s[e+40>>2],a[t+8|0]=a[e+19|0]&1|u[t+8|0]&254,t=s[e+40>>2],a[t+8|0]=a[t+8|0]&1|u[e+18|0]<<1,s[e+44>>2]=0;break n}s[e+44>>2]=1}if(T=e+48|0,s[m+20>>2]=s[e+44>>2],!s[m+20>>2]){s[m+40>>2]=s[m+40>>2]+20;break t}V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+20>>2];break e}if(s[m+16>>2]=0,d[m+32>>2]<3){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=1;break e}if(e=s[m+36>>2],t=u[e|0]|u[e+1|0]<<8,a[m+16|0]=t,a[m+17|0]=t>>>8,a[m+18|0]=u[e+2|0],s[m+36>>2]=s[m+36>>2]+3,s[m+32>>2]=s[m+32>>2]-3,!(s[m+16>>2]==1|u[m+27|0]!=1)){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=7;break e}if(e=s[m+40>>2],s[e>>2]=s[e>>2]&-268435441|(s[m+16>>2]&16777215)<<4,u[m+27|0]==3){if(s[m+16>>2]!=1){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=10;break e}if(a[m+15|0]=0,d[m+32>>2]<1){O(s[m+44>>2]),s[m+76>>2]=1;break e}a[m+15|0]=u[s[m+36>>2]],s[m+36>>2]=s[m+36>>2]+1,s[m+32>>2]=s[m+32>>2]-1;n:{if(u[m+15|0]<=4){a[s[m+40>>2]+4|0]=u[m+15|0];break n}a[s[m+40>>2]+4|0]=4}s[m+40>>2]=s[m+40>>2]+20;break t}if(p=m,f=G(m+36|0,m+32|0,m+14|0,m+13|0),s[p+8>>2]=f,s[m+8>>2]){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+8>>2];break e}if(u[m+27|0]==1){e=s[m+40>>2],a[e+4|0]=a[e+4|0]&1|u[m+13|0]<<1,s[m+40>>2]=s[m+40>>2]+20;break t}if(!u[m+27|0]){if(p=m,f=q(m+36|0,m+32|0,s[m+16>>2],s[m+40>>2]+8|0,s[m+40>>2]+12|0),s[p+4>>2]=f,s[m+4>>2]){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+4>>2];break e}e=s[m+40>>2],a[e+4|0]=a[m+14|0]&1|u[e+4|0]&254,e=s[m+40>>2],a[e+4|0]=a[e+4|0]&1|u[m+13|0]<<1,s[m+40>>2]=s[m+40>>2]+20}}s[m+28>>2]=s[m+28>>2]+1;continue}break}if(s[m+32>>2]){V(s[m+44>>2],s[m+48>>2]),s[m+76>>2]=1;break e}s[s[m+64>>2]>>2]=s[m+44>>2],s[s[m+60>>2]>>2]=s[m+48>>2],s[m+76>>2]=0}return T=m+80|0,s[m+76>>2]}function $(e){var t=0,n=0,r=0,o=0,a=0,i=0,l=0,u=0,c=0,d=0,m=0;c=8;e:{t:{if(e>>>0>4294967239)break t;for(;;){c=c>>>0>8?c:8,n=s[603],a=n,o=s[602],l=o,e=e>>>0>8?e+3&-4:8;n:{if(e>>>0<=127){i=(e>>>3|0)-1|0;break n}if(r=h(e),i=((e>>>29-r^4)-(r<<2)|0)+110|0,e>>>0<=4095)break n;r=((e>>>30-r^2)-(r<<1)|0)+71|0,i=r>>>0<63?r:63}if(t=i,r=t&31,(t&63)>>>0>=32?(t=0,n=n>>>r|0):(t=n>>>r|0,n=((1<<r)-1&n)<<32-r|l>>>r),r=t,n|t){for(;;){a=n,t=r;n:{if(t|n){o=t-1|0,u=o+1|0,l=o,o=n-1|0,l=(o|0)!=-1?u:l,o=h(n^o)+32|0,n=h(t^l),n=(n|0)==32?o:n,t=63-n|0,D=0-(n>>>0>63)|0;break n}D=0,t=64}o=t,t=o,n=t&31,(t&63)>>>0>=32?(t=0,l=r>>>n|0):(t=r>>>n|0,l=((1<<n)-1&r)<<32-n|a>>>n),r=t,i=o+i|0,a=i<<4,t=s[a+1384>>2],o=a+1376|0;n:{if((t|0)!=(o|0)){if(n=F(t,c,e),n)break t;n=s[t+4>>2],s[n+8>>2]=s[t+8>>2],s[s[t+8>>2]+4>>2]=n,s[t+8>>2]=o,n=a+1380|0,s[t+4>>2]=s[n>>2],s[n>>2]=t,s[s[t+4>>2]+8>>2]=t,i=i+1|0,n=(r&1)<<31|l>>>1,r=r>>>1|0;break n}d=s[603],t=i,u=t&63,n=u,a=n&31,n>>>0>=32?(n=0,o=-1>>>a|0):(n=-1>>>a|0,o=(1<<a)-1<<32-a|-1>>>a),o=o&-2,a=u&31,u>>>0>=32?(n=o<<a,u=0):(n=(1<<a)-1&o>>>32-a|n<<a,u=o<<a),a=n,o=0-t&63,n=o,t=n&31,n>>>0>=32?(n=-1<<t,t=0):(n=(1<<t)-1&-1>>>32-t|-1<<t,t=-1<<t),m=t&-2,t=o&31,o>>>0>=32?(o=0,t=n>>>t|0):(o=n>>>t|0,t=((1<<t)-1&n)<<32-t|m>>>t),n=t|u,D=a|o,s[602]=s[602]&n,s[603]=D&d,n=l^1}if(!(n|r))break}o=s[602],a=s[603]}n:{if(a|o){r=h(a),r=63-((r|0)==32?h(o)+32|0:r)<<4,t=r+1376|0,r=s[r+1384>>2];r:{if(!a&o>>>0<1073741824||(i=98,(t|0)==(r|0)))break r;for(;;){if(n=F(r,c,e),n)break t;if(r=s[r+8>>2],!i)break r;if(i=i-1|0,(t|0)==(r|0))break}}if(M(e+48|0))break n;if(!r|(t|0)==(r|0))break e;for(;;){if(n=F(r,c,e),n)break t;if(r=s[r+8>>2],(t|0)==(r|0))break}break e}if(!M(e+48|0))break e}if(n=0,e>>>0>4294967239)break t;for(r=c,t=0;;){if(i=t,r){r=r-1&r,t=t+1|0;continue}break}if(!(i>>>0<=1))break}}return n}return 0}function P(e,t,n,r,o,i,m){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,i=i|0,m=m|0;var p=0,_=0,f=0;p=T-32|0,T=p,l[p+26>>1]=e,s[p+20>>2]=t,s[p+16>>2]=n,a[p+15|0]=r,l[p+12>>1]=o,s[p+8>>2]=i,s[p+4>>2]=m;e:{if(!(!(a[p+15|0]&1)|c[p+12>>1]<=32767)){s[p+28>>2]=4;break e}t=s[p+20>>2],n=s[p+16>>2],r=s[p+8>>2],o=s[p+4>>2],i=a[p+15|0]&1,e=T+-64|0,T=e,s[e+56>>2]=p+26,s[e+52>>2]=t,s[e+48>>2]=n,s[e+44>>2]=r,s[e+40>>2]=o,a[e+39|0]=2,a[e+38|0]=13,s[e+32>>2]=p+12,a[e+31|0]=i,a[e+30|0]=2;t:{n:{if(!(!s[e+52>>2]|(!s[e+44>>2]|!s[e+40>>2]))&&d[e+48>>2]<=16777215)break n;s[e+60>>2]=5;break t}if(s[e+24>>2]=s[e+48>>2]+(u[e+39|0]+(u[e+30|0]+4|0)|0),_=e,f=$(s[e+24>>2]),s[_+20>>2]=f,!s[e+20>>2]){s[e+60>>2]=3;break t}if(s[e+16>>2]=s[e+20>>2],a[s[e+16>>2]]=u[e+38|0],s[e+16>>2]=s[e+16>>2]+1,ae(s[e+16>>2],s[e+56>>2],u[e+30|0]),s[e+16>>2]=u[e+30|0]+s[e+16>>2],s[e+12>>2]=u[e+39|0]+s[e+48>>2],d[e+12>>2]<d[e+48>>2]){O(s[e+20>>2]),s[e+60>>2]=9;break t}if(t=s[e+16>>2],n=u[e+12|0]|u[e+13|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+14|0],s[e+16>>2]=s[e+16>>2]+3,a[e+31|0]&1)n:{if(u[e+38|0]==6){t=s[e+32>>2],a[t|0]=u[t|0]|128;break n}r:{if(u[e+38|0]==13){t=s[e+32>>2],l[t>>1]=c[t>>1]|32768;break r}O(s[e+20>>2]),s[e+60>>2]=1;break t}}ae(s[e+16>>2],s[e+32>>2],u[e+39|0]),s[e+16>>2]=u[e+39|0]+s[e+16>>2],ae(s[e+16>>2],s[e+52>>2],s[e+48>>2]),s[s[e+44>>2]>>2]=s[e+20>>2],s[s[e+40>>2]>>2]=s[e+24>>2],s[e+60>>2]=0}T=e- -64|0,s[p+28>>2]=s[e+60>>2]}return T=p+32|0,s[p+28>>2]}function N(e,t,n,r,o){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0;var i=0,c=0,m=0;i=T-32|0,T=i,l[i+30>>1]=e,s[i+24>>2]=t,s[i+20>>2]=n,s[i+16>>2]=r,s[i+12>>2]=o,t=s[i+24>>2],n=s[i+20>>2],r=s[i+16>>2],o=s[i+12>>2],e=T-48|0,T=e,s[e+40>>2]=i+30,s[e+36>>2]=t,s[e+32>>2]=n,s[e+28>>2]=r,s[e+24>>2]=o,a[e+23|0]=2,a[e+22|0]=15;e:{if(!(s[e+24>>2]&&s[e+28>>2])){s[e+44>>2]=5;break e}if(s[s[e+28>>2]>>2]=0,s[s[e+24>>2]>>2]=0,!(d[e+32>>2]<=16777215&&s[e+36>>2])){s[e+44>>2]=5;break e}if(s[e+16>>2]=s[e+32>>2]+(u[e+23|0]+4|0),c=e,m=$(s[e+16>>2]),s[c+12>>2]=m,!s[e+12>>2]){s[e+44>>2]=3;break e}s[e+8>>2]=s[e+12>>2],a[s[e+8>>2]]=u[e+22|0],s[e+8>>2]=s[e+8>>2]+1,ae(s[e+8>>2],s[e+40>>2],u[e+23|0]),s[e+8>>2]=u[e+23|0]+s[e+8>>2],t=s[e+8>>2],n=u[e+32|0]|u[e+33|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+34|0],s[e+8>>2]=s[e+8>>2]+3,ae(s[e+8>>2],s[e+36>>2],s[e+32>>2]),s[e+8>>2]=s[e+32>>2]+s[e+8>>2],s[s[e+28>>2]>>2]=s[e+12>>2],s[s[e+24>>2]>>2]=s[e+16>>2],s[e+44>>2]=0}return T=e+48|0,T=i+32|0,s[e+44>>2]}function M(e){var t=0,n=0,r=0,o=0,i=0,l=0;r=s[343],n=e+3&-4,t=r+n|0;e:{t:{if(t>>>0<=r>>>0&&n||t>>>0>Re()<<16>>>0&&!(I(t|0)|0))break t;s[343]=t;break e}s[604]=48,r=-1}if((r|0)!=-1){n=e+r|0,t=n-16|0,s[t+12>>2]=16,s[t>>2]=16,e=s[600],e?l=s[e+8>>2]:l=0;e:{t:{if((l|0)==(r|0)){if(o=r-(s[r-4>>2]&-2)|0,i=s[o-4>>2],s[e+8>>2]=n,e=o-(i&-2)|0,n=-16,!(a[(e+s[e>>2]|0)-4|0]&1))break t;n=s[e+4>>2],s[n+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=n,t=t-e|0,s[e>>2]=t;break e}s[r+12>>2]=16,s[r>>2]=16,s[r+8>>2]=n,s[r+4>>2]=e,s[600]=r,n=16}e=r+n|0,t=t-e|0,s[e>>2]=t}s[((t&-4)+e|0)-4>>2]=t|1,l=e,o=s[e>>2]-8|0;e:{if(o>>>0<=127){t=(o>>>3|0)-1|0;break e}if(i=h(o),t=((o>>>29-i^4)-(i<<2)|0)+110|0,o>>>0<=4095)break e;t=((o>>>30-i^2)-(i<<1)|0)+71|0,t=t>>>0<63?t:63}n=t<<4,s[l+4>>2]=n+1376,n=n+1384|0,s[e+8>>2]=s[n>>2],s[n>>2]=e,s[s[e+8>>2]+4>>2]=e,n=s[603],e=t&31,(t&63)>>>0>=32?(t=1<<e,e=0):(t=(1<<e)-1&1>>>32-e,e=1<<e),s[602]=e|s[602],s[603]=t|n}return(r|0)!=-1}function w(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0;var o=0,i=0,d=0;o=T-16|0,T=o,l[o+10>>1]=e,l[o+8>>1]=t,s[o+4>>2]=n,s[o>>2]=r;e:{if(c[o+8>>1]>32767){s[o+12>>2]=4;break e}t=s[o+4>>2],n=s[o>>2],e=T-48|0,T=e,s[e+40>>2]=o+10,s[e+36>>2]=t,s[e+32>>2]=n,a[e+31|0]=2,a[e+30|0]=12,s[e+24>>2]=o+8,a[e+23|0]=2;t:{if(!(s[e+32>>2]&&s[e+36>>2])){s[e+44>>2]=5;break t}if(s[e+16>>2]=u[e+31|0]+(u[e+23|0]+4|0),i=e,d=$(s[e+16>>2]),s[i+12>>2]=d,!s[e+12>>2]){s[e+44>>2]=3;break t}s[e+8>>2]=s[e+12>>2],a[s[e+8>>2]]=u[e+30|0],s[e+8>>2]=s[e+8>>2]+1,ae(s[e+8>>2],s[e+40>>2],u[e+23|0]),s[e+8>>2]=u[e+23|0]+s[e+8>>2],s[e+4>>2]=u[e+31|0],t=s[e+8>>2],n=u[e+4|0]|u[e+5|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+6|0],s[e+8>>2]=s[e+8>>2]+3,ae(s[e+8>>2],s[e+24>>2],u[e+31|0]),s[s[e+32>>2]>>2]=s[e+16>>2],s[s[e+36>>2]>>2]=s[e+12>>2],s[e+44>>2]=0}T=e+48|0,s[o+12>>2]=s[e+44>>2]}return T=o+16|0,s[o+12>>2]}function A(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,a=0,i=0,l=0;a=T+-64|0,T=a,o=1;e:{if(j(e,t,0)||(o=0,!t))break e;r=T+-64|0,T=r,o=s[t>>2],i=s[o-4>>2],l=s[o-8>>2],s[r+20>>2]=0,s[r+16>>2]=1084,s[r+12>>2]=t,s[r+8>>2]=1132,o=0,ie(r+24|0,39),t=t+l|0;t:{if(j(i,1132,0)){s[r+56>>2]=1,Se[s[s[i>>2]+20>>2]](i,r+8|0,t,t,1,0),o=s[r+32>>2]==1?t:0;break t}Se[s[s[i>>2]+24>>2]](i,r+8|0,t,1,0);n:switch(s[r+44>>2]){case 0:o=s[r+48>>2]==1&&s[r+36>>2]==1&&s[r+40>>2]==1?s[r+28>>2]:0;break t;case 1:break n;default:break t}if(s[r+48>>2]|s[r+36>>2]!=1|s[r+40>>2]!=1&&s[r+32>>2]!=1)break t;o=s[r+24>>2]}if(T=r- -64|0,t=o,o=0,!t)break e;ie(a+8|4,52),s[a+56>>2]=1,s[a+20>>2]=-1,s[a+16>>2]=e,s[a+8>>2]=t,Se[s[s[t>>2]+28>>2]](t,a+8|0,s[n>>2],1),e=s[a+32>>2],(e|0)==1&&(s[n>>2]=s[a+24>>2]),o=(e|0)==1}return e=o,T=a- -64|0,e|0}function F(e,t,n){var r=0,o=0,a=0,i=0;if(r=e+4|0,o=(r+t|0)-1&0-t,t=s[e>>2],o+n>>>0<=(t+e|0)-4>>>0){a=s[e+4>>2],s[a+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=a,(r|0)!=(o|0)&&(o=o-r|0,a=e-(s[e-4>>2]&-2)|0,r=o+s[a>>2]|0,s[a>>2]=r,s[(a+(r&-4)|0)-4>>2]=r,e=e+o|0,t=t-o|0,s[e>>2]=t);e:{if(n+24>>>0<=t>>>0){r=(e+n|0)+8|0,t=(t-n|0)-8|0,s[r>>2]=t,s[(r+(t&-4)|0)-4>>2]=t|1,i=r,a=s[r>>2]-8|0;t:{if(a>>>0<=127){o=(a>>>3|0)-1|0;break t}if(t=h(a),o=((a>>>29-t^4)-(t<<2)|0)+110|0,a>>>0<=4095)break t;t=((a>>>30-t^2)-(t<<1)|0)+71|0,o=t>>>0<63?t:63}t=o,o=t<<4,s[i+4>>2]=o+1376,o=o+1384|0,s[r+8>>2]=s[o>>2],s[o>>2]=r,s[s[r+8>>2]+4>>2]=r,o=s[603],r=t&31,(t&63)>>>0>=32?(t=1<<r,i=0):(t=(1<<r)-1&1>>>32-r,i=1<<r),s[602]=i|s[602],s[603]=t|o,t=n+8|0,s[e>>2]=t,s[((t&-4)+e|0)-4>>2]=t;break e}s[(e+t|0)-4>>2]=t}e=e+4|0}else e=0;return e}function O(e){var t=0,n=0,r=0,o=0,a=0;if(e){n=e-4|0,o=s[n>>2],r=o,t=n,a=s[e-8>>2],e=a&-2,(e|0)!=(a|0)&&(t=n-e|0,r=s[t+4>>2],s[r+8>>2]=s[t+8>>2],s[s[t+8>>2]+4>>2]=r,r=e+o|0),e=n+o|0,n=s[e>>2],(n|0)!=s[(e+n|0)-4>>2]&&(o=s[e+4>>2],s[o+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=o,r=r+n|0),s[t>>2]=r,s[((r&-4)+t|0)-4>>2]=r|1,a=t,r=s[t>>2]-8|0;e:{if(r>>>0<=127){e=(r>>>3|0)-1|0;break e}if(o=h(r),e=((r>>>29-o^4)-(o<<2)|0)+110|0,r>>>0<=4095)break e;e=((r>>>30-o^2)-(o<<1)|0)+71|0,e=e>>>0<63?e:63}n=e<<4,s[a+4>>2]=n+1376,n=n+1384|0,s[t+8>>2]=s[n>>2],s[n>>2]=t,s[s[t+8>>2]+4>>2]=t,n=s[603],t=e&31,(e&63)>>>0>=32?(e=1<<t,t=0):(e=(1<<t)-1&1>>>32-t,t=1<<t),s[602]=t|s[602],s[603]=e|n}}function B(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,i=0;r=T-48|0,T=r,s[r+40>>2]=e,s[r+36>>2]=t,s[r+32>>2]=n;e:{if(!(s[r+32>>2]&&s[r+36>>2])){s[r+44>>2]=5;break e}if(d[r+40>>2]>4){s[r+44>>2]=8;break e}if(s[r+28>>2]=5,o=r,i=$(s[r+28>>2]),s[o+24>>2]=i,!s[r+24>>2]){s[r+44>>2]=3;break e}s[r+20>>2]=s[r+24>>2],a[r+19|0]=3,a[s[r+20>>2]]=u[r+19|0],s[r+20>>2]=s[r+20>>2]+1,s[r+12>>2]=1,e=s[r+20>>2],t=u[r+12|0]|u[r+13|0]<<8,a[e|0]=t,a[e+1|0]=t>>>8,a[e+2|0]=u[r+14|0],s[r+20>>2]=s[r+20>>2]+3,a[r+11|0]=s[r+40>>2],a[s[r+20>>2]]=u[r+11|0],s[s[r+36>>2]>>2]=s[r+24>>2],s[s[r+32>>2]>>2]=s[r+28>>2],s[r+44>>2]=0}return T=r+48|0,s[r+44>>2]}function W(e,t,n,r,o){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,j(e,s[t+8>>2],o)){se(t,n,r);return}e:{if(j(e,s[t>>2],o)){if(!(s[t+20>>2]!=(n|0)&&s[t+16>>2]!=(n|0))){if((r|0)!=1)break e;s[t+32>>2]=1;return}s[t+32>>2]=r;t:{if(s[t+44>>2]==4)break t;if(l[t+52>>1]=0,e=s[e+8>>2],Se[s[s[e>>2]+20>>2]](e,t,n,n,1,o),u[t+53|0]){if(s[t+44>>2]=3,!u[t+52|0])break t;break e}s[t+44>>2]=4}if(s[t+20>>2]=n,s[t+40>>2]=s[t+40>>2]+1,s[t+36>>2]!=1|s[t+24>>2]!=2)break e;a[t+54|0]=1;return}e=s[e+8>>2],Se[s[s[e>>2]+24>>2]](e,t,n,r,o)}}function q(e,t,n,r,o){var a=0;a=T-32|0,T=a,s[a+24>>2]=e,s[a+20>>2]=t,s[a+16>>2]=n,s[a+12>>2]=r,s[a+8>>2]=o;e:{if(d[a+16>>2]<1){s[a+28>>2]=9;break e}if(s[s[a+8>>2]>>2]=s[a+16>>2]-1,d[s[a+20>>2]>>2]<d[s[a+8>>2]>>2]){s[a+28>>2]=1;break e}if(e=$(s[s[a+8>>2]>>2]),s[s[a+12>>2]>>2]=e,!s[s[a+12>>2]>>2]){s[a+28>>2]=3;break e}ae(s[s[a+12>>2]>>2],s[s[a+24>>2]>>2],s[s[a+8>>2]>>2]),e=s[a+24>>2],s[e>>2]=s[s[a+8>>2]>>2]+s[e>>2],e=s[a+20>>2],s[e>>2]=s[e>>2]-s[s[a+8>>2]>>2],s[a+28>>2]=0}return T=a+32|0,s[a+28>>2]}function U(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,i=0;r=T-32|0,T=r,l[r+26>>1]=e,s[r+20>>2]=t,s[r+16>>2]=n,s[s[r+16>>2]>>2]=3,o=r,i=$(s[s[r+16>>2]>>2]),s[o+12>>2]=i;e:{if(!s[r+12>>2]){s[r+28>>2]=3;break e}s[s[r+20>>2]>>2]=s[r+12>>2],a[r+11|0]=14,a[s[r+12>>2]]=u[r+11|0],s[r+12>>2]=s[r+12>>2]+1,e=s[r+12>>2],t=u[r+26|0]|u[r+27|0]<<8,a[e|0]=t,a[e+1|0]=t>>>8,s[r+28>>2]=0}return T=r+32|0,s[r+28>>2]}function V(e,t){var n=0;for(n=T-16|0,T=n,s[n+12>>2]=e,s[n+8>>2]=t,s[n+4>>2]=0;;){if(d[n+4>>2]<d[n+8>>2]){s[n>>2]=s[n+12>>2]+_(s[n+4>>2],20);e:{if(!(s[s[n>>2]>>2]&15)){O(s[s[n>>2]+8>>2]);break e}t:{if((s[s[n>>2]>>2]&15)==5){O(s[s[n>>2]+8>>2]);break t}(s[s[n>>2]>>2]&15)==6&&O(s[s[n>>2]+12>>2])}}s[n+4>>2]=s[n+4>>2]+1;continue}break}O(s[n+12>>2]),T=n+16|0}function H(e,t,n,r){a[e+53|0]=1;e:{if(s[e+4>>2]!=(n|0))break e;if(a[e+52|0]=1,n=s[e+16>>2],!n){if(s[e+36>>2]=1,s[e+24>>2]=r,s[e+16>>2]=t,(r|0)!=1|s[e+48>>2]!=1)break e;a[e+54|0]=1;return}if((t|0)==(n|0)){if(n=s[e+24>>2],(n|0)==2&&(s[e+24>>2]=r,n=r),s[e+48>>2]!=1|(n|0)!=1)break e;a[e+54|0]=1;return}a[e+54|0]=1,s[e+36>>2]=s[e+36>>2]+1}}function G(e,t,n,r){var o=0;o=T-32|0,s[o+24>>2]=e,s[o+20>>2]=t,s[o+16>>2]=n,s[o+12>>2]=r,a[o+11|0]=0;e:{if(d[s[o+20>>2]>>2]<1){s[o+28>>2]=1;break e}a[o+11|0]=u[s[s[o+24>>2]>>2]],e=s[o+24>>2],s[e>>2]=s[e>>2]+1,e=s[o+20>>2],s[e>>2]=s[e>>2]-1,a[s[o+16>>2]]=(u[o+11|0]&128)==128,a[s[o+12>>2]]=u[o+11|0]&127,s[o+28>>2]=0}return s[o+28>>2]}function z(e,t,n,r,o){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,j(e,s[t+8>>2],o)){se(t,n,r);return}e:{if(!j(e,s[t>>2],o))break e;if(!(s[t+20>>2]!=(n|0)&&s[t+16>>2]!=(n|0))){if((r|0)!=1)break e;s[t+32>>2]=1;return}s[t+20>>2]=n,s[t+32>>2]=r,s[t+40>>2]=s[t+40>>2]+1,s[t+36>>2]!=1|s[t+24>>2]!=2||(a[t+54|0]=1),s[t+44>>2]=4}}function j(e,t,n){var r=0;if(!n)return s[e+4>>2]==s[t+4>>2];if((e|0)==(t|0))return 1;n=s[e+4>>2],e=u[n|0],t=s[t+4>>2],r=u[t|0];e:{if(!e|(r|0)!=(e|0))break e;for(;;){if(r=u[t+1|0],e=u[n+1|0],!e)break e;if(t=t+1|0,n=n+1|0,(e|0)!=(r|0))break}}return(e|0)==(r|0)}function K(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=9,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function Q(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=10,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function X(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=2,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function Y(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=4,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function J(e){var t=0;t=T-16|0,T=t,s[t+12>>2]=e,e=1;e:{if(ee(s[t+12>>2])&1||(e=1,s[t+12>>2]==15)||(e=1,s[t+12>>2]==13)||(e=1,s[t+12>>2]==12))break e;e=s[t+12>>2]==14}return T=t+16|0,e}function Z(e,t,n){var r=0;if(r=s[e+16>>2],!r){s[e+36>>2]=1,s[e+24>>2]=n,s[e+16>>2]=t;return}e:{if((t|0)==(r|0)){if(s[e+24>>2]!=2)break e;s[e+24>>2]=n;return}a[e+54|0]=1,s[e+24>>2]=2,s[e+36>>2]=s[e+36>>2]+1}}function ee(e){var t=0;t=T-16|0,s[t+12>>2]=e,e=1;e:{if(s[t+12>>2]==5||(e=1,s[t+12>>2]==6)||(e=1,s[t+12>>2]==7))break e;e=s[t+12>>2]==8}return e}function te(e,t,n,r,o,a){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,a=a|0,j(e,s[t+8>>2],a)){H(t,n,r,o);return}e=s[e+8>>2],Se[s[s[e>>2]+20>>2]](e,t,n,r,o,a)}function ne(){for(var e=0,t=0,n=0;t=e<<4,n=t+1376|0,s[t+1380>>2]=n,s[t+1384>>2]=n,e=e+1|0,(e|0)!=64;);M(48)}function re(e,t,n,r){if(e=e|0,t=t|0,n=n|0,r=r|0,j(e,s[t+8>>2],0)){Z(t,n,r);return}e=s[e+8>>2],Se[s[s[e>>2]+28>>2]](e,t,n,r)}function oe(e,t,n,r,o,a){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,a=a|0,j(e,s[t+8>>2],a)&&H(t,n,r,o)}function ae(e,t,n){if(n)for(;a[e|0]=u[t|0],e=e+1|0,t=t+1|0,n=n-1|0,!!n;);}function ie(e,t){if(t)for(;a[e|0]=0,e=e+1|0,t=t-1|0,!!t;);}function le(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0,j(e,s[t+8>>2],0)&&Z(t,n,r)}function se(e,t,n){s[e+28>>2]==1|s[e+4>>2]!=(t|0)||(s[e+28>>2]=n)}function ue(e,t){return e=e|0,t=t|0,_(t,20)+e|0}function ce(e){return e=e|0,c[e+8>>1]>>>1|0}function de(e){return e=e|0,l[e+8>>1]&1}function me(e){return e=e|0,s[e+12>>2]}function pe(e){return e=e|0,s[e>>2]&15}function _e(e){return e=e|0,s[e+16>>2]}function fe(e){return e=e|0,c[e+4>>1]}function ge(e){return e=e|0,s[e+8>>2]}function he(e){return e=e|0,u[e+4|0]}function ye(e){return e=e|0,e|0}function Ce(e){return $(e)}function be(e){e=e|0,O(e)}function ve(e){e=e|0}n=u,i(t);var Se=e([null,ye,be,ve,ve,A,oe,z,le,be,te,W,re]);function Re(){return o.byteLength/65536|0}function Le(e){e=e|0;var t=Re()|0,i=t+e|0;if(t<i&&i<65536){var f=new ArrayBuffer(_(i,65536)),g=new Int8Array(f);g.set(a),a=new Int8Array(f),l=new Int16Array(f),s=new Int32Array(f),u=new Uint8Array(f),c=new Uint16Array(f),d=new Uint32Array(f),m=new Float32Array(f),p=new Float64Array(f),o=f,r.buffer=o,n=u}return t}return{c:ne,d:Ce,e:be,f:X,g:Y,h:B,i:N,j:U,k:P,l:w,m:K,n:Q,o:x,p:pe,q:he,r:ue,s:fe,t:ge,u:me,v:me,w:_e,x:ce,y:de,z:ce,A:Se}}return l(t)})(he)},instantiate:function(t,n){return{then:function(n){var e=new S.Module(t);n({instance:new S.Instance(e)})}}},RuntimeError:Error};b=[],typeof S!="object"&&ne("no native wasm support detected");var R,L=!1,E;function k(e,t){e||ne("Assertion failed: "+t)}function I(e,t){return e%t>0&&(e+=t-e%t),e}var T,D,x,$,P,N,M,w,A;function F(e){T=e,t.HEAP8=D=new Int8Array(e),t.HEAP16=$=new Int16Array(e),t.HEAP32=N=new Int32Array(e),t.HEAPU8=x=new Uint8Array(e),t.HEAPU16=P=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=w=new Float32Array(e),t.HEAPF64=A=new Float64Array(e)}var O=t.INITIAL_MEMORY||2097152;t.wasmMemory?R=t.wasmMemory:R=new S.Memory({initial:O/65536,maximum:32768}),R&&(T=R.buffer),O=T.byteLength,F(T);var B,W=[],q=[],U=[],V=!1;function H(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)j(t.preRun.shift());ue(W)}function G(){V=!0,ue(q)}function z(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Q(t.postRun.shift());ue(U)}function j(e){W.unshift(e)}function K(e){q.unshift(e)}function Q(e){U.unshift(e)}if((!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(t,n){var e=t>>>16,r=t&65535,o=n>>>16,a=n&65535;return r*a+(e*a+r*o<<16)|0}),!Math.fround){var X=new Float32Array(1);Math.fround=function(e){return X[0]=e,X[0]}}Math.clz32||(Math.clz32=function(e){var t=32,n=e>>16;return n&&(t-=16,e=n),n=e>>8,n&&(t-=8,e=n),n=e>>4,n&&(t-=4,e=n),n=e>>2,n&&(t-=2,e=n),n=e>>1,n?t-2:t-e}),Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)});var Y=0,J=null,Z=null;function ee(e){Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y)}function te(e){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),Y==0&&(J!==null&&(clearInterval(J),J=null),Z)){var n=Z;Z=null,n()}}t.preloadedImages={},t.preloadedAudios={};function ne(e){t.onAbort&&t.onAbort(e),e+="",C(e),L=!0,E=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var n=new S.RuntimeError(e);throw o(n),n}var re="data:application/octet-stream;base64,";function oe(e){return e.startsWith(re)}var ae="dgwcppbridge.wasm";oe(ae)||(ae=p(ae));function ie(e){try{if(e==ae&&b)return new Uint8Array(b);var t=ge(e);if(t)return t;if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}function le(){return!b&&(c||d)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()}).catch(function(){return ie(ae)}):n.resolve().then(function(){return ie(ae)})}function se(){var e={a:he};function n(e,n){var r=e.exports;t.asm=r,B=t.asm.A,K(t.asm.c),te("wasm-instantiate")}ee("wasm-instantiate");function r(e){n(e.instance)}function a(t){return le().then(function(t){var n=S.instantiate(t,e);return n}).then(t,function(e){C("failed to asynchronously prepare wasm: "+e),ne(e)})}function i(){return!b&&typeof S.instantiateStreaming=="function"&&!oe(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(t){var n=S.instantiateStreaming(t,e);return n.then(r,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),a(r)})}):a(r)}if(t.instantiateWasm)try{var l=t.instantiateWasm(e,n);return l}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}return i().catch(o),{}}function ue(e){for(;e.length>0;){var n=e.shift();if(typeof n=="function"){n(t);continue}var r=n.func;typeof r=="number"?n.arg===void 0?B.get(r)():B.get(r)(n.arg):r(n.arg===void 0?null:n.arg)}}function ce(e){try{return R.grow(e-T.byteLength+65535>>>16),F(R.buffer),1}catch(e){}}function de(e){var t=x.length;e=e>>>0;var n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var a=Math.min(n,I(Math.max(e,o),65536)),i=ce(a);if(i)return!0}return!1}var me=!1;function pe(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}var _e=typeof atob=="function"?atob:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,a,i,l,s,u,c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),s=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=i<<2|l>>4,o=(l&15)<<4|s>>2,a=(s&3)<<6|u,n=n+String.fromCharCode(r),s!==64&&(n=n+String.fromCharCode(o)),u!==64&&(n=n+String.fromCharCode(a));while(c<e.length);return n};function fe(e){try{for(var t=_e(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function ge(e){if(oe(e))return fe(e.slice(re.length))}var he={b:de,a:R},ye=se(),Ce=t.___wasm_call_ctors=function(){return(Ce=t.___wasm_call_ctors=t.asm.c).apply(null,arguments)},be=t.__malloc=function(){return(be=t.__malloc=t.asm.d).apply(null,arguments)},ve=t.__free=function(){return(ve=t.__free=t.asm.e).apply(null,arguments)},Se=t.__DgwCodecEncodeEmpty=function(){return(Se=t.__DgwCodecEncodeEmpty=t.asm.f).apply(null,arguments)},Re=t.__DgwCodecEncodeDeauth=function(){return(Re=t.__DgwCodecEncodeDeauth=t.asm.g).apply(null,arguments)},Le=t.__DgwCodecEncodeDrain=function(){return(Le=t.__DgwCodecEncodeDrain=t.asm.h).apply(null,arguments)},Ee=t.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(Ee=t.__DgwCodecEncodeStreamGroup_EstabStream=t.asm.i).apply(null,arguments)},ke=t.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(ke=t.__DgwCodecEncodeStreamGroup_EndOfData=t.asm.j).apply(null,arguments)},Ie=t.__DgwCodecEncodeStreamGroup_Data=function(){return(Ie=t.__DgwCodecEncodeStreamGroup_Data=t.asm.k).apply(null,arguments)},Te=t.__DgwCodecEncodeStreamGroup_Ack=function(){return(Te=t.__DgwCodecEncodeStreamGroup_Ack=t.asm.l).apply(null,arguments)},De=t.__DgwCodecEncodePing=function(){return(De=t.__DgwCodecEncodePing=t.asm.m).apply(null,arguments)},xe=t.__DgwCodecEncodePong=function(){return(xe=t.__DgwCodecEncodePong=t.asm.n).apply(null,arguments)},$e=t.__DgwCodecDecode=function(){return($e=t.__DgwCodecDecode=t.asm.o).apply(null,arguments)},Pe=t.__getFrameType=function(){return(Pe=t.__getFrameType=t.asm.p).apply(null,arguments)},Ne=t.__getDrainReasonFromDrainFrame=function(){return(Ne=t.__getDrainReasonFromDrainFrame=t.asm.q).apply(null,arguments)},Me=t.__getDGWFramePtr=function(){return(Me=t.__getDGWFramePtr=t.asm.r).apply(null,arguments)},we=t.__getStreamIdFromStreamGroupFrame=function(){return(we=t.__getStreamIdFromStreamGroupFrame=t.asm.s).apply(null,arguments)},Ae=t.__getEncodedParamsFromEstablishStreamFrame=function(){return(Ae=t.__getEncodedParamsFromEstablishStreamFrame=t.asm.t).apply(null,arguments)},Fe=t.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(Fe=t.__getEncodedParamsSizeFromEstablishStreamFrame=t.asm.u).apply(null,arguments)},Oe=t.__getDataFromGroupedStreamDataFrame=function(){return(Oe=t.__getDataFromGroupedStreamDataFrame=t.asm.v).apply(null,arguments)},Be=t.__getDataSizeFromGroupedStreamDataFrame=function(){return(Be=t.__getDataSizeFromGroupedStreamDataFrame=t.asm.w).apply(null,arguments)},We=t.__getAckIdFromGroupedStreamDataFrame=function(){return(We=t.__getAckIdFromGroupedStreamDataFrame=t.asm.x).apply(null,arguments)},qe=t.__getRequiresAckFromGroupedStreamDataFrame=function(){return(qe=t.__getRequiresAckFromGroupedStreamDataFrame=t.asm.y).apply(null,arguments)},Ue=t.__getAckIdFromGroupedStreamAckFrame=function(){return(Ue=t.__getAckIdFromGroupedStreamAckFrame=t.asm.z).apply(null,arguments)},Ve;Z=function e(){Ve||He(),Ve||(Z=e)};function He(e){if(e=e||l,Y>0||(H(),Y>0))return;function n(){Ve||(Ve=!0,t.calledRun=!0,!L&&(G(),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),z()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.run=He,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return He(),t.ready})})();typeof i=="object"&&typeof a=="object"?a.exports=e:typeof define=="function"&&define.amd?define([],function(){return e}):typeof i=="object"&&(i.Module=e)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","IDGWLoggingContext","Random","URI","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=4;function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=o("Random").random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function c(e){var t=new TextDecoder,n=t.decode(e),o=r("Base64").encode(n),a=o.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return a}var d=null,m=null;function p(){return m==null&&(m=Promise.resolve().then(function(){return r("DGWCppBridge")()}).then(function(e){d=e})),m}var _=(function(){function t(){}return t.initialize=async function(){return p()},t.constructConnectUrl=function(n){var t,a,i=n.appId,l=n.appVersion,s=n.authToken,u=n.authType,d=n.deviceId,m=n.dgwVersion,p=n.endpoint,_=n.establishStreamFrame,f=n.fbId,g=n.headers,h=n.loggingId,y=n.regionHint,C=n.serviceId,b=n.tier,v=n.trafficTracing,S=(t={},t[(a=o("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=i,t[a.HEADER_CONSTANTS.HEADER_APPVERSION]=l,t[a.HEADER_CONSTANTS.HEADER_AUTHTYPE]=u,t[a.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+m,t[a.HEADER_CONSTANTS.HEADER_UUID]=f,t[a.HEADER_CONSTANTS.HEADER_TARGET_TIER]=b,t);_!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=c(_)),h!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=h),y!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=y),d!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=d),v!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.TRAFFIC_TRACING]="debug:"+v),s!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_AUTHTOKEN]=s),Object.keys(g).forEach(function(e){var t=o("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+e;Object.prototype.hasOwnProperty.call(S,t)||(S[t]=g[e])});var R=new(e||(e=r("URI")))(p);return R.setQueryData(S),R.setPath(R.getPath()+"/"+C),R.toString().length>2e3&&(delete S[o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],R.setQueryData(S)),R.toStringRawQuery()},t})(),f=(function(){function e(e,t,n){this.$1=null,this.$2=e,this.$3=t,this.$4=n}e.initialize=async function(){return p()};var t=e.prototype;return t.malloc=function(t){try{var e=d.__malloc(t);if(e===0){var n;return(n=this.$2)==null||n.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0"),-1}return e}catch(e){var a;return(a=this.$2)==null||a.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",r("getErrorSafe")(e).message),-1}},t.free=function(t){d.__free(t)},t.append=function(t){if(this.$1==null){this.$1=t;return}var e=this.$1.length,n=new Uint8Array(e+t.length);n.set(this.$1,0),n.set(t,e),this.$1=n},t.processData=function(){var e=this;if(this.$1!=null){var t=this.$1.length,n=this.malloc(t);if(n!==-1){var r=d.HEAPU8.subarray(n,n+t);if(this.$1)for(var a=0;a<r.length;++a)r[a]=this.$1[a];var i=this.malloc(s*4);if(i!==-1){var l=i,u=l+s,c=u+s,m=c+s,p=d.__DgwCodecDecode(n,t,l,u,c,m);if(this.free(n),p!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var _;this.free(i),(_=this.$2)==null||_.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(p));return}var f=d.HEAPU32.subarray(m/s,m/s+1)[0];if(this.$1==null){this.free(i);return}var g=this.$1.length-f;if(this.$1&&this.$1.length>g){var h;this.$1=new Uint8Array(((h=this.$1)==null?void 0:h.subarray(g))||[])}else this.$1=null;for(var y=d.HEAPU32.subarray(u/s,u/s+1)[0],C=d.HEAPU32.subarray(l/s,l/s+1)[0],b=[],v=function(){var t=d.__getDGWFramePtr(C,S),n=d.__getFrameType(t);switch(n){case o("DGWConstants").DgwFrameType.DgwFrameType_Drain:{var r,a=d.__getDrainReasonFromDrainFrame(t),i=o("DGWConstants").drainReasonToDrainReasonString(a);(r=e.$2)==null||r.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+i),b.push(function(){var t;return(t=e.$3)==null?void 0:t.receivedDrainSignal(i)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:{var l=d.__getStreamIdFromStreamGroupFrame(t),s=d.__getEncodedParamsFromEstablishStreamFrame(t),u=new Uint8Array(d.HEAPU8.subarray(s,s+d.__getEncodedParamsSizeFromEstablishStreamFrame(t)));e.free(s),b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamEstablishStreamReceived(l,u)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:{var c=d.__getStreamIdFromStreamGroupFrame(t),m=d.__getDataFromGroupedStreamDataFrame(t),p=new Uint8Array(d.HEAPU8.subarray(m,m+d.__getDataSizeFromGroupedStreamDataFrame(t)));e.free(m);var _=d.__getRequiresAckFromGroupedStreamDataFrame(t)?d.__getAckIdFromGroupedStreamDataFrame(t):null;b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamDataReceived(c,p,_)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:{var f=d.__getStreamIdFromStreamGroupFrame(t),g=d.__getAckIdFromGroupedStreamAckFrame(t);b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamAckReceived(f,g)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:{var h=d.__getStreamIdFromStreamGroupFrame(t);b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamEndOfDataReceived(h)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_Ping:{b.push(function(){var t;return(t=e.$3)==null?void 0:t.onPingReceived()});break}case o("DGWConstants").DgwFrameType.DgwFrameType_Pong:{b.push(function(){var t;return(t=e.$3)==null?void 0:t.onPongReceived()});break}default:break}e.free(t)},S=0;S<y;++S)v();this.free(i);for(var R=0;R<b.length;R++)b[R]()}}}},t.encodeData=function(t,n,r,a){var e=this.malloc(t.length);if(e===-1)return null;for(var i=d.HEAPU8.subarray(e,e+t.length),l=0;l<i.length;++l)i[l]=t[l];var u=this.malloc(s*2),c=u,m=u+s,p=d.__DgwCodecEncodeStreamGroup_Data(a,e,i.length,n,r,c,m);if(this.free(e),p!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var _;return(_=this.$2)==null||_.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(p)),null}var f=d.HEAPU32.subarray(c/s,c/s+1)[0],g=d.HEAPU32.subarray(m/s,m/s+1)[0],h=new Uint8Array(d.HEAPU8.subarray(f,f+g));return this.free(f),this.free(u),h},t.encodeAck=function(t,n){var e=this.malloc(s*2);if(e===-1)return null;var r=e,a=e+s,i=d.__DgwCodecEncodeStreamGroup_Ack(n,t,r,a);if(i!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var l;return(l=this.$2)==null||l.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(i)),null}var u=d.HEAPU32.subarray(r/s,r/s+1)[0],c=d.HEAPU32.subarray(a/s,a/s+1)[0],m=new Uint8Array(d.HEAPU8.subarray(u,u+c));return this.free(u),this.free(e),m},t.encodeDrain=function(t){var e=this.malloc(s*2);if(e===-1)return null;var n=e,r=e+s,a=d.__DgwCodecEncodeDrain(t,n,r);if(a!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var i;return(i=this.$2)==null||i.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(a)),null}var l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=d.HEAPU32.subarray(r/s,r/s+1)[0],c=new Uint8Array(d.HEAPU8.subarray(l,l+u));return this.free(l),this.free(e),c},t.encodeEstablishStream=function(t,n){var e=this.malloc(n.length);if(e===-1)return null;for(var r=d.HEAPU8.subarray(e,e+n.length),a=0;a<n.length;++a)r[a]=n[a];var i=this.malloc(s*2),l=i,u=i+s,c=d.__DgwCodecEncodeStreamGroup_EstabStream(t,e,n.length,l,u);if(this.free(e),c!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var m;return(m=this.$2)==null||m.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(c)+" for StreamId "+t),null}var p=d.HEAPU32.subarray(l/s,l/s+1)[0],_=d.HEAPU32.subarray(u/s,u/s+1)[0],f=new Uint8Array(d.HEAPU8.subarray(p,p+_));return this.free(p),this.free(i),f},t.encodeEndOfData=function(t){var e=this.malloc(s*2);if(e===-1)return null;var n=e,r=e+s,a=d.__DgwCodecEncodeStreamGroup_EndOfData(t,n,r);if(a!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var i;return(i=this.$2)==null||i.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(a)),null}var l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=d.HEAPU32.subarray(r/s,r/s+1)[0],c=new Uint8Array(d.HEAPU8.subarray(l,l+u));return this.free(l),this.free(e),c},t.encodePing=function(){var e=this.malloc(s*2);if(e===-1)return null;var t=e,n=e+s,r=d.__DgwCodecEncodePing(t,n);if(r!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var a;return(a=this.$2)==null||a.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(r)),null}var i=d.HEAPU32.subarray(t/s,t/s+1)[0],l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=new Uint8Array(d.HEAPU8.subarray(i,i+l));return this.free(i),this.free(e),u},t.encodePong=function(){if(this.$5!=null)return this.$5;var e=this.malloc(s*2);if(e===-1)return null;var t=e,n=e+s,r=d.__DgwCodecEncodePong(t,n);if(r!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var a;return(a=this.$2)==null||a.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(r)),null}var i=d.HEAPU32.subarray(t/s,t/s+1)[0],l=d.HEAPU32.subarray(n/s,n/s+1)[0],u=new Uint8Array(d.HEAPU8.subarray(i,i+l));return this.free(i),this.free(e),this.$5=u,u},e})();l.uuidv4=u,l.Uint8ArrayToBase64UrlStr=c,l.DGWUtils=_,l.DGWCodec=f}),98);
__d("DGWExponentialBackoff",[],(function(t,n,r,o,a,i){"use strict";var e={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},l=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.errors=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));async function s(t,n){n===void 0&&(n=e);try{return await u(t,n)}catch(e){throw e.errors[e.errors.length-1]}}async function u(e,t){for(var n=0,r=[],o=t.baseRetryInterval,a=t.backoffFactor;n<=t.maxRetries;){try{var i=await e();return i}catch(e){r.push(e)}await c(o*Math.pow(a,n)),++n}throw new l("Max call count exceeded",r)}async function c(e){await new Promise(function(t){return window.setTimeout(t,e)})}i.callWithExponentialBackoff=s}),66);
__d("DGWPinger",["IDGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r){this.$1=e,this.$4=t,this.$5=n,this.$6=r,this.$3=!1}var t=e.prototype;return t.$7=function(){var e=this;this.$3?(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.reset"),this.$3=!1,this.$4(),this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"timeout.newtimeout"),this.$2=window.setTimeout(function(){e.$7()},this.$1)):(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5())},t.reset=function(){var e=this;this.$3=!0,this.$2&&(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null),this.$1>0&&(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){e.$7()},this.$1))},t.cancel=function(){this.$2&&(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)},e})();l.DGWPinger=e}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8,TRANSPORT_NORMAL_CLOSURE:9});function l(t){switch(t){case e.TRANSPORT_SERVER_INTERNAL_ERROR:return"TRANSPORT_SERVER_INTERNAL_ERROR";case e.TRANSPORT_ABNORMAL_CLOSURE:return"TRANSPORT_ABNORMAL_CLOSURE";case e.TRANSPORT_GOING_AWAY:return"TRANSPORT_GOING_AWAY";case e.TRANSPORT_UNKNOWN_ERROR:return"TRANSPORT_UNKNOWN_ERROR";case e.TRANSPORT_KEEPALIVE_TIMEOUT:return"TRANSPORT_KEEPALIVE_TIMEOUT";case e.TRANSPORT_UNAUTHORIZED:return"TRANSPORT_UNAUTHORIZED";case e.TRANSPORT_REJECTED:return"TRANSPORT_REJECTED";case e.TRANSPORT_BAD_REQUEST:return"TRANSPORT_BAD_REQUEST";case e.TRANSPORT_DGW_SERVER_ERROR:return"TRANSPORT_DGW_SERVER_ERROR";case e.TRANSPORT_NORMAL_CLOSURE:return"TRANSPORT_NORMAL_CLOSURE"}}function s(t){switch(t){case e.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}var u=(function(){function e(){}var t=e.prototype;return t.onStreamGroupError=function(){},t.onStreamGroupMustDrain=function(){},t.onStreamGroupTransportClose=function(){},e})();i.DGWStreamGroupError=e,i.dgwStreamGroupErrorToString=l,i.isRetryableError=s,i.NoOpDGWStreamGroupCallbacks=u}),66);
__d("DGWTransportEvents",["IDGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$3=e}var t=e.prototype;return t.transportEstablished=function(t){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open",t),this.$2=Date.now(),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")},t.transportPingSent=function(t){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Ping Frame Sent",t,!0)},t.transportPongReceived=function(t){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Pong Frame Received",t,!0)},t.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")},t.transportClosed=function(t,n,r){this.$4=Date.now(),t?(this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",n,r))},t.transportEstablishmentFailure=function(t){this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+t.code+" reason: "+t.reason+" wasClean: "+String(t.wasClean)),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")},t.streamEstablishmentTimeout=function(t,n,r){this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",t,"streamId:"+n,!1,r,!0),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")},t.streamEstablishmentPending=function(t,n){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+t,!0,n),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")},t.streamEstablishmentSuccess=function(t,n){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+t,!0,n),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")},t.transportError=function(t,n,r){this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,t,n,r)},t.receivedFrameForInactiveStream=function(t,n,r){this.$3.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+t+", streamID: "+n,r)},t.ranOutOfStreamIds=function(t){this.$3.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",t)},e})();l.DGWTransportEvents=e}),98);
__d("DGWWebSocketTransport",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new WebSocket(e);return t.binaryType="arraybuffer",t.onopen=function(){},t.onclose=function(){},t.onerror=function(){},t}i.getWebSocketConnection=e}),66);
__d("DGWStreamEvents",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n){this.$4=new Map,this.$5=new Map,this.$6=e,this.$1=t,n!=null&&(this.$8="streamId:"+n+"::")}var t=e.prototype;return t.dataSent=function(t,n,r){var e,o=n?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,o,((e=this.$8)!=null?e:"")+"sendId:"+r+", payloadSize:"+t,!0),this.$4.set(r,{ackRequested:n,payloadSize:t,sendTimestamp:Date.now()})},t.ackReceived=function(t){var e;this.$6.logEvent(this.$1,"AckReceived",((e=this.$8)!=null?e:"")+"sendId:"+t,!0),this.$6.bumpODSKey(this.$1,"ack_received");var n=this.$4.get(t);n!=null&&(n.ackReceivedTimestamp=Date.now())},t.ackSent=function(t){var e;this.$6.bumpODSKey(this.$1,"ack_sent"),this.$6.logEvent(this.$1,"ACK sent",((e=this.$8)!=null?e:"")+"ackId:"+t,!0)},t.drainSent=function(t){var e;this.$6.logEvent(this.$1,"Drain sent",((e=this.$8)!=null?e:"")+"drainReason: "+t)},t.dataReceived=function(t,n,r){var e;this.$6.bumpODSKey(this.$1,"data_received"),this.$6.logEvent(this.$1,"Data received",((e=this.$8)!=null?e:"")+"sendId:"+(r!=null?r:"null")+", ackRequested:"+n.toString()+", payloadSize:"+t,!0),r!=null&&this.$5.set(r,{ackRequested:n,payloadSize:t,receiveTimestamp:Date.now()})},t.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)},t.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)},t.streamClosed=function(t,n){this.$7=Date.now();var e=this.$9();if(t){var r;this.$6.bumpODSKey(this.$1,"stream_closed_gracefully"),this.$6.logEvent(this.$1,"Stream closed gracefully",""+((r=this.$8)!=null?r:"")+e)}else{var o;this.$6.bumpODSKey(this.$1,"stream_closed_with_error"),this.$6.logError(this.$1,"Stream closed abnormally",n,""+((o=this.$8)!=null?o:"")+e)}},t.connectionEstablishmentFailure=function(t){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+t)},t.streamEstablishmentFailure=function(t,n){var e;this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+t.toString(),""+((e=this.$8)!=null?e:"")+n),this.$6.bumpODSKey(this.$1,"stream_establishment_failure")},t.error=function(t,n){var e={msg:n,state:this.$9()};this.$6.logError(this.$1,t,JSON.stringify(e),this.$8)},t.$9=function(){var e={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(e)},e})();i.DGWStreamEvents=e}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWStream","DGWStreamEvents","IDGWLoggingContext","Random"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,a,i,l){this.$1=e,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=t,this.$7=n,this.$8=r,this.$2=i,this.$9=a,this.$10=new(o("DGWAckManager")).DGWAckManager(this.$9),this.$12=new(o("DGWStreamEvents")).DGWStreamEvents(this.$9,o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=l,this.$14=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),this.$9.qplMarkerStart(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,this.$14)}var t=e.prototype;return t.send=async function(t,n){var e=this.$11++%o("DGWConstants").MAX_ACK_ID,r=this.$15(t,!0,e);if(!this.$16(r,!0,e))return!1;var a=await this.$10.waitForAck(e,n!=null?n:o("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return a},t.sendFrame=async function(t,n,r){var e=this.$11++%o("DGWConstants").MAX_ACK_ID,a=this.$15(n,!0,e);if(a==null)return!1;var i=new Uint8Array(t.length+a.length);if(i.set(t),i.set(a,t.length),!this.$16(i,!0,e))return!1;var l=await this.$10.waitForAck(e,r!=null?r:o("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return this.__markerPoint(l?"ack_recevied":"ack_timeout"),l||(this.__endMarker(o("IDGWLoggingContext").QPLResult.FAIL),Promise.reject(o("DGWStream").StreamError.ACK_TIMEOUT))},t.sendAndForget=function(t){var e=this.$15(t,!1,0);return this.$16(e,!1,0)},t.sendFrameAndForget=function(t,n){var e=this.$15(n,!1,0);if(e==null)return!1;var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),this.$16(r,!1,0)},t.close=function(){var e=this.$2.encodeEndOfData(this.$1);if(e==null){this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}var t=this.$8.send(e);if(!t){this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent(),this.$5=!0,this.$4&&this.$17()},t.loggingContext=function(){return this.$9},t.__sendDrain=function(t){var e=o("DGWConstants").drainReasonToDrainReasonString(t);if(this.$5)return!1;var n=this.$2.encodeDrain(t);if(n==null)return!1;this.$12.drainSent(e);var r=this.$8.send(n);return r},t.__transportCloseHook=function(t){this.$13(),this.$10.clearPendingAcks(),t?(this.$12.error("Received StreamError","StreamErrorType: "+t),this.$6.onError(t)):this.$5&&this.$4?this.$17():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(o("DGWStream").StreamError.PREMATURE_CLOSE))},t.$17=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)},t.__dataReceivedHook=function(t,n){this.$12.dataReceived(t.length,n!=null,n),n!=null&&this.$18(n),this.$6.onDataReceived(t)},t.__ackReceivedHook=function(t){this.$12.ackReceived(t),this.$10.handleAckReceived(t)},t.__drainReceivedHook=function(t){this.$3===!1&&(this.$6.onStreamMustDrain(this,t),this.$3=!0)},t.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$17():this.$6.onServerHasFinishedSendingData(this)},t.__markerPoint=function(t){this.$9.qplMarkerPoint(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,t,this.$14)},t.__markerAnnotate=function(t){this.$9.qplMarkerAnnotate(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,t,this.$14)},t.__endMarker=function(t){this.$9.qplMarkerEnd(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,t,this.$14)},t.$15=function(t,n,r){return this.$2.encodeData(t,n,r,this.$1)},t.$16=function(t,n,r){if(this.__markerPoint("send_data_start"),this.$5)return this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally"),!1;if(t==null)return!1;var e=this.$8.send(t);return e?(this.__markerPoint("send_data_end"),this.$12.dataSent(t.length,n,r),!0):(this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString()),!1)},t.$18=function(t){var e=this.$2.encodeAck(t,this.$1);if(e==null)return this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+t),!1;var n=this.$8.send(e);return n?(this.$12.ackSent(t),!0):(this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+t),!1)},e})();l.GroupedStream=e}),98);
__d("NoOpDGWLoggingContext",["IDGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.streamRequested=function(t){},t.streamClosed=function(t){},t.tabClosed=function(){},t.getGlobalState=function(){return{realtime:0,lightspeed:0}},e})(),s=new e,u=(function(){function e(){this.sgTransportId=null}var t=e.prototype;return t.getGlobalLogger=function(){return s},t.bumpODSKey=function(t,n,r){},t.logEvent=function(t,n,r,o,a){},t.logError=function(t,n,r,o,a,i,l){},t.logWarn=function(t,n,r,o,a){},t.qplMarkerStart=function(t,n){},t.qplMarkerEnd=function(t,n,r){},t.qplMarkerPoint=function(t,n,r){},t.qplMarkerAnnotate=function(t,n,r){},e})();l.DGWLoggingComponent=o("IDGWLoggingContext").DGWLoggingComponent,l.QPLEvent=o("IDGWLoggingContext").QPLEvent,l.QPLResult=o("IDGWLoggingContext").QPLResult,l.NoOpDGWLoggingContext=u,l.DGWLoggingContext=u}),98);
__d("StreamIdGenerator",["err"],(function(t,n,r,o,a,i,l){"use strict";var e=65535,s=(function(){function t(){this.$1=new Set,this.$2=0}var n=t.prototype;return n.getNextStreamId=function(){var t;if(!this.streamIdAvailable())throw r("err")("Max number of stream IDs reached");if(this.$2<=e)return this.$2++;var n=(t=this.$1.values().next().value)!=null?t:0;return this.$1.delete(n),n},n.putBackStreamId=function(t){this.$1.add(t)},n.streamIdAvailable=function(){return this.$1.size>0||this.$2<=e},t})();l.MAX_STREAM_ID=e,l.StreamIdGeneratorImpl=s}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","IDGWLoggingContext","NoOpDGWLoggingContext","Random","Run","StreamIdGenerator","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=!1,s=function(t,n,r,a,i){var e=this;this.groupedStream=t,this.$1=window.setTimeout(function(){r(o("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},a),this.handleEstablishFrameReceived=function(){window.clearTimeout(e.$1),n(e.groupedStream)},this.abortStream=function(e){i(),r(e)}},u=(function(){function e(t,n,a,i,l,s,u,c,d){var m=this,p;this.$18=-1,this.$15=l,this.$17=this.__getStreamIdGenerator(),this.$5=new Map,this.$6=new Map,this.$7=i.keepAliveMs,this.$8=!1,this.$9=!1,this.$3=!0,this.$4=!1,this.$20=!1,this.$21=!1,this.$13=a,this.$11=new TextEncoder,this.$12=new TextDecoder,this.$14=i;var _={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(t){m.$9||(m.$9=!0,m.$15(),m.$13.transportClosed(!0,""),m.$14.streamGroupCallbacks.onStreamGroupMustDrain(t),m.$5.forEach(function(e){e.__drainReceivedHook(t)}),m.onClose(o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE))},onGroupedStreamDataReceived:function(t,n,r){if(m.$5.has(t)){var e=m.$5.get(t);e==null||e.__dataReceivedHook(n,r)}else m.$13.receivedFrameForInactiveStream("Data",t,"sendAckID: "+(r!=null?r:"null"))},onGroupedStreamAckReceived:function(t,n){if(m.$5.has(t)){var e=m.$5.get(t);e==null||e.__ackReceivedHook(n)}else m.$13.receivedFrameForInactiveStream("ACK",t,"ackId: "+(n!=null?n:"null"))},onGroupedStreamEndOfDataReceived:function(t){if(m.$5.has(t)){var e=m.$5.get(t);e==null||e.__endOfDataHook()}else m.$13.receivedFrameForInactiveStream("EndOfData",t)},onGroupedStreamEstablishStreamReceived:function(t,n){if(m.$6.has(t)){var e=m.$6.get(t);m.$6.delete(t);var r=JSON.parse(m.$12.decode(n));(r.code===void 0||r.code!==200)&&(e==null||e.abortStream(o("DGWStream").StreamError.ABNORMAL_CLOSURE)),e==null||e.handleEstablishFrameReceived()}else m.$13.receivedFrameForInactiveStream("EstablishStream",t,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var e=m.$2.encodePing();e!=null&&m.send(e)},onPongReceived:function(){m.$3=!1,m.$21||(m.$21=!0,m.__markerPoint("auth_success")),m.$13.transportPongReceived("readyState:"+m.$1.readyState+", bufferedAmount:"+m.$1.bufferedAmount)}};this.$2=new(o("DGWUtils")).DGWCodec(s,_,i.dgwVersion),this.$19=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),this.$22=s.getGlobalLogger(),this.$23=(p=i.connectTimeoutMs)!=null?p:2e4,this.$24=s,this.$25=d;var f=o("Run").onUnload(function(){m.$22.tabClosed()});if(i.enableFirstStreamOnWsHandshake){var g,h,y,C;if(u===void 0)throw r("err")("Missing grouped stream options");if(c===void 0)throw r("err")("Missing grouped stream callbacks");var b=this.$17.getNextStreamId(),v=this.createEstablishStreamFrame(b,u),S=o("DGWUtils").DGWUtils.constructConnectUrl({appId:i.appId,appVersion:i.appVersion,authType:i.authType,deviceId:(g=i.deviceId)!=null?g:void 0,dgwVersion:i.dgwVersion,fbId:i.fbId,tier:i.tier,loggingId:(h=i.loggingId)!=null?h:void 0,headers:e.__prefixAppHeaders(i.headers),endpoint:i.connectEndpoint,serviceId:i.serviceId,regionHint:(y=i.regionHint)!=null?y:void 0,establishStreamFrame:v,authToken:(C=i.authToken)!=null?C:void 0});if(this.$1=n(S),!S.includes(o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;var R=this.$25!=null?this.$25(u.loggingId,u.disableFalcoLogging):new(o("NoOpDGWLoggingContext")).NoOpDGWLoggingContext,L=this.__createGroupedStream(b,c,u,R);this.$16=this.waitForEstablishStream(b,L,u,function(e){m.$5.set(b,e)},function(){m.$17.putBackStreamId(b)})}else this.$1=n(t);this.$22.streamRequested(i.serviceId),this.$24.qplMarkerStart(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,this.$19),this.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId}})}var t=e.prototype;return t.send=function(t){try{return this.$1.send(t),!0}catch(e){return this.$13.transportError("Failed to send over transport","readyState: "+this.$1.readyState,r("getErrorSafe")(e).message),!1}},t.close=function(){var e;this.$22.streamClosed(this.$14.serviceId),this.__markerPoint("teardown"),this.$8=!0,(e=this.$10)==null||e.cancel(),this.$1.onopen=function(e){},this.$1.onmessage=function(e){},this.$1.onerror=function(e){},this.$1.onclose=function(e){},this.$15(),this.$1.close()},t.onClose=function(t){var e;this.$22.streamClosed(this.$14.serviceId),this.__markerPoint("abort"),this.__markerAnnotate({int:{abort_code:t}}),this.$8=!0,(e=this.$10)==null||e.cancel(),this.$1.close(t)},t.abort=function(t,n,r,o,a){this.$8||(this.$22.streamClosed(this.$14.serviceId),this.$8=!0,this.$13.transportClosed(!1,o,a),this.$5.forEach(function(e){e.__transportCloseHook(n)}),this.$6.forEach(function(e){e.abortStream(n)}),this.$14.streamGroupCallbacks.onStreamGroupError(t),this.$5.clear(),this.$6.clear(),this.$15(),this.onClose(r))},e.getTransportWithInitialStream=async function(n,r,a,i,l,s,u){await o("DGWUtils").DGWCodec.initialize();var t=new(o("DGWTransportEvents")).DGWTransportEvents(i);t.transportEstablishmentPending();var c=function(){return e.$26("",a,t,l,i,n,r,u)};try{var d=await o("DGWExponentialBackoff").callWithExponentialBackoff(c,s),m=u!=null?u(n.loggingId,n.disableFalcoLogging):new(o("NoOpDGWLoggingContext")).NoOpDGWLoggingContext,p=d.$16!=null?d.$16:d.establishGroupedStream(r,n,m);return{transport:d,streamPromise:p}}catch(e){throw e}},e.getTransport_DEPRECATED=async function(n,r,a,i,l,s){await o("DGWUtils").DGWCodec.initialize();var t=new(o("DGWTransportEvents")).DGWTransportEvents(a);t.transportEstablishmentPending();var u=function(){return e.$26(n,r,t,i,a,void 0,void 0,s)};try{return await o("DGWExponentialBackoff").callWithExponentialBackoff(u,l)}catch(e){throw e}},t.establishGroupedStream=async function(t,n,a,i,l,s){var e=this;l===void 0&&(l=!0);var u=this.getStreamId(),c=this.createEstablishStreamFrame(u,n),d=this.__createGroupedStream(u,t,n,a);d.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId,streamId:n.streamTraceId}}),s!=null&&d.__markerAnnotate(s);var m=this.waitForEstablishStream(u,d,n,function(t){e.$5.set(u,t)},function(){e.$17.putBackStreamId(u)});if(i!=null){var p;d.__markerPoint("send_payload_start"),d.__markerAnnotate({int:{establishStreamPayloadSize:i.byteLength}});var _=(p=n.ackTimeoutMs)!=null?p:3e4,f=l?await d.sendFrame(c,i,_):d.sendFrameAndForget(c,i);return f?(d.__markerPoint("send_payload_end"),d.__endMarker(o("IDGWLoggingContext").QPLResult.SUCCESS),Promise.resolve(d)):(d.__endMarker(o("IDGWLoggingContext").QPLResult.FAIL),Promise.reject("Failed to send data when establishing stream"))}if(d.__markerPoint("send_establish_stream_start"),!this.send(c))throw d.__endMarker(o("IDGWLoggingContext").QPLResult.FAIL),r("err")("Websocket connection closed before stream established");d.__markerPoint("send_establish_stream_end");var g=await m;return d.__endMarker(o("IDGWLoggingContext").QPLResult.SUCCESS),g},e.__prefixAppHeaders=function(t){return Object.keys(t).reduce(function(e,n){return e[""+o("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+n]=t[n],e},{})},t.waitForEstablishStream=async function(t,n,r,o,a){var e=this;this.$13.streamEstablishmentPending(t,r.loggingId);try{var i=await new Promise(function(r,o){e.$6.set(t,new s(n,r,o,3e4,function(){e.streamEndCallback(t)}))});return o(n),this.$13.streamEstablishmentSuccess(t,r.loggingId),i}catch(e){throw a(),this.$13.streamEstablishmentTimeout("Stream establishment timeout. readyState: "+this.$1.readyState,t,r.loggingId),e}},e.$26=async function(n,r,a,i,l,s,u,c){var t=new e(n,o("DGWWebSocketTransport").getWebSocketConnection,a,r,i,l,s,u,c);t.$1.onmessage=e.$27(t),t.$1.onopen=function(){t.__markerPoint("onopen"),a.transportEstablished(n),t.$10!=null&&t.$10.cancel(),t.$7!=null&&(t.$10=new(o("DGWPinger")).DGWPinger(t.$7,function(){t.$28()},function(){t.abort(o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,o("DGWStream").StreamError.KEEPALIVE_TIMEOUT,o("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout","readyState:"+t.$1.readyState+", bufferedAmount:"+t.$1.bufferedAmount)},l))},t.$1.onerror=function(){t.__markerPoint("onerror"),t.$13.transportError("onerror","readyState: "+t.$1.readyState)},t.$1.onclose=e.$29(t);var d=await e.getTransportPromise(t);return d},e.getTransportPromise=async function(t){var e,n=new Promise(function(n,r){e=window.setTimeout(function(){t.$15(),t.$13.transportClosed(!1,"TIMEOUT"),t.__markerPoint("connect_timeout"),t.close(),r(o("DGWStream").StreamError.TRANSPORT_ESTABLISHMENT_TIMEOUT)},t.$23)}),r=new Promise(function(e,n){var r=t.$1.onerror,a=t.$1.onmessage,i=t.$1.onclose;t.$1.onerror=function(){r(),t.close(),n(o("DGWStream").StreamError.ESTABLISHMENT_ERROR)},t.$1.onclose=function(e){i(e),e.code===o("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED?n(o("DGWStream").StreamError.UNAUTHORIZED):n(e.code+":"+e.reason)},t.$1.onmessage=function(n){a(n),t.$3||(t.__markerPoint("connect_success"),e(t))}});try{return await Promise.race([r,n])}finally{e!=null&&window.clearTimeout(e)}},e.$27=function(t){return function(e){var n;if(t.$2==null){var r;(r=t.$13)==null||r.transportError("Codec Not Ready","Received message before codec was initialized or after close");return}if(t.$20||(t.$20=!0,t.__markerPoint("onmessage")),(n=t.$10)==null||n.reset(),!(e.data instanceof ArrayBuffer)){var o;(o=t.$13)==null||o.transportError("Incorrect Data Protocol","Received "+typeof e.data+" instead of ArrayBuffer");return}t.$2.append(new Uint8Array(e.data)),t.$2.processData()}},e.$29=function(t){return function(e){var n,r=t.$22.getGlobalState();if(t.__markerPoint("onclose"),t.__markerAnnotate({string:{reason:e.reason},int:{code:e.code,realtimeWebSockets:r.realtime,lightspeedWebSockets:r.lightspeed}}),t.__endMarker(e.code===o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE?o("IDGWLoggingContext").QPLResult.SUCCESS:o("IDGWLoggingContext").QPLResult.FAIL),(n=t.$10)==null||n.cancel(),!(t.$8===!0||t.$4)){if(t.$22.streamClosed(t.$14.serviceId),t.$8=!0,t.$3===!0){t.$13.transportEstablishmentFailure(e),t.$5.clear(),t.$15();return}if(t.$15(),t.$3=!0,e.code!==o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){t.$13.transportClosed(!1,"Websocket connection failure with code: "+e.code+" reason: "+e.reason+" wasClean: "+String(e.wasClean));var a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR,i=o("DGWStream").StreamError.UNKNOWN_ERROR;switch(e.code){case o("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_NORMAL_CLOSURE,i=o("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case o("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE,i=o("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case o("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR,i=o("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case o("DGWConstants").WebsocketCloseCodes.GOING_AWAY:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY,i=o("DGWStream").StreamError.GOING_AWAY;break;case o("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED,i=o("DGWStream").StreamError.UNAUTHORIZED;break;case o("DGWConstants").WebsocketCloseCodes.REJECTED:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED,i=o("DGWStream").StreamError.REJECTED;break;case o("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST,i=o("DGWStream").StreamError.BAD_REQUEST;break;case o("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR,i=o("DGWStream").StreamError.DGW_SERVER_ERROR,a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR,i=o("DGWStream").StreamError.UNKNOWN_ERROR;break}t.$14.streamGroupCallbacks.onStreamGroupError(a),t.$5.forEach(function(e){e.__transportCloseHook(i)}),t.$6.forEach(function(e){e.abortStream(i)})}else t.$13.transportClosed(!0,""),t.$14.streamGroupCallbacks.onStreamGroupTransportClose(),t.$5.forEach(function(e){e.__transportCloseHook()}),t.$6.forEach(function(e){e.abortStream(o("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});t.$5.clear(),t.$6.clear()}}},t.$28=function(){var e=this.$2.encodePing();if(e==null)throw r("err")("Failed to encode Ping Frame");var t=this.send(e);this.$18=this.$1.bufferedAmount,this.$13.transportPingSent("readyState:"+this.$1.readyState+", bufferedAmount:"+this.$18+", payloadSize:"+(e==null?void 0:e.byteLength)+", sent:"+String(t))},t.isClosedLocally=function(){return this.$3||this.$8||this.$4},t.streamEndCallback=function(t){this.$5.delete(t),this.$6.delete(t),this.$17.putBackStreamId(t)},t.canCreateGroupedStream=function(){return this.$17.streamIdAvailable()},t.createEstablishStreamFrame=function(n,a){var t=e.__prefixAppHeaders(a.groupedStreamHeaders);a.streamTraceId!=null&&(t[o("DGWConstants").HEADER_CONSTANTS.HEADER_STREAM_TRACE_ID]=a.streamTraceId);var i=this.$2.encodeEstablishStream(n,new Uint8Array(this.$11.encode(JSON.stringify(t))));if(i==null)throw this.$17.putBackStreamId(n),r("err")("Failed to encode EstablishStreamFrame");return i},t.getStreamId=function(){try{return this.$17.getNextStreamId()}catch(e){throw this.$13.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size),e}},t.__createGroupedStream=function(t,n,r,a){var e=this;return new(o("GroupedStream")).GroupedStream(t,n,r,this,a,this.$2,function(){e.streamEndCallback(t)})},t.__getStreamIdGenerator=function(){return new(o("StreamIdGenerator")).StreamIdGeneratorImpl},t.__markerPoint=function(t){this.$24.qplMarkerPoint(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,t,this.$19)},t.__markerAnnotate=function(t){this.$24.qplMarkerAnnotate(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,t,this.$19)},t.__endMarker=function(t){this.$24.qplMarkerEnd(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,t,this.$19)},e})();l.StreamGroupWebSocketTransport=u}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport"],(function(t,n,r,o,a,i,l){"use strict";var e={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},s=(function(){function t(e,t,n,r,a,i,l,s,u,c){var d,m,p,_,f,g,h,y,C;this.$2=u,this.$1=u.getNewStreamGroupId();var b=(d=l.overrideUrl)!=null?d:a;this.$6=null,this.$3={appId:e,appVersion:t,authType:(m=l.authType)!=null?m:n,deviceId:l.deviceId,dgwVersion:r,headers:l.streamGroupAppHeaders,tier:(p=l.serviceTier)!=null?p:o("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:b,fbId:i,loggingId:l.loggingId,serviceId:l.serviceId,streamGroupCallbacks:s,keepAliveMs:l.keepAliveMs,regionHint:l.regionHint,enableFirstStreamOnWsHandshake:!1,authToken:l.authToken,connectTimeoutMs:l.connectTimeoutMs},this.$4=l,this.$5=c,this.streamGroupLoggingContext=this.$5(null,!1,(_=l.verboseLoggingEnabled)!=null?_:!1),this.$7=o("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(f=this.$3.deviceId)!=null?f:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers.extends({},this.$3.headers),loggingId:(g=this.$3.loggingId)!=null?g:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(h=this.$3.regionHint)!=null?h:void 0,trafficTracing:(y=this.$4.trafficTracing)!=null?y:void 0,authToken:(C=this.$4.authToken)!=null?C:void 0})}var n=t.prototype;return n.initTransport=async function(){var e=this,t={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$6=this.$6||o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$7,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)},t,this.$5);var n;try{n=await this.$6,this.$6=null}catch(e){throw this.$6=null,e}return this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,n),n},n.establishStream=async function(n,r,a,i,l){var t=this;if(this.$2.containsStreamGroup(this.$1)===!1)if(this.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"createTransportWhenEstablishStream"),this.$3.enableFirstStreamOnWsHandshake){var u=await o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(n,r,this.$3,this.streamGroupLoggingContext,function(){t.$2.removeStreamGroupAndTransport(t.$1)},e,this.$5);return this.$2.setStreamGroupAndTransport(this.$1,u.transport),u.streamPromise}else{this.$6=this.$6||o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$7,this.$3,this.streamGroupLoggingContext,function(){t.$2.removeStreamGroupAndTransport(t.$1)},e,this.$5);var s;try{s=await this.$6,this.$6=null}catch(e){throw this.$6=null,e}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,s)}return this.establishStreamWithTransport(n,r,a,i,l)},n.establishStreamWithTransport=async function(t,n,r,a,i){var e,l=t.loggingId;this.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream","initialData:"+String(r!=null),!0,l);var s=this.$5(l,t.disableFalcoLogging,(e=t.verboseLoggingEnabled)!=null?e:!1),u=await this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(n,t,s,r,a,i);return u},n.canCreateGroupedStream=function(){var e=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var t=this.$2.getStreamGroupTransport(this.$1);e=t.canCreateGroupedStream()}return o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,e?"can_create":"cannot_create"),e},n.close=function(){if(this.$2.containsStreamGroup(this.$1)){var e=this.$2.getStreamGroupTransport(this.$1);e.close()}},t})();l.StreamGroup=s}),98);
__d("StreamGroupRegistry",["Random","err"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Set}var t=e.prototype;return t.setStreamGroupAndTransport=function(t,n){this.$1.set(t,n)},t.containsStreamGroup=function(t){return this.$1.has(t)},t.removeStreamGroupAndTransport=function(t){this.$1.delete(t)},t.getStreamGroupTransport=function(t){var e=this.$1.get(t);if(e==null)throw r("err")("No stream group transport");return e},t.getNewStreamGroupId=function(){for(var e=o("Random").uint32();this.$2.has(e);)e=o("Random").uint32();return this.$2.add(e),e},e})();l.StreamGroupRegistry=e}),98);
__d("RawDGWClient",["DGWAuth","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.appId,n=e.appVersion,r=e.authToken,a=e.authType,i=e.dgwVersion,l=e.endpoint,s=e.fbId,u=e.isUserLoggedIn;this.$1=t,this.$2=n,this.$3=a,this.$5=i,this.$6=l,this.$7=s,this.$8=new(o("StreamGroupRegistry")).StreamGroupRegistry,this.$4=r,this.$9=u}var t=e.prototype;return t.$10=function(t){var e=this.$5,n=this.$7;return function(r,a,i){return new(o("DGWLoggingContext")).DGWLoggingContext(e,r,t,n,null,a!=null?a:!1,i!=null?i:!1)}},t.createStreamGroup=function(t,n){var e,r;this.handleUserChecks((e=n.authType)!=null?e:this.$3);var a=(r=n.authToken)!=null?r:this.$4;a!=null&&this.$3===o("DGWAuth").DGWAuth.GUEST&&(n.authToken=a);var i=this.$10(n.serviceId);return new(o("StreamGroup")).StreamGroup(this.$1,this.$2,this.$3,this.$5,this.$6,this.$7,n,t,this.$8,i)},t.handleUserChecks=function(t){if(!this.$9()&&o("DGWAuth").fromDGWAuthToString(t)!=="GUEST"&&!r("isFastRefreshEnabledForCurrentDomain")())throw o("DGWStream").StreamError.UNAUTHENTICATED},e})();l.RawDGWClient=e}),98);
__d("DGWClient",["CurrentUser","DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(){if(!r("DGWEnvUtil").isDGWEnvCompatible())throw r("err")("unsupported_environment_retry_with_mqtt");if(e==null){var t;e=new(o("RawDGWClient")).RawDGWClient({appId:r("DGWWebConfig").appId,appVersion:r("DGWWebConfig").appVersion,authType:o("DGWAuth").fromStringToDGWAuth((t=r("DGWEnvUtil")).getDGWAuthType()),dgwVersion:t.getDGWVersion(),endpoint:t.getDGWEndpoint(),fbId:r("DGWWebConfig").fbId,authToken:t.getDGWAuthToken(),isUserLoggedIn:function(){return r("CurrentUser").isLoggedInNow()}})}return e}l.default=s}),98);/*FB_PKG_DELIM*/
__d("CubicBezier",[],(function(t,n,r,o,a,i){var e=.005,l=(function(){function t(e,t){this.cx=3*e[0],this.bx=3*(t[0]-e[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e[1],this.by=3*(t[1]-e[1])-this.cy,this.ay=1-this.cy-this.by}var n=t.prototype;return n.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.solve=function(t){return t=this.solveCurveX(t),((this.ay*t+this.by)*t+this.cy)*t},n.solveCurveX=function(n){var t,r,o,a,i,l;for(i=n,r=0;r<8;r++){if(l=this.sampleCurveX(i)-n,Math.abs(l)<e)return i;if(t=(3*this.ax*i+2*this.bx)*i+this.cx,Math.abs(t)<1e-6)break;i-=l/t}if(o=0,a=1,i=n,i<o)return o;if(i>a)return a;for(;o<a;){if(l=this.sampleCurveX(i),Math.abs(l-n)<e)return i;n>l?o=i:a=i,i=(a-o)/2+o}return i},t})();i.default=l}),66);
__d("FunnelAction",[],(function(t,n,r,o,a,i){"use strict";var e="name",l="payload",s="relative_time",u="tag",c=(function(){function t(t,n,r,o){this.$1={},this.$1[e]=t,this.$1[s]=n,r!==void 0&&(this.$1[u]=r),o!==void 0&&(this.$1[l]=JSON.stringify(o))}var n=t.prototype;return n.getData=function(){return this.$1},t})();i.default=c}),66);
__d("FunnelRegistry",[],(function(t,n,r,o,a,i){var e=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,FRX_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0});i.default=e}),66);
__d("Funnel",["BinarySearch","FBLogger","FunnelAction","FunnelRegistry","sprintf"],(function(t,n,r,o,a,i,l){"use strict";var e="name",s="instance_id",u="start_time",c="tags",d="actions",m="sampling_rate",p="timeout_sec",_="beacon_id",f="beacon_session_id",g="funnel_level_beacon_id",h="funnel_level_beacon_session_id",y="is_web",C={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"},b={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"},v=600,S=(function(){function t(e,t,n,o,a){if(r("FunnelRegistry")[e]!==!0)throw r("FBLogger")("comet_infra").mustfixThrow("Funnel name not registered.");this.$1=e,this.$2=t,this.$3=[],this.$4={},this.$5=n,this.$6=a,this.timeout_sec=v,this.shouldTrackFocus=!1,this.$7=o,this.$9=-1,this.$10=-1,this.$11=-1,this.$12=-1,this.$8=null,this.devModeLogger("Started funnel")}var n=t.prototype;return n.addTag=function(t){if(typeof t!="string")throw r("FBLogger")("comet_infra").mustfixThrow("Funnel tag should be a String.");return this.$4[t]=!0,this.devModeLogger("Added funnel tag %s",t),this},n.appendAction=function(t,n,a,i){var e=this;i===void 0&&(i=Date.now());var l=new(r("FunnelAction"))(t,i-this.$6,n,a),s=o("BinarySearch").leastStrictUpperBound(function(t){return e.$3[t].getData()},l.getData(),0,this.$3.length,function(e,t){return e.name==="funnel_end"?1:t.name==="funnel_end"?-1:e.relative_time-t.relative_time});return this.$3.splice(s,0,l),n?this.devModeLogger("Appended action %s with tag %s",t,n):this.devModeLogger("Appended action %s",t),this.$8=t,this},n.appendActionIfNew=function(t,n,r){return t!==this.$8&&this.appendAction(t,n,r),this},n.getLogData=function(){var t={};t[e]=this.$1,this.$2!==void 0?t[s]=this.$2:t[s]=Math.floor(Math.random()*65536),t[u]=this.$6,t[m]=this.$5,t[p]=this.timeout_sec,t[c]=[];for(var n in this.$4)this.$4[n]===!0&&t[c].push(n);if(this.$3.length>0){t[d]=[];for(var r=0;r<this.$3.length;r++)t[d].push(this.$3[r].getData())}return this.$10!==-1&&this.$9!==-1&&(t[f]=this.$10,t[_]=this.$9),this.$12!==-1&&this.$11!==-1&&(t[h]=this.$12,t[g]=this.$11),t[y]=1,t},n.devModeLogger=function(){},n.getTags=function(){return this.$4},n.getFunnelName=function(){return this.$1},n.addReliabilityStats=function(t,n){if(typeof t!="number")throw r("FBLogger")("comet_infra").mustfixThrow("SessionID of current funnel lib reliability stats should be a number.");if(typeof n!="number")throw r("FBLogger")("comet_infra").mustfixThrow("Counter of current funnel lib reliability stats should be a number.");return this.$10=t,this.$9=n,this.devModeLogger("Added funnel sessionID %d and counter %d.",t,n),this},n.addReliabilityStatsForCurFunnel=function(t,n){if(typeof t!="number")throw r("FBLogger")("comet_infra").mustfixThrow("SessionID of current funnel lib reliability stats should be a number.");if(typeof n!="number")throw r("FBLogger")("comet_infra").mustfixThrow("Counter of current funnel lib reliability stats should be a number.");return this.$12=t,this.$11=n,this.devModeLogger("Added funnel sessionID %d and counter %d.",t,n),this},t})();l.EndType=C,l.ActionType=b,l.Funnel=S}),98);
__d("FunnelLoggerConfig.experimental",["cr:27520"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:27520")}),98);
__d("FunnelLoggerSampler",["FunnelLoggerConfig.experimental"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=s(e);return t===0?!1:Math.random()*t<1}function s(e){var t=r("FunnelLoggerConfig.experimental").freq[e];return t===void 0&&(t=r("FunnelLoggerConfig.experimental").freq.default),t}i.exports={shouldLog:e,getSamplingRate:s}}),34);
__d("FunnelReliabilityWhitelist",[],(function(t,n,r,o,a,i){var e=["SEARCH_FUNNEL"];i.default=e}),66);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u,c="fas_reliability_lib_stats_overall",d="fas_reliability_funnel_stats_overall",m=1800,p="funnel_analytics_data_loss",_="fas_reliability_lib_stats_wl",f="fas_reliability_funnel_stats_wl",g=0,h={};function y(){return!!r("gkx")("20977")}function C(){return s||(s=!0,u=(e||(e=r("WebStorage"))).getLocalStorage()),u}function b(){var e=C();if(!e)return null;var t=e.getItem(d);if(t)return JSON.parse(t);var n=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:n}}function v(e){var t=C();if(!t)return null;var n=t.getItem(f);if(n)return JSON.parse(n);var r={};return r[e]={startCount:0,endCount:0,cancelCount:0,prevCount:0},r}function S(){var e=C();if(!e)return null;var t=e.getItem(f);return t?JSON.parse(t):null}function R(t){var n=b();n&&(g+=1,n.startCount?n.startCount=parseInt(n.startCount,10)+1:n.startCount=1,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,d,JSON.stringify(n)),L(t))}function L(t){var n=v(t);if(!(!n||!r("FunnelReliabilityWhitelist").includes(t))){var o=h[t]?h[t]+1:1;h[t]=o;var a=n[t];a?a.startCount?a.startCount=parseInt(a.startCount,10)+1:a.startCount=1:(a={},a.startCount=1,a.prevCount=0,a.cancelCount=0,a.endCount=0),n[t]=a,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,f,JSON.stringify(n))}}function E(t){var n=b();n&&(g-=1,n.cancelCount?n.cancelCount=parseInt(n.cancelCount,10)+1:n.cancelCount=1,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,d,JSON.stringify(n)),k(t))}function k(t){var n=v(t);if(!(!n||!r("FunnelReliabilityWhitelist").includes(t))){var o=h[t]?h[t]-1:0;h[t]=o;var a=n[t];a?a.cancelCount?a.cancelCount=parseInt(a.cancelCount,10)+1:a.cancelCount=1:(a={},a.startCount=0,a.prevCount=0,a.cancelCount=1,a.endCount=0),n[t]=a,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,f,JSON.stringify(n))}}function I(t){var n=b();n&&(g-=1,n.endCount?n.endCount=parseInt(n.endCount,10)+1:n.endCount=1,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,d,JSON.stringify(n)),T(t))}function T(t){var n=v(t);if(!(!n||!r("FunnelReliabilityWhitelist").includes(t))){var o=h[t]?h[t]-1:0;h[t]=o;var a=n[t];a?a.endCount?a.endCount=parseInt(a.endCount,10)+1:a.endCount=1:(a={},a.startCount=0,a.prevCount=0,a.cancelCount=0,a.endCount=1),n[t]=a,(e||(e=r("WebStorage"))).setItemGuarded(localStorage,f,JSON.stringify(n))}}function D(){var e=b();if(!e)return!1;if(e.lastFlushTimestamp){var t=Math.floor(Date.now()/1e3);return t-parseInt(e.lastFlushTimestamp,10)>=m}return!1}function x(t,n){var o=C();if(o){var a=Math.floor(Date.now()/1e3),i={startCount:0,endCount:0,cancelCount:0,prevCount:n,lastFlushTimestamp:a};(e||(e=r("WebStorage"))).setItemGuarded(o,d,JSON.stringify(i))}}function $(t,n){var o=C();if(!(!o||!t||Object.keys(t).length===0)){var a={};for(var i in t){var l=n[i],s={startCount:0,endCount:0,cancelCount:0,prevCount:l||0};a[i]=s}(e||(e=r("WebStorage"))).setItemGuarded(o,f,JSON.stringify(a))}}function P(e,t,n,r){var a=e.prevCount,i=e.startCount,l=e.endCount,s=e.cancelCount,u=a+i-l-s-t,c={start:i,end:l,cancel:s,prev:a,ongoing:t,loss:u},d={overall:c};if(n){var m={};for(var _ in n){var f=n[_],g=f.prevCount,h=f.startCount,y=f.endCount,C=f.cancelCount,b=r[_]?r[_]:0,v=g+h-y-C-b,S={start:h,end:y,cancel:C,prev:g,ongoing:b,loss:v};m[_]=S}d.funnel_level_data_loss=m}o("MarauderLogger").log(p,null,d)}function N(){if(D()){var e=b();if(e){x(e,g);var t=S();t&&$(t,h),P(e,g,t,h)}}}function M(){var t=C();if(!t)return null;var n=t.getItem(c),o=n?JSON.parse(n):{},a=o.counter,i=o.session;return a?(a=parseInt(a,10)+1,i=parseInt(o.session,10)):(a=1,i=Math.floor(Math.random()*65536)),(e||(e=r("WebStorage"))).setItemGuarded(t,c,JSON.stringify({counter:a,session:i})),[i,a]}function w(t){if(!r("FunnelReliabilityWhitelist").includes(t))return null;var n=C();if(!n)return null;var o=n.getItem(_),a=void 0,i={};o!=null&&o!==""&&(i=JSON.parse(o),a=i[t]);var l=a?a.counter:void 0,s=a?a.session:void 0;l!=null?(l=parseInt(l,10)+1,s=parseInt(s,10)):(l=1,s=Math.floor(Math.random()*65536));var u={};return o?(i[t]={counter:l,session:s},u=i):u[t]={counter:l,session:s},(e||(e=r("WebStorage"))).setItemGuarded(n,_,JSON.stringify(u)),[s,l]}l.passFunnelLevelStatsRolloutGK=y,l.onFunnelStart=R,l.onFunnelCancel=E,l.onFunnelEnd=I,l.maybeFlushFunnelLevelStats=N,l.increaseAndGetLibLevelStats=M,l.maybeIncreaseAndGetLibLevelStatsForCurFunnel=w}),98);
__d("FunnelLogger",["Banzai","FBLogger","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout"],(function(t,n,r,o,a,i){"use strict";var e={},l=!1,s=!0;function u(e,t){$(e,t)}function c(e,t,n){$(e,n,t)}function d(t,n){var r=N(t,n);return M(r)?e[r]:null}function m(e,t){}function p(e,t,n){n===void 0?w(e,void 0,t):n&&w(e,t,n)}function _(t,r){var o=N(t,r);M(o)&&(e[o].devModeLogger("Cancelled funnel"),F(o),e[o]=void 0,n("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(n("FunnelReliabilityStatsCollector").onFunnelCancel(t),n("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function f(e,t){P(e,t)}function g(e,t,n){P(e,n,t)}function h(e,t,n){n===void 0?O(e,void 0,String(t)):O(e,Number(t),n)}function y(e,t,n){n===void 0?B(e,void 0,!!t):B(e,Number(t),n)}function C(e,t,n){n===void 0?W(e,void 0,String(t),void 0):W(e,Number(t),n,void 0)}function b(e,t,n){n===void 0?q(e,void 0,String(t),void 0):q(e,Number(t),n,void 0)}function v(e,t,n,r){r===void 0?W(e,void 0,String(n),void 0,void 0,t):W(e,Number(n),r,void 0,void 0,t)}function S(e,t,n,r){r===void 0?W(e,void 0,String(t),n):W(e,Number(t),n,r)}function R(e,t,n,r,o){o===void 0?W(e,void 0,String(n),r,void 0,t):W(e,Number(n),r,o,void 0,t)}function L(e,t,n,r){r===void 0?q(e,void 0,String(t),n):q(e,Number(t),n,r)}function E(e,t,n,r){r===void 0?W(e,void 0,String(t),void 0,n):W(e,Number(t),String(n),void 0,r)}function k(e,t,n,r,o){o===void 0?W(e,void 0,String(n),void 0,r,t):W(e,Number(n),String(r),void 0,o,t)}function I(e,t,n,r){r===void 0?q(e,void 0,String(t),void 0,n):q(e,Number(t),String(n),void 0,r)}function T(e,t,n,r,o){o===void 0?W(e,void 0,String(t),n,r):W(e,Number(t),String(n),String(r),o)}function D(e,t,n,r,o,a){a===void 0?W(e,void 0,String(n),r,o,t):W(e,Number(n),String(r),String(o),a,t)}function x(e,t,n,r,o){o===void 0?q(e,void 0,String(t),n,r):q(e,Number(t),String(n),String(r),o)}function $(t,r,o){var a=N(t,r);j(),U(a),n("FunnelLoggerSampler").shouldLog(t)&&(e[a]=new(n("Funnel")).Funnel(t,r,n("FunnelLoggerSampler").getSamplingRate(t),!1,o!=null?o:Date.now()),A(a),n("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(n("FunnelReliabilityStatsCollector").onFunnelStart(t),n("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function P(t,r,o){var a=N(t,r);M(a)&&(e[a].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.EXPLICIT,void 0,o),V(a))}function N(e,t){if(n("FunnelRegistry")[e]!==!0)throw n("FBLogger")("funnel_validation").blameToPreviousFile().mustfix("Funnel name `%s` not registered",e),n("FBLogger")("comet_infra").mustfixThrow("Funnel name `%s` not registered.",e);return t==null?e:e+t.toString()}function M(t){return e[t]!==void 0}function w(t,n,r){var o=N(t,n);M(o)&&(e[o].timeout_sec=r,e[o].devModeLogger("Timeout set to %s sec",r),A(o))}function A(t){F(t),e[t].timeout_handle=n("setTimeout")(function(){e[t].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.TIMEOUT),V(t)},1e3*e[t].timeout_sec)}function F(t){e[t].timeout_handle&&n("clearTimeout")(e[t].timeout_handle)}function O(t,n,r){var o=N(t,n);M(o)&&(e[o].addTag(r),A(o))}function B(t,n,r){var o=N(t,n);M(o)&&(e[o].shouldTrackFocus=r,e[o].devModeLogger("Focus tracking %s",r?"on":"off"))}function W(t,n,r,o,a,i){var l=N(t,n);M(l)&&(e[l].appendAction(r,o,a,i),A(l))}function q(t,n,r,o,a){var i=N(t,n);M(i)&&e[i].appendActionIfNew(r,o,a)}function U(t){M(t)&&(e[t].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.RESTART),V(t))}function V(t){if(M(t)){if(n("gkx")("20976")){var r=n("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(r){var o=r[0],a=r[1];e[t].addReliabilityStats(o,a)}}var i=e[t].getFunnelName(),l=e[t].getLogData();n("MarauderLogger").log("funnel_analytics",null,l),e[t].devModeLogger("Logged: %s",JSON.stringify(l)),F(t),e[t]=void 0,n("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(n("FunnelReliabilityStatsCollector").onFunnelEnd(i),n("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function H(){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&M(t)&&(e[t].appendAction(n("Funnel").ActionType.ACTION_END,n("Funnel").EndType.SESSION_END),V(t))}function G(){if(s){s=!1;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&M(t)&&e[t].shouldTrackFocus&&(e[t].appendAction(n("Funnel").ActionType.ACTION_WINDOW_BLUR),F(t))}}function z(){if(!s){s=!0;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&M(t)&&e[t].shouldTrackFocus&&(e[t].appendAction(n("Funnel").ActionType.ACTION_WINDOW_FOCUS),F(t))}}function j(){l||(l=!0,window.addEventListener&&(n("Banzai").subscribe(n("Banzai").SHUTDOWN,H),window.addEventListener("blur",G),window.addEventListener("focus",z)))}a.exports={addFunnelTag:h,appendAction:C,appendActionAtTime:v,appendActionAtTimeWithPayload:k,appendActionAtTimeWithTag:R,appendActionAtTimeWithTagAndPayload:D,appendActionIfNew:b,appendActionWithPayload:E,appendActionWithPayloadIfNew:I,appendActionWithTag:S,appendActionWithTagAndPayload:T,appendActionWithTagAndPayloadIfNew:x,appendActionWithTagIfNew:L,cancelFunnel:_,endFunnel:f,endFunnelAtTime:g,getFunnelInstance:d,setFunnelTimeout:p,setFunnelTrackFocus:y,startFunnel:u,startFunnel_DEV_MODE:m,startFunnelAtTime:c}}),null);
__d("KeyframesPerformanceLog",["performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s=60,u=(function(){function t(e,t){this.$1=0,this.$2=-1,this.$3=-1,this.$6=e,this.$5=t,this.$6=e,this.reset()}var n=t.prototype;return n.onNextFrame=function(t){this.$7=t},n.start=function(){if(this.$2<0||this.$3>=0){var t=(e||(e=r("performanceNow")))();this.$2<0?this.$2=t:this.$3>=0&&(this.$2+=t-this.$3,this.$3=-1),this.$5&&this.$5("start")}},n.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=(e||(e=r("performanceNow")))(),this.$5&&this.$5("pause"))},n.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1},n.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)},n.addFrameDrop=function(t){t>=8?this.$4.eight+=1:t>=4?this.$4.four+=1:t>=2?this.$4.two+=1:t>=1&&(this.$4.one+=1)},n.finish=function(){if(this.$2>=0){var t=(e||(e=r("performanceNow")))(),n=this.$3>=0?t-this.$3:0,o=Math.max(Math.floor(t-this.$2-n),1),a=this.$1?this.$1/o*1e3:s;this.$6({animation_duration:o,display_refresh_rate:s,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:a,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two}),this.reset()}},t})();l.default=u}),98);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],(function(t,n,r,o,a,i,l){"use strict";var e="KeyframesFramePerfLoggerConfig",s={appid:256281040558,isemployee:r("CurrentUser").isEmployee()?1:0},u={LOAD_ATTEMPT:"plugin_load_attempt",LOAD_ATTEMPT_KF3:"plugin_load_attempt_compat"};function c(t,n){t!=null&&t.forEach(function(t){r("BanzaiLogger").log(e,babelHelpers.extends({},s,{name:n,extras:t}))})}var d={log:function(t){c(t,u.LOAD_ATTEMPT)},logCompat:function(t){c(t,u.LOAD_ATTEMPT_KF3)}};l.KeyframesPluginLogger=d}),98);
__d("KeyframesPluginsLoader",["Bootloader","KeyframesPluginLogger","Promise","flatbuffers"],(function(t,n,r,o,a,i,l){"use strict";var e,s={DynamicProperties:function(t){return r("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],t,"KeyframesPluginsLoader")},LayerName:function(t){return r("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],t,"KeyframesPluginsLoader")},LayerTags:function(t){return r("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],t,"KeyframesPluginsLoader")},RandomSubdocument:function(t){return r("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],t,"KeyframesPluginsLoader")},Sound:function(t){return r("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],t,"KeyframesPluginsLoader")},SubdocumentSwap:function(t){return r("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],t,"KeyframesPluginsLoader")},TrimPath:function(t){return r("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],t,"KeyframesPluginsLoader")}};function u(e,t){return s[e]?s[e](t):null}function c(t){var r=t.map(function(t){return new(e||(e=n("Promise")))(function(e,n){var r=u(t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e(n)});r||n("Unknown plugin "+t)})});return(e||(e=n("Promise"))).all(r)}var d=(function(){function e(e,t){this.instances=[],this.$1={},this.$2={},this.$4=e,this.$3=t}e.fromPluginTable=function(n){return o("KeyframesPluginLogger").KeyframesPluginLogger.log(n),c(n).then(function(t){return new e(n,t)})},e.getSupportedPlugins=function(){return s};var t=e.prototype;return t.getPluginTable=function(){return this.$4},t.getPluginsForLayer=function(t){return this.$1[t]},t.maybeInstantiatePluginsForLayer=function(t){var e=t.id();if(!this.$2[e]){var n=t.pluginsLength();if(n)for(var r=0;r<n;r++){var a=t.plugins(r),i=new(o("flatbuffers")).ByteBuffer(a.contentArray()),l=a.index();if(this.$3[l]){var s=this.$3[l],u=s[0],c=s[1],d="getRootAsPlugin"+this.$4[l],m=c[d](i),p=new u(m,t);this.$1[e]||(this.$1[e]=[]),this.$1[e].push(p),this.instances.push(p),p.animationDidLoad()}}this.$2[e]=!0}},e})();l.default=d}),98);
__d("KeyframesVersion",[],(function(t,n,r,o,a,i){"use strict";var e="2.0.0";function l(){return e}i.getCurrentVersion=l}),66);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","once","performanceNow","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u="KEYFRAMES_FUNNEL",c="KeyframesFramePerfLoggerConfig",d=2,m=9e18,p={appid:256281040558,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:r("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function _(e){return parseInt(e.match(/[a-f0-9]+$/gi),16)}function f(){var t=(e||(e=r("performanceNow")))();return function(){return Math.floor((e||(e=r("performanceNow")))()-t)}}function g(){return{value:Date.now()}}var h=(function(){function e(t,n){var a=this;this.$2=!1,this.$3=0,this.$5=1,this.$11=o("KeyframesVersion").getCurrentVersion(),this.$15=function(t){if(a.$13("play_ended"),a.$3++,a.$3===a.$5){var n=babelHelpers.extends({},t,p,{animation_duration:String(t.animation_duration),asset_id:a.$6.assetID||null,asset_name:a.$6.assetID?null:a.$6.assetName,display_refresh_rate:String(t.display_refresh_rate),keyframes_version:a.$11,project_name:a.$6.projectName,session_id:a.$9});e.performanceLoggingMethod(n),a.$5<m&&(a.$5*=d)}},this.$16=function(e){switch(e){case"start":a.$13("play_started");return;case"pause":a.$13("play_ended");return}},this.$10=n||g(),this.$6=t,this.$9=r("uuidv4")(),this.$4=_(this.$9)}e.performanceLoggingMethod=function(t){r("BanzaiLogger").log(c,t)};var t=e.prototype;return t.startDecode=function(t){var e=this;if(!this.$1){this.$12(),this.$13("asset_decode_started",t);var n=f();this.$1=r("once")(function(t,r){e.$13("asset_decode_ended",t,{"time_since:asset_decode_started":n(),plugins_decoded:r||[]})})}return this.$1},t.error=function(t){this.$12(),this.$1?this.$14("asset_decode_failed",t):this.$14("asset_request_failed",t)},t.getUUID=function(){return this.$9},t.getInstanceID=function(){return this.$4},t.getPerformanceLogIfEnabled=function(){var e=this;if(!this.$7){var t=this.$12(),n=new(r("KeyframesPerformanceLog"))(this.$15,this.$16);n.onNextFrame(function(){return e.$13("first_frame_rendered",g(),{"time_since:session_started":t()})}),this.$7=n}return this.$7},t.$12=function(){return this.$8||(o("FunnelLogger").startFunnelAtTime(u,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(r("KeyframesPluginsLoader").getSupportedPlugins())}),this.$8=f()),this.$8},t.$13=function(t,n,r){n=n||g(),this.$2||o("FunnelLogger").appendActionAtTimeWithPayload(u,n.value,this.$4,t,babelHelpers.extends({},this.$17(),r))},t.$14=function(t,n){n=n||g(),this.$2||(this.$13("session_failed",n,{fail_reason:t}),o("FunnelLogger").endFunnelAtTime(u,n.value,this.$4),this.$2=!0)},t.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}},e})();l.default=h}),98);
__d("FunnelLoggerConfigJSModuleWrapper",["FunnelLoggerConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("FunnelLoggerConfig")}),98);
__d("KFComponentNames",[],(function(t,n,r,o,a,i){"use strict";var e="AUDIO",l="BITMAP",s="IMAGE",u="CHILDREN",c="COMPOSITING",d="IDENTIFICATION",m="OPACITY",p="PARENT",_="RANDOM_SUBDOCUMENT",f="RANDOM_SUBDOCUMENT_CHILDREN",g="ROOT",h="SCENE",y="SHAPE",C="TIME",b="TRIM_PATH",v="TRANSFORM",S="VIDEO";i.AUDIO=e,i.BITMAP=l,i.CHILDREN=u,i.COMPOSITING=c,i.IMAGE=s,i.IDENTIFICATION=d,i.OPACITY=m,i.PARENT=p,i.RANDOM_SUBDOCUMENT=_,i.RANDOM_SUBDOCUMENT_CHILDREN=f,i.ROOT=g,i.SCENE=h,i.SHAPE=y,i.TIME=C,i.TRIM_PATH=b,i.TRANSFORM=v,i.VIDEO=S}),66);
__d("KFLoaderUtils",["KFComponentNames"],(function(t,n,r,o,a,i,l){"use strict";function e(t,n,r){for(var a=0;a<t.length;a++){var i=t[a],l=n.getComponent(i,o("KFComponentNames").CHILDREN),s=l==null?void 0:l.getChildren();s!=null&&e(s,n,r),r(i,a,t)}}function s(t,n){var r=t.getEntitiesWithComponent(o("KFComponentNames").ROOT)[0],a=t.getComponent(r,o("KFComponentNames").SCENE);if(a!=null){var i=a.getEntities();e(i,t,n)}}function u(e){var t=e==null?void 0:e.duration();return t==null||t===0?1:t*1e3}function c(e){d.traverseEntitiesAndApply(e,function(t,n,r){if(n+1!==r.length){var a=r[n+1],i=e.getComponent(a,o("KFComponentNames").COMPOSITING);if((i==null?void 0:i.isTrackMatte)===!0){var l=e.getComponent(t,o("KFComponentNames").COMPOSITING);l==null&&(l=e.addComponent(t,o("KFComponentNames").COMPOSITING)),l.trackMatteId=a.getID()}}})}var d={getDocumentDuration:u,maybeGenerateTrackMatteIDs:c,traverseEntitiesAndApply:s},m=d;l.default=m}),98);
__d("KeyframesSchema",[],(function(t,n,r,o,a,i){var e=e||{};e.keyframes=e.keyframes||{},e.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3},e.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"},e.keyframes.TweenType={Bezier:0,Linear:1,Hold:2},e.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"},e.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1},e.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"},e.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2},e.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"},e.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2},e.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"},e.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2},e.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"},e.keyframes.GradientType={Linear:0,Radial:1},e.keyframes.GradientTypeName={0:"Linear",1:"Radial"},e.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9},e.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"},e.keyframes.Size=function(){this.bb=null,this.bb_pos=0},e.keyframes.Size.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)},e.keyframes.Size.prototype.mutate_width=function(e){var t=this.bb.__offset(this.bb_pos,0);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)},e.keyframes.Size.prototype.mutate_height=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Size.createSize=function(e,t,n){return e.prep(4,8),e.writeFloat32(n),e.writeFloat32(t),e.offset()},e.keyframes.Point=function(){this.bb=null,this.bb_pos=0},e.keyframes.Point.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Point.getRootAsPoint=function(t,n){return(n||new e.keyframes.Point).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Point.prototype.x=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Point.prototype.mutate_x=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Point.prototype.y=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Point.prototype.mutate_y=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Point.startPoint=function(e){e.startObject(2)},e.keyframes.Point.addX=function(e,t){e.addFieldFloat32(0,t,0)},e.keyframes.Point.addY=function(e,t){e.addFieldFloat32(1,t,0)},e.keyframes.Point.endPoint=function(e){var t=e.endObject();return t},e.keyframes.Point.createPoint=function(t,n,r){return e.keyframes.Point.startPoint(t),e.keyframes.Point.addX(t,n),e.keyframes.Point.addY(t,r),e.keyframes.Point.endPoint(t)},e.keyframes.Color=function(){this.bb=null,this.bb_pos=0},e.keyframes.Color.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Color.getRootAsColor=function(t,n){return(n||new e.keyframes.Color).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Color.prototype.red=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):0},e.keyframes.Color.prototype.mutate_red=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.prototype.green=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):0},e.keyframes.Color.prototype.mutate_green=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.prototype.blue=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):0},e.keyframes.Color.prototype.mutate_blue=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.prototype.alpha=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint8(this.bb_pos+e):255},e.keyframes.Color.prototype.mutate_alpha=function(e){var t=this.bb.__offset(this.bb_pos,10);return t===0?!1:(this.bb.writeUint8(this.bb_pos+t,e),!0)},e.keyframes.Color.startColor=function(e){e.startObject(4)},e.keyframes.Color.addRed=function(e,t){e.addFieldInt8(0,t,0)},e.keyframes.Color.addGreen=function(e,t){e.addFieldInt8(1,t,0)},e.keyframes.Color.addBlue=function(e,t){e.addFieldInt8(2,t,0)},e.keyframes.Color.addAlpha=function(e,t){e.addFieldInt8(3,t,255)},e.keyframes.Color.endColor=function(e){var t=e.endObject();return t},e.keyframes.Color.createColor=function(t,n,r,o,a){return e.keyframes.Color.startColor(t),e.keyframes.Color.addRed(t,n),e.keyframes.Color.addGreen(t,r),e.keyframes.Color.addBlue(t,o),e.keyframes.Color.addAlpha(t,a),e.keyframes.Color.endColor(t)},e.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0},e.keyframes.ColorArray.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ColorArray.getRootAsColorArray=function(t,n){return(n||new e.keyframes.ColorArray).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ColorArray.prototype.colors=function(t,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.keyframes.Color).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorArray.prototype.colorsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArray.startColorArray=function(e){e.startObject(1)},e.keyframes.ColorArray.addColors=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ColorArray.createColorsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorArray.startColorsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArray.endColorArray=function(e){var t=e.endObject();return t},e.keyframes.ColorArray.createColorArray=function(t,n){return e.keyframes.ColorArray.startColorArray(t),e.keyframes.ColorArray.addColors(t,n),e.keyframes.ColorArray.endColorArray(t)},e.keyframes.Command=function(){this.bb=null,this.bb_pos=0},e.keyframes.Command.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Command.getRootAsCommand=function(t,n){return(n||new e.keyframes.Command).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Command.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.CommandType.MoveTo},e.keyframes.Command.prototype.mutate_type=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Command.prototype.point=function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Command.prototype.control1=function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Command.prototype.control2=function(t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Command.startCommand=function(e){e.startObject(4)},e.keyframes.Command.addType=function(t,n){t.addFieldInt8(0,n,e.keyframes.CommandType.MoveTo)},e.keyframes.Command.addPoint=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Command.addControl1=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Command.addControl2=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.Command.endCommand=function(e){var t=e.endObject();return t},e.keyframes.Command.createCommand=function(t,n,r,o,a){return e.keyframes.Command.startCommand(t),e.keyframes.Command.addType(t,n),e.keyframes.Command.addPoint(t,r),e.keyframes.Command.addControl1(t,o),e.keyframes.Command.addControl2(t,a),e.keyframes.Command.endCommand(t)},e.keyframes.Path=function(){this.bb=null,this.bb_pos=0},e.keyframes.Path.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Path.getRootAsPath=function(t,n){return(n||new e.keyframes.Path).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Path.prototype.commands=function(t,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.keyframes.Command).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Path.prototype.commandsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Path.startPath=function(e){e.startObject(1)},e.keyframes.Path.addCommands=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.Path.createCommandsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Path.startCommandsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Path.endPath=function(e){var t=e.endObject();return t},e.keyframes.Path.createPath=function(t,n){return e.keyframes.Path.startPath(t),e.keyframes.Path.addCommands(t,n),e.keyframes.Path.endPath(t)},e.keyframes.Tween=function(){this.bb=null,this.bb_pos=0},e.keyframes.Tween.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Tween.getRootAsTween=function(t,n){return(n||new e.keyframes.Tween).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Tween.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.TweenType.Bezier},e.keyframes.Tween.prototype.mutate_type=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Tween.prototype.control1=function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Tween.prototype.control2=function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Tween.startTween=function(e){e.startObject(3)},e.keyframes.Tween.addType=function(t,n){t.addFieldInt8(0,n,e.keyframes.TweenType.Bezier)},e.keyframes.Tween.addControl1=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Tween.addControl2=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Tween.endTween=function(e){var t=e.endObject();return t},e.keyframes.Tween.createTween=function(t,n,r,o){return e.keyframes.Tween.startTween(t),e.keyframes.Tween.addType(t,n),e.keyframes.Tween.addControl1(t,r),e.keyframes.Tween.addControl2(t,o),e.keyframes.Tween.endTween(t)},e.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ScalarAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(t,n){return(n||new e.keyframes.ScalarAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ScalarAnimation.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.ScalarAnimation.prototype.mutate_value=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.ScalarAnimation.prototype.values=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarAnimation.prototype.valuesArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ScalarAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarAnimation.startScalarAnimation=function(e){e.startObject(4)},e.keyframes.ScalarAnimation.addValue=function(e,t){e.addFieldFloat32(0,t,0)},e.keyframes.ScalarAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ScalarAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ScalarAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ScalarAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ScalarAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarAnimation.endScalarAnimation=function(e){var t=e.endObject();return t},e.keyframes.ScalarAnimation.createScalarAnimation=function(t,n,r,o,a){return e.keyframes.ScalarAnimation.startScalarAnimation(t),e.keyframes.ScalarAnimation.addValue(t,n),e.keyframes.ScalarAnimation.addValues(t,r),e.keyframes.ScalarAnimation.addKeyframes(t,o),e.keyframes.ScalarAnimation.addTweens(t,a),e.keyframes.ScalarAnimation.endScalarAnimation(t)},e.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0},e.keyframes.ScalarArray.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ScalarArray.getRootAsScalarArray=function(t,n){return(n||new e.keyframes.ScalarArray).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ScalarArray.prototype.values=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarArray.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArray.prototype.valuesArray=function(){var e=this.bb.__offset(this.bb_pos,4);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarArray.startScalarArray=function(e){e.startObject(1)},e.keyframes.ScalarArray.addValues=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ScalarArray.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarArray.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArray.endScalarArray=function(e){var t=e.endObject();return t},e.keyframes.ScalarArray.createScalarArray=function(t,n){return e.keyframes.ScalarArray.startScalarArray(t),e.keyframes.ScalarArray.addValues(t,n),e.keyframes.ScalarArray.endScalarArray(t)},e.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ScalarArrayAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(t,n){return(n||new e.keyframes.ScalarArrayAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ScalarArrayAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.ScalarArray).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.ScalarArrayAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.ScalarArray).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArrayAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ScalarArrayAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(e){e.startObject(4)},e.keyframes.ScalarArrayAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ScalarArrayAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ScalarArrayAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ScalarArrayAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArrayAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ScalarArrayAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ScalarArrayAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArrayAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ScalarArrayAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ScalarArrayAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(e){var t=e.endObject();return t},e.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(t,n,r,o,a){return e.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(t),e.keyframes.ScalarArrayAnimation.addValue(t,n),e.keyframes.ScalarArrayAnimation.addValues(t,r),e.keyframes.ScalarArrayAnimation.addKeyframes(t,o),e.keyframes.ScalarArrayAnimation.addTweens(t,a),e.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(t)},e.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.PointAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.PointAnimation.getRootAsPointAnimation=function(t,n){return(n||new e.keyframes.PointAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.PointAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Point).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.PointAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Point).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PointAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PointAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.PointAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PointAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.PointAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PointAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PointAnimation.startPointAnimation=function(e){e.startObject(4)},e.keyframes.PointAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.PointAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.PointAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PointAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PointAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.PointAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.PointAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PointAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.PointAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PointAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PointAnimation.endPointAnimation=function(e){var t=e.endObject();return t},e.keyframes.PointAnimation.createPointAnimation=function(t,n,r,o,a){return e.keyframes.PointAnimation.startPointAnimation(t),e.keyframes.PointAnimation.addValue(t,n),e.keyframes.PointAnimation.addValues(t,r),e.keyframes.PointAnimation.addKeyframes(t,o),e.keyframes.PointAnimation.addTweens(t,a),e.keyframes.PointAnimation.endPointAnimation(t)},e.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ColorAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ColorAnimation.getRootAsColorAnimation=function(t,n){return(n||new e.keyframes.ColorAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ColorAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Color).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.ColorAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Color).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ColorAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ColorAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorAnimation.startColorAnimation=function(e){e.startObject(4)},e.keyframes.ColorAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ColorAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ColorAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ColorAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ColorAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ColorAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorAnimation.endColorAnimation=function(e){var t=e.endObject();return t},e.keyframes.ColorAnimation.createColorAnimation=function(t,n,r,o,a){return e.keyframes.ColorAnimation.startColorAnimation(t),e.keyframes.ColorAnimation.addValue(t,n),e.keyframes.ColorAnimation.addValues(t,r),e.keyframes.ColorAnimation.addKeyframes(t,o),e.keyframes.ColorAnimation.addTweens(t,a),e.keyframes.ColorAnimation.endColorAnimation(t)},e.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.ColorArrayAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(t,n){return(n||new e.keyframes.ColorArrayAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ColorArrayAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.ColorArray).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.ColorArrayAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.ColorArray).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArrayAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.ColorArrayAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(e){e.startObject(4)},e.keyframes.ColorArrayAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ColorArrayAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.ColorArrayAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorArrayAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArrayAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.ColorArrayAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.ColorArrayAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArrayAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.ColorArrayAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.ColorArrayAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(e){var t=e.endObject();return t},e.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(t,n,r,o,a){return e.keyframes.ColorArrayAnimation.startColorArrayAnimation(t),e.keyframes.ColorArrayAnimation.addValue(t,n),e.keyframes.ColorArrayAnimation.addValues(t,r),e.keyframes.ColorArrayAnimation.addKeyframes(t,o),e.keyframes.ColorArrayAnimation.addTweens(t,a),e.keyframes.ColorArrayAnimation.endColorArrayAnimation(t)},e.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0},e.keyframes.PathAnimation.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.PathAnimation.getRootAsPathAnimation=function(t,n){return(n||new e.keyframes.PathAnimation).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.PathAnimation.prototype.value=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Path).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.PathAnimation.prototype.values=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Path).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PathAnimation.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PathAnimation.prototype.keyframes=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},e.keyframes.PathAnimation.prototype.keyframesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PathAnimation.prototype.keyframesArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.PathAnimation.prototype.tweens=function(t,n){var r=this.bb.__offset(this.bb_pos,10);return r?(n||new e.keyframes.Tween).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.PathAnimation.prototype.tweensLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.PathAnimation.startPathAnimation=function(e){e.startObject(4)},e.keyframes.PathAnimation.addValue=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.PathAnimation.addValues=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.PathAnimation.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PathAnimation.startValuesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PathAnimation.addKeyframes=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.PathAnimation.createKeyframesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},e.keyframes.PathAnimation.startKeyframesVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PathAnimation.addTweens=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.PathAnimation.createTweensVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.PathAnimation.startTweensVector=function(e,t){e.startVector(4,t,4)},e.keyframes.PathAnimation.endPathAnimation=function(e){var t=e.endObject();return t},e.keyframes.PathAnimation.createPathAnimation=function(t,n,r,o,a){return e.keyframes.PathAnimation.startPathAnimation(t),e.keyframes.PathAnimation.addValue(t,n),e.keyframes.PathAnimation.addValues(t,r),e.keyframes.PathAnimation.addKeyframes(t,o),e.keyframes.PathAnimation.addTweens(t,a),e.keyframes.PathAnimation.endPathAnimation(t)},e.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0},e.keyframes.Gradient.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Gradient.getRootAsGradient=function(t,n){return(n||new e.keyframes.Gradient).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Gradient.prototype.colorStart=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.colorEnd=function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.rampStart=function(t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.rampEnd=function(t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.GradientType.Linear},e.keyframes.Gradient.prototype.mutate_type=function(e){var t=this.bb.__offset(this.bb_pos,12);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Gradient.prototype.colors=function(t){var n=this.bb.__offset(this.bb_pos,14);return n?(t||new e.keyframes.ColorArrayAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.positions=function(t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.keyframes.ScalarArrayAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.highlightLength=function(t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.prototype.highlightAngle=function(t){var n=this.bb.__offset(this.bb_pos,20);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Gradient.startGradient=function(e){e.startObject(9)},e.keyframes.Gradient.addColorStart=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.Gradient.addColorEnd=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Gradient.addRampStart=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Gradient.addRampEnd=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.Gradient.addType=function(t,n){t.addFieldInt8(4,n,e.keyframes.GradientType.Linear)},e.keyframes.Gradient.addColors=function(e,t){e.addFieldOffset(5,t,0)},e.keyframes.Gradient.addPositions=function(e,t){e.addFieldOffset(6,t,0)},e.keyframes.Gradient.addHighlightLength=function(e,t){e.addFieldOffset(7,t,0)},e.keyframes.Gradient.addHighlightAngle=function(e,t){e.addFieldOffset(8,t,0)},e.keyframes.Gradient.endGradient=function(e){var t=e.endObject();return t},e.keyframes.Gradient.createGradient=function(t,n,r,o,a,i,l,s,u,c){return e.keyframes.Gradient.startGradient(t),e.keyframes.Gradient.addColorStart(t,n),e.keyframes.Gradient.addColorEnd(t,r),e.keyframes.Gradient.addRampStart(t,o),e.keyframes.Gradient.addRampEnd(t,a),e.keyframes.Gradient.addType(t,i),e.keyframes.Gradient.addColors(t,l),e.keyframes.Gradient.addPositions(t,s),e.keyframes.Gradient.addHighlightLength(t,u),e.keyframes.Gradient.addHighlightAngle(t,c),e.keyframes.Gradient.endGradient(t)},e.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0},e.keyframes.Bitmap.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Bitmap.getRootAsBitmap=function(t,n){return(n||new e.keyframes.Bitmap).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Bitmap.prototype.size=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Bitmap.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Bitmap.prototype.contentLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Bitmap.prototype.contentArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Bitmap.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Bitmap.startBitmap=function(e){e.startObject(3)},e.keyframes.Bitmap.addSize=function(e,t){e.addFieldStruct(0,t,0)},e.keyframes.Bitmap.addContent=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Bitmap.createContentVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Bitmap.startContentVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Bitmap.addName=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Bitmap.endBitmap=function(e){var t=e.endObject();return t},e.keyframes.Bitmap.createBitmap=function(t,n,r,o){return e.keyframes.Bitmap.startBitmap(t),e.keyframes.Bitmap.addSize(t,n),e.keyframes.Bitmap.addContent(t,r),e.keyframes.Bitmap.addName(t,o),e.keyframes.Bitmap.endBitmap(t)},e.keyframes.Video=function(){this.bb=null,this.bb_pos=0},e.keyframes.Video.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Video.getRootAsVideo=function(t,n){return(n||new e.keyframes.Video).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Video.prototype.size=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Video.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Video.prototype.mutate_length=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Video.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Video.prototype.contentLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Video.prototype.contentArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Video.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Video.startVideo=function(e){e.startObject(4)},e.keyframes.Video.addSize=function(e,t){e.addFieldStruct(0,t,0)},e.keyframes.Video.addLength=function(e,t){e.addFieldInt32(1,t,0)},e.keyframes.Video.addContent=function(e,t){e.addFieldOffset(2,t,0)},e.keyframes.Video.createContentVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Video.startContentVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Video.addName=function(e,t){e.addFieldOffset(3,t,0)},e.keyframes.Video.endVideo=function(e){var t=e.endObject();return t},e.keyframes.Video.createVideo=function(t,n,r,o,a){return e.keyframes.Video.startVideo(t),e.keyframes.Video.addSize(t,n),e.keyframes.Video.addLength(t,r),e.keyframes.Video.addContent(t,o),e.keyframes.Video.addName(t,a),e.keyframes.Video.endVideo(t)},e.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0},e.keyframes.Plugin.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Plugin.getRootAsPlugin=function(t,n){return(n||new e.keyframes.Plugin).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Plugin.prototype.index=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Plugin.prototype.mutate_index=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Plugin.prototype.content=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Plugin.prototype.contentLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Plugin.prototype.contentArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Plugin.prototype.optional=function(){var e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1},e.keyframes.Plugin.prototype.mutate_optional=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Plugin.startPlugin=function(e){e.startObject(3)},e.keyframes.Plugin.addIndex=function(e,t){e.addFieldInt32(0,t,0)},e.keyframes.Plugin.addContent=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Plugin.createContentVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Plugin.startContentVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Plugin.addOptional=function(e,t){e.addFieldInt8(2,+t,0)},e.keyframes.Plugin.endPlugin=function(e){var t=e.endObject();return t},e.keyframes.Plugin.createPlugin=function(t,n,r,o){return e.keyframes.Plugin.startPlugin(t),e.keyframes.Plugin.addIndex(t,n),e.keyframes.Plugin.addContent(t,r),e.keyframes.Plugin.addOptional(t,o),e.keyframes.Plugin.endPlugin(t)},e.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0},e.keyframes.ProgressMarker.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.ProgressMarker.getRootAsProgressMarker=function(t,n){return(n||new e.keyframes.ProgressMarker).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.ProgressMarker.prototype.name=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.ProgressMarker.prototype.startProgress=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.ProgressMarker.prototype.mutate_start_progress=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.ProgressMarker.prototype.endProgress=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.ProgressMarker.prototype.mutate_end_progress=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.ProgressMarker.startProgressMarker=function(e){e.startObject(3)},e.keyframes.ProgressMarker.addName=function(e,t){e.addFieldOffset(0,t,0)},e.keyframes.ProgressMarker.addStartProgress=function(e,t){e.addFieldFloat32(1,t,0)},e.keyframes.ProgressMarker.addEndProgress=function(e,t){e.addFieldFloat32(2,t,0)},e.keyframes.ProgressMarker.endProgressMarker=function(e){var t=e.endObject();return t},e.keyframes.ProgressMarker.createProgressMarker=function(t,n,r,o){return e.keyframes.ProgressMarker.startProgressMarker(t),e.keyframes.ProgressMarker.addName(t,n),e.keyframes.ProgressMarker.addStartProgress(t,r),e.keyframes.ProgressMarker.addEndProgress(t,o),e.keyframes.ProgressMarker.endProgressMarker(t)},e.keyframes.Layer=function(){this.bb=null,this.bb_pos=0},e.keyframes.Layer.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Layer.getRootAsLayer=function(t,n){return(n||new e.keyframes.Layer).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Layer.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_id=function(e){var t=this.bb.__offset(this.bb_pos,4);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.sublayers=function(t,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.keyframes.Layer).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Layer.prototype.sublayersLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Layer.prototype.fromProgress=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_from_progress=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.toProgress=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):1},e.keyframes.Layer.prototype.mutate_to_progress=function(e){var t=this.bb.__offset(this.bb_pos,10);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.anchorPoint=function(t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.xPosition=function(t){var n=this.bb.__offset(this.bb_pos,14);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.yPosition=function(t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.rotation=function(t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.scale=function(t){var n=this.bb.__offset(this.bb_pos,20);return n?(t||new e.keyframes.PointAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.path=function(t){var n=this.bb.__offset(this.bb_pos,22);return n?(t||new e.keyframes.PathAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.opacity=function(t){var n=this.bb.__offset(this.bb_pos,24);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.fillColor=function(t){var n=this.bb.__offset(this.bb_pos,26);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeColor=function(t){var n=this.bb.__offset(this.bb_pos,28);return n?(t||new e.keyframes.ColorAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeWidth=function(t){var n=this.bb.__offset(this.bb_pos,30);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeLineCap=function(){var t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.StrokeLineCap.Butt},e.keyframes.Layer.prototype.mutate_stroke_line_cap=function(e){var t=this.bb.__offset(this.bb_pos,32);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.gradient=function(t){var n=this.bb.__offset(this.bb_pos,34);return n?(t||new e.keyframes.Gradient).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.strokeLineJoin=function(){var t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.StrokeLineJoin.Miter},e.keyframes.Layer.prototype.mutate_stroke_line_join=function(e){var t=this.bb.__offset(this.bb_pos,36);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.miterLimit=function(t){var n=this.bb.__offset(this.bb_pos,38);return n?(t||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.bitmapIndex=function(){var e=this.bb.__offset(this.bb_pos,40);return e?this.bb.readInt32(this.bb_pos+e):-1},e.keyframes.Layer.prototype.mutate_bitmap_index=function(e){var t=this.bb.__offset(this.bb_pos,40);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.subdocumentIndex=function(){var e=this.bb.__offset(this.bb_pos,42);return e?this.bb.readInt32(this.bb_pos+e):-1},e.keyframes.Layer.prototype.mutate_subdocument_index=function(e){var t=this.bb.__offset(this.bb_pos,42);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.plugins=function(t,n){var r=this.bb.__offset(this.bb_pos,44);return r?(n||new e.keyframes.Plugin).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Layer.prototype.pluginsLength=function(){var e=this.bb.__offset(this.bb_pos,44);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Layer.prototype.progressOffset=function(){var e=this.bb.__offset(this.bb_pos,46);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_progress_offset=function(e){var t=this.bb.__offset(this.bb_pos,46);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.clippingPath=function(t){var n=this.bb.__offset(this.bb_pos,48);return n?(t||new e.keyframes.PathAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.position=function(t){var n=this.bb.__offset(this.bb_pos,50);return n?(t||new e.keyframes.PathAnimation).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.isTrackMatte=function(){var e=this.bb.__offset(this.bb_pos,52);return e?!!this.bb.readInt8(this.bb_pos+e):!1},e.keyframes.Layer.prototype.mutate_is_track_matte=function(e){var t=this.bb.__offset(this.bb_pos,52);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.trackMatteType=function(){var t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.TrackMatteType.None},e.keyframes.Layer.prototype.mutate_track_matte_type=function(e){var t=this.bb.__offset(this.bb_pos,54);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.vectorCompositeOrder=function(){var t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.VectorCompositeOrder.FillStroke},e.keyframes.Layer.prototype.mutate_vector_composite_order=function(e){var t=this.bb.__offset(this.bb_pos,56);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.text=function(e){var t=this.bb.__offset(this.bb_pos,58);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Layer.prototype.textTypeface=function(e){var t=this.bb.__offset(this.bb_pos,60);return t?this.bb.__string(this.bb_pos+t,e):null},e.keyframes.Layer.prototype.textSize=function(){var e=this.bb.__offset(this.bb_pos,62);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textSize=function(e){var t=this.bb.__offset(this.bb_pos,62);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textColor=function(t){var n=this.bb.__offset(this.bb_pos,64);return n?(t||new e.keyframes.Color).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Layer.prototype.textAlign=function(){var e=this.bb.__offset(this.bb_pos,66);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textAlign=function(e){var t=this.bb.__offset(this.bb_pos,66);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textVAlign=function(){var e=this.bb.__offset(this.bb_pos,68);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textVAlign=function(e){var t=this.bb.__offset(this.bb_pos,68);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textTracking=function(){var e=this.bb.__offset(this.bb_pos,70);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textTracking=function(e){var t=this.bb.__offset(this.bb_pos,70);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textLeading=function(){var e=this.bb.__offset(this.bb_pos,72);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Layer.prototype.mutate_textLeading=function(e){var t=this.bb.__offset(this.bb_pos,72);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textItalic=function(){var e=this.bb.__offset(this.bb_pos,74);return e?!!this.bb.readInt8(this.bb_pos+e):!1},e.keyframes.Layer.prototype.mutate_textItalic=function(e){var t=this.bb.__offset(this.bb_pos,74);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textWeight=function(){var t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readInt8(this.bb_pos+t):e.keyframes.TextWeight.Thin},e.keyframes.Layer.prototype.mutate_textWeight=function(e){var t=this.bb.__offset(this.bb_pos,76);return t===0?!1:(this.bb.writeInt8(this.bb_pos+t,e),!0)},e.keyframes.Layer.prototype.textBoxSize=function(t){var n=this.bb.__offset(this.bb_pos,78);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Layer.prototype.videoLevels=function(t,n){var r=this.bb.__offset(this.bb_pos,80);return r?(n||new e.keyframes.ScalarAnimation).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Layer.prototype.videoLevelsLength=function(){var e=this.bb.__offset(this.bb_pos,80);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Layer.prototype.videoIndex=function(){var e=this.bb.__offset(this.bb_pos,82);return e?this.bb.readInt32(this.bb_pos+e):-1},e.keyframes.Layer.prototype.mutate_video_index=function(e){var t=this.bb.__offset(this.bb_pos,82);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Layer.startLayer=function(e){e.startObject(40)},e.keyframes.Layer.addId=function(e,t){e.addFieldInt32(0,t,0)},e.keyframes.Layer.addSublayers=function(e,t){e.addFieldOffset(1,t,0)},e.keyframes.Layer.createSublayersVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Layer.startSublayersVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Layer.addFromProgress=function(e,t){e.addFieldFloat32(2,t,0)},e.keyframes.Layer.addToProgress=function(e,t){e.addFieldFloat32(3,t,1)},e.keyframes.Layer.addAnchorPoint=function(e,t){e.addFieldOffset(4,t,0)},e.keyframes.Layer.addXPosition=function(e,t){e.addFieldOffset(5,t,0)},e.keyframes.Layer.addYPosition=function(e,t){e.addFieldOffset(6,t,0)},e.keyframes.Layer.addRotation=function(e,t){e.addFieldOffset(7,t,0)},e.keyframes.Layer.addScale=function(e,t){e.addFieldOffset(8,t,0)},e.keyframes.Layer.addPath=function(e,t){e.addFieldOffset(9,t,0)},e.keyframes.Layer.addOpacity=function(e,t){e.addFieldOffset(10,t,0)},e.keyframes.Layer.addFillColor=function(e,t){e.addFieldOffset(11,t,0)},e.keyframes.Layer.addStrokeColor=function(e,t){e.addFieldOffset(12,t,0)},e.keyframes.Layer.addStrokeWidth=function(e,t){e.addFieldOffset(13,t,0)},e.keyframes.Layer.addStrokeLineCap=function(t,n){t.addFieldInt8(14,n,e.keyframes.StrokeLineCap.Butt)},e.keyframes.Layer.addGradient=function(e,t){e.addFieldOffset(15,t,0)},e.keyframes.Layer.addStrokeLineJoin=function(t,n){t.addFieldInt8(16,n,e.keyframes.StrokeLineJoin.Miter)},e.keyframes.Layer.addMiterLimit=function(e,t){e.addFieldOffset(17,t,0)},e.keyframes.Layer.addBitmapIndex=function(e,t){e.addFieldInt32(18,t,-1)},e.keyframes.Layer.addSubdocumentIndex=function(e,t){e.addFieldInt32(19,t,-1)},e.keyframes.Layer.addPlugins=function(e,t){e.addFieldOffset(20,t,0)},e.keyframes.Layer.createPluginsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Layer.startPluginsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Layer.addProgressOffset=function(e,t){e.addFieldFloat32(21,t,0)},e.keyframes.Layer.addClippingPath=function(e,t){e.addFieldOffset(22,t,0)},e.keyframes.Layer.addPosition=function(e,t){e.addFieldOffset(23,t,0)},e.keyframes.Layer.addIsTrackMatte=function(e,t){e.addFieldInt8(24,+t,0)},e.keyframes.Layer.addTrackMatteType=function(t,n){t.addFieldInt8(25,n,e.keyframes.TrackMatteType.None)},e.keyframes.Layer.addVectorCompositeOrder=function(t,n){t.addFieldInt8(26,n,e.keyframes.VectorCompositeOrder.FillStroke)},e.keyframes.Layer.addText=function(e,t){e.addFieldOffset(27,t,0)},e.keyframes.Layer.addTextTypeface=function(e,t){e.addFieldOffset(28,t,0)},e.keyframes.Layer.addTextSize=function(e,t){e.addFieldFloat32(29,t,0)},e.keyframes.Layer.addTextColor=function(e,t){e.addFieldOffset(30,t,0)},e.keyframes.Layer.addTextAlign=function(e,t){e.addFieldFloat32(31,t,0)},e.keyframes.Layer.addTextVAlign=function(e,t){e.addFieldFloat32(32,t,0)},e.keyframes.Layer.addTextTracking=function(e,t){e.addFieldFloat32(33,t,0)},e.keyframes.Layer.addTextLeading=function(e,t){e.addFieldFloat32(34,t,0)},e.keyframes.Layer.addTextItalic=function(e,t){e.addFieldInt8(35,+t,0)},e.keyframes.Layer.addTextWeight=function(t,n){t.addFieldInt8(36,n,e.keyframes.TextWeight.Thin)},e.keyframes.Layer.addTextBoxSize=function(e,t){e.addFieldStruct(37,t,0)},e.keyframes.Layer.addVideoLevels=function(e,t){e.addFieldOffset(38,t,0)},e.keyframes.Layer.createVideoLevelsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Layer.startVideoLevelsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Layer.addVideoIndex=function(e,t){e.addFieldInt32(39,t,-1)},e.keyframes.Layer.endLayer=function(e){var t=e.endObject();return t},e.keyframes.Layer.createLayer=function(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M,w,A,F,O,B,W,q){return e.keyframes.Layer.startLayer(t),e.keyframes.Layer.addId(t,n),e.keyframes.Layer.addSublayers(t,r),e.keyframes.Layer.addFromProgress(t,o),e.keyframes.Layer.addToProgress(t,a),e.keyframes.Layer.addAnchorPoint(t,i),e.keyframes.Layer.addXPosition(t,l),e.keyframes.Layer.addYPosition(t,s),e.keyframes.Layer.addRotation(t,u),e.keyframes.Layer.addScale(t,c),e.keyframes.Layer.addPath(t,d),e.keyframes.Layer.addOpacity(t,m),e.keyframes.Layer.addFillColor(t,p),e.keyframes.Layer.addStrokeColor(t,_),e.keyframes.Layer.addStrokeWidth(t,f),e.keyframes.Layer.addStrokeLineCap(t,g),e.keyframes.Layer.addGradient(t,h),e.keyframes.Layer.addStrokeLineJoin(t,y),e.keyframes.Layer.addMiterLimit(t,C),e.keyframes.Layer.addBitmapIndex(t,b),e.keyframes.Layer.addSubdocumentIndex(t,v),e.keyframes.Layer.addPlugins(t,S),e.keyframes.Layer.addProgressOffset(t,R),e.keyframes.Layer.addClippingPath(t,L),e.keyframes.Layer.addPosition(t,E),e.keyframes.Layer.addIsTrackMatte(t,k),e.keyframes.Layer.addTrackMatteType(t,I),e.keyframes.Layer.addVectorCompositeOrder(t,T),e.keyframes.Layer.addText(t,D),e.keyframes.Layer.addTextTypeface(t,x),e.keyframes.Layer.addTextSize(t,$),e.keyframes.Layer.addTextColor(t,P),e.keyframes.Layer.addTextAlign(t,N),e.keyframes.Layer.addTextVAlign(t,M),e.keyframes.Layer.addTextTracking(t,w),e.keyframes.Layer.addTextLeading(t,A),e.keyframes.Layer.addTextItalic(t,F),e.keyframes.Layer.addTextWeight(t,O),e.keyframes.Layer.addTextBoxSize(t,B),e.keyframes.Layer.addVideoLevels(t,W),e.keyframes.Layer.addVideoIndex(t,q),e.keyframes.Layer.endLayer(t)},e.keyframes.Document=function(){this.bb=null,this.bb_pos=0},e.keyframes.Document.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},e.keyframes.Document.getRootAsDocument=function(t,n){return(n||new e.keyframes.Document).__init(t.readInt32(t.position())+t.position(),t)},e.keyframes.Document.bufferHasIdentifier=function(e){return e.__has_identifier("KEYF")},e.keyframes.Document.prototype.size=function(t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.keyframes.Size).__init(this.bb_pos+n,this.bb):null},e.keyframes.Document.prototype.frameRate=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_frame_rate=function(e){var t=this.bb.__offset(this.bb_pos,6);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.duration=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_duration=function(e){var t=this.bb.__offset(this.bb_pos,8);return t===0?!1:(this.bb.writeFloat32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.version=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_version=function(e){var t=this.bb.__offset(this.bb_pos,10);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.rootLayer=function(t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new e.keyframes.Layer).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.keyframes.Document.prototype.bitmaps=function(t,n){var r=this.bb.__offset(this.bb_pos,14);return r?(n||new e.keyframes.Bitmap).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.bitmapsLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.subdocuments=function(t,n){var r=this.bb.__offset(this.bb_pos,16);return r?(n||new e.keyframes.Document).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.subdocumentsLength=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.plugins=function(e,t){var n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+e*4,t):null},e.keyframes.Document.prototype.pluginsLength=function(){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.id=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readInt32(this.bb_pos+e):0},e.keyframes.Document.prototype.mutate_id=function(e){var t=this.bb.__offset(this.bb_pos,20);return t===0?!1:(this.bb.writeInt32(this.bb_pos+t,e),!0)},e.keyframes.Document.prototype.manifest=function(e){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},e.keyframes.Document.prototype.manifestLength=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.manifestArray=function(){var e=this.bb.__offset(this.bb_pos,22);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},e.keyframes.Document.prototype.progressMarkers=function(t,n){var r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.keyframes.ProgressMarker).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.progressMarkersLength=function(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.prototype.videos=function(t,n){var r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.keyframes.Video).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null},e.keyframes.Document.prototype.videosLength=function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0},e.keyframes.Document.startDocument=function(e){e.startObject(12)},e.keyframes.Document.addSize=function(e,t){e.addFieldStruct(0,t,0)},e.keyframes.Document.addFrameRate=function(e,t){e.addFieldFloat32(1,t,0)},e.keyframes.Document.addDuration=function(e,t){e.addFieldFloat32(2,t,0)},e.keyframes.Document.addVersion=function(e,t){e.addFieldInt32(3,t,0)},e.keyframes.Document.addRootLayer=function(e,t){e.addFieldOffset(4,t,0)},e.keyframes.Document.addBitmaps=function(e,t){e.addFieldOffset(5,t,0)},e.keyframes.Document.createBitmapsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startBitmapsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addSubdocuments=function(e,t){e.addFieldOffset(6,t,0)},e.keyframes.Document.createSubdocumentsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startSubdocumentsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addPlugins=function(e,t){e.addFieldOffset(7,t,0)},e.keyframes.Document.createPluginsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startPluginsVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addId=function(e,t){e.addFieldInt32(8,t,0)},e.keyframes.Document.addManifest=function(e,t){e.addFieldOffset(9,t,0)},e.keyframes.Document.createManifestVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},e.keyframes.Document.startManifestVector=function(e,t){e.startVector(1,t,1)},e.keyframes.Document.addProgressMarkers=function(e,t){e.addFieldOffset(10,t,0)},e.keyframes.Document.createProgressMarkersVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startProgressMarkersVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.addVideos=function(e,t){e.addFieldOffset(11,t,0)},e.keyframes.Document.createVideosVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},e.keyframes.Document.startVideosVector=function(e,t){e.startVector(4,t,4)},e.keyframes.Document.endDocument=function(e){var t=e.endObject();return t},e.keyframes.Document.finishDocumentBuffer=function(e,t){e.finish(t,"KEYF")},e.keyframes.Document.createDocument=function(t,n,r,o,a,i,l,s,u,c,d,m,p){return e.keyframes.Document.startDocument(t),e.keyframes.Document.addSize(t,n),e.keyframes.Document.addFrameRate(t,r),e.keyframes.Document.addDuration(t,o),e.keyframes.Document.addVersion(t,a),e.keyframes.Document.addRootLayer(t,i),e.keyframes.Document.addBitmaps(t,l),e.keyframes.Document.addSubdocuments(t,s),e.keyframes.Document.addPlugins(t,u),e.keyframes.Document.addId(t,c),e.keyframes.Document.addManifest(t,d),e.keyframes.Document.addProgressMarkers(t,m),e.keyframes.Document.addVideos(t,p),e.keyframes.Document.endDocument(t)},a.exports=e.keyframes}),null);
__d("KeyframesVideoUtils",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=window.setTimeout,s=4;function u(e){var t=document.createElement("video");return t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),t.autoplay=!1,t.src=e,t.currentTime=0,e.startsWith("blob:")||(t.crossOrigin="anonymous"),t}function c(t,r){return new(e||(e=n("Promise")))(function(e,n){var o=function(){t.pause(),t.currentTime=r,t.removeEventListener("canplaythrough",o),a()},a=function(){t.readyState===s?e(t):l(a,10)},i=function(r){t.removeEventListener("error",i),n(r)};t.currentTime=r,t.addEventListener("error",i),t.readyState===s?e(t):t.addEventListener("canplaythrough",o)})}i.createVideo=u,i.loadVideo=c}),66);
__d("requestIdleCallback",["cr:7387"],(function(t,n,r,o,a,i,l){l.default=n("cr:7387")}),98);
__d("KeyframesAssetDecoder",["BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","Promise","flatbuffers","promiseDone","requestIdleCallback"],(function(t,n,r,o,a,i){"use strict";var e,l=n("KeyframesSchema").Document,s="medium",u=t.URL||t.webkitURL||{};function c(e){var t=new(n("flatbuffers")).ByteBuffer(e);return l.bufferHasIdentifier(t)?l.getRootAsDocument(t):null}function d(t){return new(e||(e=n("Promise")))(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(e){return n("Decode: error requesting image uri "+t)},r.src=t})}function m(e){var t=n("KeyframesVideoUtils").createVideo(e);return n("KeyframesVideoUtils").loadVideo(t,0)}function p(e,n,r){return t.createImageBitmap&&!(e instanceof VideoFrame)?e.width<n||e.height<r?f(e,n,r).then(function(e){return t.createImageBitmap(e,0,0,n,r).catch(function(t){return e})}):t.createImageBitmap(e,0,0,e.width,e.height,{resizeWidth:n,resizeHeight:r,rezizeQuality:s}).catch(function(t){return f(e,n,r)}):f(e,n,r)}function _(t,r,o){return t.width=r,t.height=o,(e||(e=n("Promise"))).resolve(t)}function f(t,r,o){return new(e||(e=n("Promise")))(function(e){var n=document.createElement("canvas");n.width=r,n.height=o;var a=n.getContext("2d");a.drawImage(t,0,0,r,o),e(n)})}function g(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!(o instanceof VideoFrame)){var a=t[r].size().width(),i=t[r].size().height();if(a!==o.width||i!==o.height){var l=document.createElement("canvas");l.width=a,l.height=i;var s=l.getContext("2d");s.drawImage(o,0,0,a,i),n.push(l)}else n.push(o)}}return n}function h(t,r,o){if(!u.createObjectURL)return(e||(e=n("Promise"))).reject("URL API not supported");var a=u.createObjectURL(t),i=d(a);return n("promiseDone")(i,function(){return n("requestIdleCallback")(function(){return u.revokeObjectURL(a)})}),i}function y(r){if(n("BlobFactory").isSupported()){var o=r.contentArray();if(!o)return(e||(e=n("Promise"))).reject("Decode: tried to decode a null bitmap");var a=n("BlobFactory").getBlob([o]),i=r.size().width(),l=r.size().height();return t.createImageBitmap?t.createImageBitmap(a,0,0,i,l).catch(function(e){return h(a,i,l)}):h(a,i,l)}return(e||(e=n("Promise"))).reject("Decode: browser does not support bitmap creation")}function C(t){if(n("BlobFactory").isSupported()){var r=t.size(),o=t.contentArray();if(!o)return(e||(e=n("Promise"))).reject("Decode: tried to decode a null video");var a=n("BlobFactory").getBlob([o]);if(!u.createObjectURL)return(e||(e=n("Promise"))).reject("URL API not supported");var i=u.createObjectURL(a),l=m(i).then(function(e){return _(e,r.width(),r.height())});return n("promiseDone")(l,function(){n("requestIdleCallback")(function(){return u.revokeObjectURL(i)})}),l}return(e||(e=n("Promise"))).reject("Decode: browser does not support video creation")}function b(e){for(var t=[],n=e.pluginsLength()-1;n>=0;n--)t.unshift(e.plugins(n));return t.length?t:null}function v(e){for(var t=[],n=e.bitmapsLength()-1;n>=0;n--)t.unshift(e.bitmaps(n));return t}function S(e){for(var t=[],n=e.videosLength()-1;n>=0;n--)t.unshift(e.videos(n));return t}function R(e){for(var t={},n=0;n<e.length;n++){var r=e[n].name();r&&(t[r]={index:n,width:e[n].size().width(),height:e[n].size().height()})}return t}function L(e){for(var t={},n=0;n<e.length;n++){var r=e[n].name();r&&(t[r]={index:n,width:e[n].size().width(),height:e[n].size().height()})}return t}function E(e){for(var t=[],n,r=e.subdocumentsLength()-1;r>=0;r--)n=e.subdocuments(r),t.unshift(n);return t}function k(t){var r=c(t);return r?I(r):(e||(e=n("Promise"))).reject("Decode: could not create flatbuffer doc")}function I(t){var r=v(t),o=L(r),a=S(t),i=R(a),l=r.filter(function(e){return e.contentLength()||!e.name()}).map(y),s=a.filter(function(e){return e.contentLength()||!e.name()}).map(C),u=E(t).map(I),c=b(t),d=c?n("KeyframesPluginsLoader").fromPluginTable(c):(e||(e=n("Promise"))).resolve(null);return(e||(e=n("Promise"))).all([e.all(l),e.all(s),d,e.all(u)]).then(function(e){var n=e[0],a=e[1],l=e[2],s=e[3];return{bitmaps:g(n,r),bitmapNames:o,videos:a,videoNames:i,doc:t,pluginsLoader:l,subassets:s}})}function T(t){return Uint8Array?(e||(e=n("Promise"))).resolve(new Uint8Array(t)):(e||(e=n("Promise"))).reject("Decode: typed arrays not supported")}function D(t,r,o){if(!t.bitmapNames[r]){var a=Object.keys(t.bitmapNames).join(",");return(e||(e=n("Promise"))).reject("Decode: missing replacement bitmap name "+r+", available names: "+a)}var i=t.bitmapNames[r],l=i.height,s=i.index,u=i.width;return p(o,u,l).then(function(e){t.bitmaps[s]=e})}function x(t,r,o){if(!t.videoNames[r]){var a=Object.keys(t.videoNames).join(",");return(e||(e=n("Promise"))).reject("Decode: missing replacement video name "+r+", available names: "+a)}var i=t.videoNames[r],l=i.height,s=i.index,u=i.width;return _(o,u,l).then(function(e){t.videos[s]=e})}function $(e){var t=babelHelpers.extends({},e);return t.bitmaps=e.bitmaps.slice(),t}var P={awaitForMap:function(r,o){var t={},a=[],i=function(){var e=l[0],r=l[1],i=o(r,e);a.push(i),n("promiseDone")(i,function(n){return t[e]=n})};for(var l of Object.entries(r))i();return(e||(e=n("Promise"))).all(a).then(function(){return t})},fromDocumentBytes:function(r){return r instanceof ArrayBuffer?T(r).then(k):r instanceof Uint8Array?k(r):(e||(e=n("Promise"))).reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(t,n){return P.awaitForMap(n,function(e){return d(e)}).then(function(e){return P.replaceBitmapsWithImageSources(t,e)})},replaceBitmapsWithImageSources:function(t,n){var e=$(t);return P.awaitForMap(n,function(t,n){return D(e,n,t)}).then(function(){return e})},replaceVideosWithURIs:function(t,n){return P.awaitForMap(n,m).then(function(e){return P.replaceVideosWithVideoSources(t,e)})},replaceVideosWithVideoSources:function(t,n){var e=$(t);return P.awaitForMap(n,function(t,n){return x(e,n,t)}).then(function(){return e})}};a.exports=P}),null);
__d("KeyframesCanvasPolyfills",[],(function(t,n,r,o,a,i){"use strict";function e(e){e.getTransform===void 0&&(e.currentTransform?e.getTransform=function(){var t=e.currentTransform;return{a:t.a,b:t.b,c:t.c,d:t.d,e:t.e,f:t.f}}:e.mozCurrentTransform!==void 0?e.getTransform=function(){var t=e.mozCurrentTransform;return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}:e.getTransform=function(){return l})}var l={a:1,b:0,c:0,d:1,e:0,f:0};i.addGetTransformPolyfill=e}),66);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$4=function(e){e.canvas.width=t.$1.width.physical,e.canvas.height=t.$1.height.physical,e.canvas.style.width=t.$1.width.logical+"px",e.canvas.style.height=t.$1.height.logical+"px"},this.$1=e,this.$2=[],this.$3=[]}var t=e.prototype;return t.getCanvas=function(){if(this.$2.length){var e=this.$2.pop();return this.$3.push(e),e}else{var t=document.createElement("canvas"),n=r("nullthrows")(t.getContext("2d"));o("KeyframesCanvasPolyfills").addGetTransformPolyfill(n);var a={canvas:t,ctx:n};return this.$4(a),this.$3.push(a),a}},t.clearAllAllocated=function(){var e=this;this.$3.forEach(function(t){var n=t.ctx;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,Math.max(e.$1.width.physical,e.$1.width.intrinsic),Math.max(e.$1.height.physical,e.$1.height.intrinsic))})},t.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]},t.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)},e})();l.default=e}),98);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(t,n,r,o,a,i,l){"use strict";var e=n("KeyframesSchema").StrokeLineCap,s=n("KeyframesSchema").CommandType,u=["miter","round","bevel"];function c(e){return"rgba("+Math.floor(e.red)+","+Math.floor(e.green)+","+Math.floor(e.blue)+","+Math.floor(e.alpha)/255+")"}function d(t){switch(t){case e.Square:return"square";case e.Round:return"round";case e.Butt:default:return"butt"}}function m(e,t){e.beginPath();for(var n of t)switch(n.type){case s.MoveTo:e.moveTo(n.point.x,n.point.y);break;case s.CubicTo:n.control1&&n.control2||l(0,2935),e.bezierCurveTo(n.control1.x,n.control1.y,n.control2.x,n.control2.y,n.point.x,n.point.y);break;case s.QuadTo:n.control1||l(0,2936),e.quadraticCurveTo(n.control1.x,n.control1.y,n.point.x,n.point.y);break;case s.LineTo:e.lineTo(n.point.x,n.point.y);break;default:throw new Error("Unrecognized path command "+n.type)}}a.exports={drawPath:m,getCanvasStyle:c,getCanvasLineCap:d,LINE_JOINS:u}}),null);
__d("KeyframesDimensions",["invariant","cr:2680"],(function(t,n,r,o,a,i,l,s){"use strict";var e=n("cr:2680").get(),u=(function(){function t(e){this.overridden=!1,this.intrinsic=e,this.$1(e)}var n=t.prototype;return n.$1=function(n){this.logical=n,this.physical=Math.floor(this.logical*e)},n.scale=function(t,n){!this.overridden||s(0,1136),this.$1(t*n)},n.override=function(t){this.overridden=!0,this.$1(t)},n.reset=function(){this.overridden=!1,this.$1(this.intrinsic)},n.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic},t})(),c=(function(){function e(e,t){this.ratio=t?e/t:0,this.width=new u(e),this.height=new u(t)}var t=e.prototype;return t.setWidth=function(t){this.width.override(t),this.height.overridden||this.height.scale(t,this.ratio?1/this.ratio:0)},t.setHeight=function(t){this.height.override(t),this.width.overridden||this.width.scale(t,this.ratio)},t.reset=function(){this.height.reset(),this.width.reset()},e})();l.default=c}),98);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],(function(t,n,r,o,a,i,l){"use strict";var e,s=1e3,u=new Set;function c(t){var n=(e||(e=r("performanceNow")))();t.callback(Math.min(n-(t.previousTime||n),s)),t.previousTime=n,t.framesRemaining-=1,t.framesRemaining<=0&&t.cancel()}function d(e){u.size>0&&(u.forEach(c),r("requestAnimationFramePolyfill")(d))}r("gkx")("20935")||o("Run").onLeave(function(){u.forEach(function(e){return e.cancel()})}),window.addEventListener("focus",function(){u.forEach(function(t){return t.previousTime=(e||(e=r("performanceNow")))()-16.67})});var m=(function(){function t(e){this.framesRemaining=1/0,this.callback=e,this.previousTime=0}var n=t.prototype;return n.start=function(n){n===void 0&&(n=1/0),this.framesRemaining=n,this.$1||(u.size===0&&r("requestAnimationFramePolyfill")(d),u.add(this),this.previousTime=(e||(e=r("performanceNow")))(),this.$1=r("TimeSlice").getGuardedContinuation("KeyframesLoop"))},n.cancel=function(){this.$1&&(this.$1(r("emptyFunction")),this.$1=null,u.delete(this))},n.isRunning=function(){return!!this.$1},t})();l.default=m}),98);
__d("KeyframesPathUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return(n-t)*e+t}function l(e,t,n,r,o,a,i){return o*r+2*n*e*a+t*i}function s(e,t,n,r,o,a,i,l){return o*r*n+a*3*r*e+i*3*n*t+l*t*e}a.exports={interpolateLinear:e,interpolateQuad:l,interpolateCubic:s,lerp:e}}),null);
__d("KeyframesTrackMattes",[],(function(t,n,r,o,a,i){"use strict";var e={1:"destination-in",2:"destination-out"};i.default=e}),66);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("KeyframesPathUtils").interpolateCubic,u=n("KeyframesPathUtils").interpolateLinear,c=n("KeyframesPathUtils").interpolateQuad,d=(e=n("KeyframesSchema")).Color,m=e.ColorAnimation,p=e.ColorArray,_=e.ColorArrayAnimation,f=e.Command,g=e.CommandType,h=e.Path,y=e.PathAnimation,C=e.Point,b=e.PointAnimation,v=e.ScalarAnimation,S=e.ScalarArray,R=e.ScalarArrayAnimation,L=e.TweenType;function E(e){return e}function k(e){return{x:e.x(),y:e.y()}}function I(e){return{red:e.red(),green:e.green(),blue:e.blue(),alpha:e.alpha()}}function T(e){for(var t=e.valuesLength(),n=[],r=0;r<t;r++)n.push(e.values(r));return n}function D(e){for(var t=e.colorsLength(),n=[],r=0;r<t;r++)n.push(I(e.colors(r)));return n}function x(e){var t=e.control1(),n=e.control2();return{type:e.type(),point:k(e.point()),control1:t?k(t):null,control2:n?k(n):null}}function $(e){for(var t=[],n=0;n<e.commandsLength();n++)t.push(x(e.commands(n)));return t}function P(e,t){return e>=t.keyframes(t.keyframesLength()-1)?1:e<t.keyframes(0)?-1:0}function N(e,t){if(P(e,t)!==0)return null;for(var n=0,r=t.keyframesLength()-1;n+1<r;){var o=Math.floor((r-n)/2+n);t.keyframes(o)<e?n=o:r=o}return n}function M(e,t,r){var o=t.tweens(r),a=o.type();if(a===L.Hold)return 0;var i=(e-t.keyframes(r))/(t.keyframes(r+1)-t.keyframes(r));switch(a){case L.Linear:return i;case L.Bezier:default:return new(n("CubicBezier"))([o.control1().x(),o.control1().y()],[o.control2().x(),o.control2().y()]).solve(i)}}var w=function(t,n,r){return t*(r-n)+n},A=function(t,n,r){for(var e=n.valuesLength(),o=[],a=0;a<e;a++)o.push(w(t,n.values(a),r.values(a)));return o},F=function(t,n,r){return{x:w(t,n.x(),r.x()),y:w(t,n.y(),r.y())}},O=function(t,n,r){return n&&r?F(t,n,r):null},B=function(t,n,r){return{red:w(t,n.red(),r.red()),green:w(t,n.green(),r.green()),blue:w(t,n.blue(),r.blue()),alpha:w(t,n.alpha(),r.alpha())}},W=function(t,n,r){for(var e=n.colorsLength(),o=[],a=0;a<e;a++)o.push(B(t,n.colors(a),r.colors(a)));return o},q=function(t,n,r){for(var e=[],o=0;o<n.commandsLength();o++){var a=n.commands(o),i=r.commands(o);e.push({type:a.type(),point:F(t,a.point(),i.point()),control1:O(t,a.control1(),i.control1()),control2:O(t,a.control2(),i.control2())})}return e};function U(e,t,n,r){var o=N(n,r);o!=null||l(0,2829);var a=M(n,r,o);switch(a){case 0:return t(r.values(o));case 1:return t(r.values(o+1));default:return e(a,r.values(o),r.values(o+1))}}var V=U.bind(null,w,E),H=U.bind(null,A,T),G=U.bind(null,F,k),z=U.bind(null,B,I),j=U.bind(null,W,D),K=U.bind(null,q,$);function Q(e,t,n,r){if(t.keyframesLength())switch(P(e,t)){case-1:return r(t.values(0));case 1:return r(t.values(t.valuesLength()-1));case 0:return n(e,t)}return r(t.value())}var X=function(t,n){return Q(t,n,V,E)},Y=function(t,n){return Q(t,n,H,T)},J=function(t,n){return Q(t,n,G,k)},Z=function(t,n){return Q(t,n,z,I)},ee=function(t,n){return Q(t,n,j,D)},te=function(t,n){return Q(t,n,K,$)};function ne(e,t,n){return{x:u(e,t.x,n.x),y:u(e,t.y,n.y)}}function re(e,t,n,r){var o=e*e,a=1-e,i=a*a;return{x:c(e,o,a,i,t.x,r.x,n.x),y:c(e,o,a,i,t.y,r.y,n.y)}}function oe(e,t,n,r,o){var a=e*e,i=1-e,l=i*i;return{x:s(e,a,i,l,t.x,r.x,o.x,n.x),y:s(e,a,i,l,t.y,r.y,o.y,n.y)}}function ae(e,t,n){var r=M(e,t,n),o=t.value(),a=k(o.commands(n).point()),i=x(o.commands(n+1));switch(i.type){case g.LineTo:return ne(r,a,i.point);case g.QuadTo:return i.control1||l(0,2830),re(r,a,i.point,i.control1);case g.CubicTo:return i.control1&&i.control2||l(0,2831),oe(r,a,i.point,i.control1,i.control2);default:throw new Error("Unrecognized segment type "+i.type)}}function ie(e,t){switch(P(e,t)){case-1:return k(t.value().commands(0).point());case 1:var n=t.value();return k(n.commands(n.commandsLength()-1).point());default:var r=N(e,t);return r!=null||l(0,2832),ae(e,t,r)}}var le={maybeTweenPoint2:J,maybeTweenColor:Z,maybeTweenColorArray:ee,maybeTweenScalar:X,maybeTweenScalarArray:Y,maybeTweenPath:te,tweenPointOnPath:ie};a.exports=le}),null);
__d("KeyframesVideoManager",["KeyframesVideoUtils"],(function(t,n,r,o,a,i){"use strict";var e=.2,l=100,s=[.85,1.15];a.exports=(function(){function t(e){this.$1=e,this.$3=1/e.doc.frameRate(),this.$2=d(e.doc.rootLayer(),e),this.$4=this.$5()}var r=t.prototype;return r.getVideos=function(){return this.$1.videos},r.getTimeWindows=function(){return this.$2},r.forEach=function(t){this.getVideos().forEach(t)},r.pause=function(){this.forEach(function(e){e.pause()})},r.mute=function(){this.forEach(function(e){e.muted=!0})},r.unMute=function(){this.forEach(function(e){e.muted=!1})},r.renderProgress=function(n){var t=this;this.$2.forEach(function(r,o){var a=r.video,i=c(r,n),l=u(r,n),d=t.$1.doc.duration()*l,m=Math.abs(d-a.currentTime),p=t.$1.doc.duration()*(r.toProgress-r.fromProgress);if(m>e&&a.currentTime<p&&d<p){var _=(p-a.currentTime)/(p-d);_>=s[0]&&_<=s[1]&&t.changeVideoPlaybackRate(o,_)}i&&a.paused?a.play():i==!1&&a.paused==!1&&(a.pause(),a.currentTime=0)})},r.$5=function(){return this.$2.map(function(e){var t=e.video;return p(function(e){t.playbackRate=e},l,!0)})},r.changeVideoPlaybackRate=function(t,n){this.$4[t](n)},r.seekToProgress=async function(t){var e=this,r=this.$2.map(async function(r){var o=r.video,a=0;if(c(r,t)){var i=u(r,t);a=m(e.$1.doc.duration()*i)}o.pause(),o.currentTime=a,await n("KeyframesVideoUtils").loadVideo(o,a)});await Promise.all(r)},t})();function u(e,t){return t-e.fromProgress}function c(e,t){return t>=e.fromProgress&&t<=e.toProgress}function d(e,t){var n=[],r=e.videoIndex();if(r!=-1){var o=t.videos[r],a=t.doc.videos(r);o!=null&&n.push({fromProgress:e.fromProgress(),toProgress:e.toProgress(),name:a!=null?a.name():null,video:o})}for(var i=0;i<e.sublayersLength();i++)n=n.concat(d(e.sublayers(i),t));return n}function m(e){return Math.round(e*100)/100}function p(e,t,n){t===void 0&&(t=100),n===void 0&&(n=!1);var r;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var l=function(){r=null,n||e.apply(void 0,a)},s=n&&!r;clearTimeout(r),r=setTimeout(l,t),s&&e.apply(void 0,a)}}}),null);
__d("KeyframesRenderer",["invariant","ErrorGuard","KFLoaderUtils","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","gkx","nullthrows","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=1,m={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"},p=60,_=1e3/p,f=1,g="source-over";function h(e,t){return r("gkx")("21037")?(u||(u=r("ErrorGuard"))).guard(e,{name:t}):e}var y=(function(){function e(e,t){t===void 0&&(t=100),this.$3=!1,this.$4=0,this.$1=e,this.$2=t}var t=e.prototype;return t.callOrIgnoreThrottled=function(){if((c||(c=r("performanceNow")))()>=this.$4){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$5(t)}else this.$3=!0},t.callIfIgnored=function(){if(this.$3){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$5(t)}},t.callImmediately=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$5(t)},t.resetThrottling=function(){this.$4=0},t.$5=function(t){this.$3=!1,this.$4=(c||(c=r("performanceNow")))()+this.$2,this.$1.apply(null,t)},e})();function C(e,t){if(e.pluginsLoader){e.pluginsLoader.instances.forEach(t);for(var n=e.subassets.length-1;0<=n;n--)C(e.subassets[n],t)}}function b(e,t,n,r){if(e.pluginsLoader){for(var o=e.pluginsLoader.instances.length-1;0<=o;o--)e.pluginsLoader.instances[o].animationWillRenderLayer(t,n,r);for(var a=e.subassets.length-1;0<=a;a--)b(e.subassets[a],t,n,r)}}function v(e,t,n,r){e.save(),e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!0),e.closePath(),e.clip(),e.clearRect(t-r,n-r,r*2,r*2),e.restore()}function S(t,n,r,a){var i,l=(e||(e=o("KeyframesTween"))).maybeTweenPoint2(t,n.rampStart()),s=e.maybeTweenPoint2(t,n.rampEnd()),u=n.colors(),c=n.positions();if(u&&c?(u=(e||(e=o("KeyframesTween"))).maybeTweenColorArray(t,u),c=e.maybeTweenScalarArray(t,c)):(u=[(e||(e=o("KeyframesTween"))).maybeTweenColor(t,n.colorStart()),e.maybeTweenColor(t,n.colorEnd())],c=[0,1]),n.type()===d){var m=n.highlightLength();m=m!==null?(e||(e=o("KeyframesTween"))).maybeTweenScalar(t,m):0;var p=n.highlightAngle();p=p!==null?(e||(e=o("KeyframesTween"))).maybeTweenScalar(t,n.highlightAngle()):0;var _=l.x,f=l.y,g=Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2)),h=Math.acos((s.x-_)/g),y=_+g*m*Math.cos(h-p),C=f-g*m*Math.sin(h-p),b=0;m!==0&&(r.clip(),r.fillStyle=o("KeyframesCanvasUtils").getCanvasStyle(u[u.length-1]),r.fill(),v(r,_,f,g)),i=r.createRadialGradient(y,C,b,_,f,g)}else i=r.createLinearGradient(l.x,l.y,s.x,s.y);for(var S=0,R=u.length;S<R;S++)i.addColorStop(c[S],o("KeyframesCanvasUtils").getCanvasStyle(u[S]));return i}function R(t,n,a,i,l,s,u,c,d){if(d===void 0&&(d=f),!(u<Math.max(s.fromProgress(),0)||u>Math.min(s.toProgress(),1))){try{c&&c.maybeInstantiatePluginsForLayer(s)}catch(e){}var m=t,p,_=s.isTrackMatte(),h=s.trackMatteType();if(_||h!==0){var y=m.getTransform();p=n.getCanvas(),p.ctx.setTransform(y.a,y.b,y.c,y.d,y.e,y.f),p.isTrackMatte=_,p.trackMatteType=h,p.ctx.globalCompositeOperation=g,m=p.ctx}m.save();var C=s.position();if(C){var b=(e||(e=o("KeyframesTween"))).tweenPointOnPath(u,C),v=b.x,L=b.y;m.translate(v,L)}else{var E=s.xPosition();E&&m.translate((e||(e=o("KeyframesTween"))).maybeTweenScalar(u,E),0);var k=s.yPosition();k&&m.translate(0,(e||(e=o("KeyframesTween"))).maybeTweenScalar(u,k))}var I=s.rotation();I&&m.rotate((e||(e=o("KeyframesTween"))).maybeTweenScalar(u,I));var T=s.scale();if(T){var D=(e||(e=o("KeyframesTween"))).maybeTweenPoint2(u,T),x=D.x,$=D.y;m.scale(x,$)}var P=s.anchorPoint();if(P){var N=(e||(e=o("KeyframesTween"))).maybeTweenPoint2(u,P),M=N.x,w=N.y;m.translate(-M,-w)}var A=s.opacity();A=A!=null?(e||(e=o("KeyframesTween"))).maybeTweenScalar(u,A):1,m.globalAlpha=A*d;var F=!1;if(c){var O=c.getPluginsForLayer(s.id());if(O)for(var B=0;B<O.length;B++)O[B].render(m,u),F=F||O[B].rendersLayer}if(s.clippingPath()&&(o("KeyframesCanvasUtils").drawPath(m,(e||(e=o("KeyframesTween"))).maybeTweenPath(u,s.clippingPath())),m.clip()),!F&&s.path()){o("KeyframesCanvasUtils").drawPath(m,(e||(e=o("KeyframesTween"))).maybeTweenPath(u,s.path()));var W=s.gradient(),q=s.fillColor(),U=!1,V=!1;if(W?(m.fillStyle=S(u,W,m),U=!0):q&&(m.fillStyle=o("KeyframesCanvasUtils").getCanvasStyle((e||(e=o("KeyframesTween"))).maybeTweenColor(u,q)),U=!0),s.strokeWidth()){var H=(e||(e=o("KeyframesTween"))).maybeTweenScalar(u,s.strokeWidth());H>0&&(m.strokeStyle=o("KeyframesCanvasUtils").getCanvasStyle((e||(e=o("KeyframesTween"))).maybeTweenColor(u,s.strokeColor())),m.lineJoin=o("KeyframesCanvasUtils").LINE_JOINS[s.strokeLineJoin()],m.lineCap=o("KeyframesCanvasUtils").getCanvasLineCap(s.strokeLineCap()),m.lineWidth=H,V=!0)}s.vectorCompositeOrder()===0?(U&&m.fill(),V&&m.stroke()):(V&&m.stroke(),U&&m.fill())}var G=s.bitmapIndex(),z=a[G];z&&z.width!==0&&z.height!==0&&m.drawImage(z,0,0);var j=s.videoIndex(),K=i[j];K!=null&&m.drawImage(K,0,0,K.width,K.height);var Q=s.subdocumentIndex();if(l[Q]){var X=l[Q].doc.size();m.save(),m.beginPath(),m.rect(0,0,X.width(),X.height()),m.clip(),R(m,n,l[Q].bitmaps,l[Q].videos,l[Q].subassets,l[Q].doc.rootLayer(),u-s.progressOffset(),l[Q].pluginsLoader,A*d),m.restore()}for(var Y,J,Z=0;Z<s.sublayersLength();Z++){var ee=R(m,n,a,i,l,s.sublayers(Z),u,c,A*d);if(!Y&&ee&&ee.trackMatteType!==void 0)Y=ee;else if(Y&&ee&&ee.isTrackMatte!==void 0){var te=m.getTransform();m.setTransform(1,0,0,1,0,0),Y.ctx.setTransform(1,0,0,1,0,0),J=ee,Y.ctx.globalCompositeOperation=r("KeyframesTrackMattes")[Y.trackMatteType===void 0?1:Y.trackMatteType],Y.ctx.drawImage(J.canvas,0,0),m.drawImage(Y.canvas,0,0),m.setTransform(te.a,te.b,te.c,te.d,te.e,te.f),Y=void 0,J=void 0}else Y&&!ee?(m.drawImage(Y.canvas,0,0),Y=void 0,J=void 0):ee&&ee.isTrackMatte!==void 0&&(Y=void 0,J=void 0)}return m.restore(),p}}var L=(function(){function e(e,t){var n=this;this.$5=0,this.$6=0,this.$8=!1,this.$9=!1,this.$10=!1,this.$11=0,this.$16=!1,this.$17=0,this.$18=1,this.$19=1,this.$21=1,this.$22=0,this.$26=function(e){(n.$12||n.$15)&&n.$34(e),n.$16?(n.$10&&n.$32(),n.$24.renderProgress(n.$11),n.$33(n.$11),n.$11+=e/n.$5,n.$14&&n.$14.callOrIgnoreThrottled(n.$17),n.$11>=n.$21&&(n.$11%=n.$21,n.$19=Math.max(0,n.$19-1),n.$15&&n.$15.finish(),n.$19===0?n.pause():(n.$24.seekToProgress(0),n.$15&&n.$15.start(),n.$11+=n.$22),n.$13&&n.$13(n.$19),n.$30())):n.redrawIfNeeded()},this.$33=h(function(e){e>=0&&e<=1||s(0,750,e),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&b(this.$1,e,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),R(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,e,this.$1.pluginsLoader),this.$17=e,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()"),this.$32=h(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()"),this.$23=new(r("KeyframesDimensions"))(e.doc.size().width(),e.doc.size().height()),this.$4=new(r("KeyframesCanvasPool"))(this.$23),this.$2=document.createElement("canvas"),this.$3=r("nullthrows")(this.$2.getContext("2d")),o("KeyframesCanvasPolyfills").addGetTransformPolyfill(this.$3),this.$7=new(r("KeyframesLoop"))(this.$26),this.$15=t,this.$24=new(r("KeyframesVideoManager"))(e),this.setDecodedAsset(e),this.$27(),this.$25=Promise.resolve()}var t=e.prototype;return t.play=function(){return this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start()),this},t.pause=function(){return this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17))),this.$24.pause(),this.$29(this.$24.seekToProgress(this.$17)),b(this.$1,this.$17,this.$16,this.$8),this},t.isPlaying=function(){return this.$16},t.isFinished=function(){return this.$19===0},t.isMuted=function(){return this.$8},t.mute=function(){this.$8=!0,this.$24.mute()},t.unMute=function(){this.$8=!1,this.$24.unMute()},t.repeatCount=function(t){return this.$18=this.$19=Math.max(1,t),this},t.repeatForever=function(){return this.repeatCount(1/0)},t.getRepeatsRemaining=function(){return this.$19},t.seekToProgress=function(t){var e=this;return t>=0&&t<=1||s(0,749,t),this.$14&&this.$14.resetThrottling(),this.$17=this.$11=t,this.$29(this.$24.seekToProgress(t).then(function(){return e.$28()})),t===0&&this.$30(),this.$28(),this},t.setStartAndEndAt=function(t,n){if(t>=n)throw new Error("Cannot set the start time before the end time.");if(n<=t)throw new Error("Cannot set the end time before the start time.");return this.$22=t,this.$21=n,this},t.setStartAt=function(t){if(t>=this.$21)throw new Error("Cannot set the start time before the end time.");return this.$22=t,this},t.setEndAt=function(t){if(t<=this.$22)throw new Error("Cannot set the end time before the start time.");return this.$21=t,this},t.getDuration=function(){return this.$5},t.getFrameRate=function(){return this.$6},t.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]},t.getWidth=function(){return this.$23.width.logical},t.getHeight=function(){return this.$23.height.logical},t.setWidth=function(t){return this.$23.setWidth(t),this.$27(),this},t.setHeight=function(t){return this.$23.setHeight(t),this.$27(),this},t.getDecodedAsset=function(){return babelHelpers.extends({},this.$1)},t.setDecodedAsset=function(t){return this.$1=t,this.$5=r("KFLoaderUtils").getDocumentDuration(t.doc),this.$6=t.doc.frameRate(),this.$20=t.doc.rootLayer(),this.$24=new(r("KeyframesVideoManager"))(t),this.$28(),this.$31(),this},t.resetDimensions=function(){return this.$23.reset(),this.$27(),this},t.onError=function(t){return this.$12=t,this},t.onRepeatEnd=function(t){return this.$13=t,this},t.onProgress=function(t,n){return this.$14=t&&new y(t,n),this},t.getProgress=function(){return this.$17},t.getElement=function(){return this.$2},t.hasPerformanceLogging=function(){return!!this.$15},t.redrawIfNeeded=function(){return(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17)),this},t.waitForVideoUpdate=async function(){await this.$25},t.$29=function(t){this.$25=t,r("promiseDone")(t)},t.$27=function(){this.$10=!0,this.$28()},t.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)},t.$31=function(){C(this.$1,function(e){return e.animationDidLoad()})},t.$30=function(){var e=this;C(this.$1,function(t){return t.animationWillRepeat(e.$11,e.$19)})},t.$34=function(t){var e=Math.round(t/_-1);e>0&&(this.$15&&this.$15.addFrameDrop(e),this.$12&&this.$12(m.ERROR_FRAMEDROP,e))},e})();i.exports=L}),34);
__d("requestIdleCallbackComet",["IdleCallbackImplementation"],(function(t,n,r,o,a,i,l){"use strict";var e=t.requestIdleCallback||o("IdleCallbackImplementation").requestIdleCallback;function s(n,r){return e.call(t,n,r)}l.default=s}),98);
__d("requestIdleCallbackWWW",["cr:694370"],(function(t,n,r,o,a,i,l){l.default=n("cr:694370")}),98);/*FB_PKG_DELIM*/
__d("CometPoliticalInfosheetDialogSelector_verifiedVoiceContext.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPoliticalInfosheetDialogSelector_verifiedVoiceContext",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rendering_for_ad_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"types",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPoliticalInfosheetReshareDialog_verifiedVoiceContext"}],type:"VerifiedVoiceContext",abstractKey:null};a.exports=e}),null);
__d("CometPoliticalInfosheetReshareFinServDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26219183554341875"}),null);
__d("CometPoliticalInfosheetReshareFinServDialogQuery$Parameters",["CometPoliticalInfosheetReshareFinServDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometPoliticalInfosheetReshareFinServDialogQuery_facebookRelayOperation"),metadata:{},name:"CometPoliticalInfosheetReshareFinServDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometPoliticalInfosheetReshareFinServDialog.entrypoint",["CometPoliticalInfosheetReshareFinServDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.ad_id,n=t.story_id;return{queries:{politicalInfosheetQueryReference:{parameters:r("CometPoliticalInfosheetReshareFinServDialogQuery$Parameters"),variables:{ad_id:e,scale:o("WebPixelRatio").get(),story_id:n}}}}},root:r("JSResourceForInteraction")("CometPoliticalInfosheetReshareFinServDialog.react").__setRef("CometPoliticalInfosheetReshareFinServDialog.entrypoint")};l.default=e}),98);
__d("CometPoliticalInfosheetDialogSelector.react",["CometEntryPointDialogTrigger.react","CometLazyDialogTrigger.react","CometPoliticalInfosheetDialogSelector_verifiedVoiceContext.graphql","CometPoliticalInfosheetDialogV2.entrypoint","CometPoliticalInfosheetReshareFinServDialog.entrypoint","CometRelay","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useRef,d=r("JSResourceForInteraction")("CometPoliticalInfosheetReshareDialog.react").__setRef("CometPoliticalInfosheetDialogSelector.react");function m(t){var a,i=o("react-compiler-runtime").c(38),l=t.adID,s=t.dialogTriggerFunc,m=t.isInstream,p=t.storyID,_=t.verifiedVoiceContext,f=c(null),g=o("CometRelay").useFragment(e!==void 0?e:e=n("CometPoliticalInfosheetDialogSelector_verifiedVoiceContext.graphql"),_),h=(g==null?void 0:g.is_rendering_for_ad_impression)===!1,y=m,C=(a=g==null?void 0:g.types)!=null?a:[],b=C.includes("FINANCIAL_SERVICES");if(!h&&!y){var v,S;i[0]!==l||i[1]!==p?(v={adID:l,isReshare:!1,onClose:r("emptyFunction"),storyID:p},S={ad_id:l,story_id:p},i[0]=l,i[1]=p,i[2]=v,i[3]=S):(v=i[2],S=i[3]);var R;i[4]!==s?(R=function(t){return s(t)},i[4]=s,i[5]=R):R=i[5];var L;return i[6]!==v||i[7]!==S||i[8]!==R?(L=u.jsx(r("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:r("CometPoliticalInfosheetDialogV2.entrypoint"),otherProps:v,preloadParams:S,children:R}),i[6]=v,i[7]=S,i[8]=R,i[9]=L):L=i[9],L}else{if(C.length>1){var E,k;i[10]!==l||i[11]!==p?(E={adID:l,isReshare:!0,onClose:r("emptyFunction"),storyID:p},k={ad_id:l,story_id:p},i[10]=l,i[11]=p,i[12]=E,i[13]=k):(E=i[12],k=i[13]);var I;i[14]!==s?(I=function(t){return s(t)},i[14]=s,i[15]=I):I=i[15];var T;return i[16]!==E||i[17]!==k||i[18]!==I?(T=u.jsx(r("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:r("CometPoliticalInfosheetDialogV2.entrypoint"),otherProps:E,preloadParams:k,children:I}),i[16]=E,i[17]=k,i[18]=I,i[19]=T):T=i[19],T}if(b){var D,x;i[20]!==l||i[21]!==p?(D={adID:l,onClose:r("emptyFunction"),onHide:r("emptyFunction"),storyID:p},x={ad_id:l,story_id:p},i[20]=l,i[21]=p,i[22]=D,i[23]=x):(D=i[22],x=i[23]);var $;i[24]!==s?($=function(t){return s(t)},i[24]=s,i[25]=$):$=i[25];var P;return i[26]!==D||i[27]!==x||i[28]!==$?(P=u.jsx(r("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:r("CometPoliticalInfosheetReshareFinServDialog.entrypoint"),otherProps:D,preloadParams:x,children:$}),i[26]=D,i[27]=x,i[28]=$,i[29]=P):P=i[29],P}var N;i[30]!==l||i[31]!==g?(N={adID:l,isReshared:!0,onClose:r("emptyFunction"),verifiedVoiceContext:g},i[30]=l,i[31]=g,i[32]=N):N=i[32];var M;i[33]!==s?(M=function(t){return s(t,f)},i[33]=s,i[34]=M):M=i[34];var w;return i[35]!==N||i[36]!==M?(w=u.jsx(r("CometLazyDialogTrigger.react"),{dialogProps:N,dialogResource:d,children:M}),i[35]=N,i[36]=M,i[37]=w):w=i[37],w}}l.default=m}),98);
__d("CommercialBreakClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1993619"),s=o("FalcoLoggerInternal").create("commercial_break_click",e),u=s;l.default=u}),98);
__d("CommercialBreakEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743431"),s=o("FalcoLoggerInternal").create("commercial_break_end",e),u=s;l.default=u}),98);
__d("CommercialBreakStartingIndicatorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743432"),s=o("FalcoLoggerInternal").create("commercial_break_starting_indicator",e),u=s;l.default=u}),98);
__d("PMVInterruptionsWWWSitevarConfig.experimental",["cr:9674"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9674")}),98);
__d("InstreamAdsConfig",["PMVInterruptionsWWWSitevarConfig.experimental","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=1e4,s=15e3,u=5e3,c=200,d=200,m=3e3,p=5e3,_=6e4,f=300,g=6e4,h=6e4,y=3e3,C=16,b=15,v=5,S=200,R=96,L=93,E=92,k=97,I="unified_scheduler",T="is_live_preroll";function D(){return 4e3}function x(){return y}function $(){return 1e3}function P(){return 2e3}function N(){return r("gkx")("24371")?_:3e5}function M(){return s}function w(){return u}function A(){return c}function F(){return e}function O(){return f}function B(){return d}function W(){return r("gkx")("24372")?p:m}function q(){return r("PMVInterruptionsWWWSitevarConfig.experimental").pmv_pre_roll_fetch_timeout_ms}function U(){return g}function V(){return h}l.DEFAULT_LONGER_AD_DURATION=C,l.DEFAULT_AD_COMPLETION_DURATION=b,l.DEFAULT_SKIPPABLE_TIME_THRESHOLD=v,l.DEFAULT_FETCH_TIME_INTERVAL_MS=S,l.UNIFIED_SCHEDULER_AD_INDEX=R,l.FULLSCREEN_AD_INDEX=L,l.CLICK_TO_PLAY_AD_INDEX=E,l.IS_LIVE_PREROLL_INDEX=k,l.UNIFIED_SCHEDULER_TIGGER_SOURCE=I,l.IS_LIVE_PREROLL_TRIGGER_SOURCE=T,l.getNonPmvMaxFetchTimeMS=D,l.getIsLivePrerollMaxFetchTimeMS=x,l.getHaloStartFetchTimeMS=$,l.getNonLiveBeginningTransitionTimeMS=P,l.getNonLiveMidrollGapRuleMS=N,l.getPostRollPreFetchTimeMs=M,l.getPostRollPreFetchEndTimeMs=w,l.getPreFetchTimeDeltaMs=A,l.getPreFetchTimeMs=F,l.getRecheckStartMs=O,l.getStartDeltaMs=B,l.getStartingIndicatorMs=W,l.getPMVInterruptionsPreRollFetchTimeMs=q,l.getUnifiedSchedulerStartDelayMs=U,l.getUnifiedSchedulerFrequencyMs=V}),98);
__d("InstreamAdsCurrentInsertionContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){return u(c)}l.InstreamAdsCurrentInsertionContext=c,l.useInstreamAdsCurrentInsertion=d}),98);
__d("InstreamAdsExtraFieldsContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){return u(c)}l.InstreamAdsExtraFieldsContext=c,l.useInstreamAdsExtraFieldsContext=d}),98);
__d("InstreamAdsPrerollTransitionScreen.react",["FDSLoadingAnimation.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 xal61yo x1ey2m1c x9f619 x78zum5 xdt5ytf xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy",children:s.jsx("div",{className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe",children:s.jsx(r("FDSLoadingAnimation.react"),{size:36})})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("InstreamAdsPalmStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext("INIT");function d(){return u(c)}l.InstreamAdsPalmStateContext=c,l.useInstreamAdsPalmStateContext=d}),98);
__d("InstreamPalmStateManagerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={setCurrentInsertion:function(){},setExtraFields:function(){},setHideAdBehavior:function(){},setIsEmpty:function(){},setState:function(){}},d=s.createContext(c);function m(){return u(d)}l.InstreamPalmStateManagerContext=d,l.useInstreamPalmStateManager=m}),98);
__d("useInstreamAdsStoryPlaybackControl",["InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=e.freezeTokenRef,n=e.organicController,r=e.previousPlaceDescription,a=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),i=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),l=(s||(s=o("VideoPlayerHooks"))).useEnded(),c=s.useController(),m=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext();u(function(){switch(a){case"START":{n.pause("commercial_break"),d(t,n);break}case"START_AD":{var e=n.getCurrentState(),o=e.muted,i=e.volume;c.setMuted(o,"commercial_break"),c.setVolume(i),n.pause("commercial_break"),d(t,n);break}case"PLAY_NI_VIDEO":{n.pause("commercial_break");var l=n.getCurrentState(),s=l.muted,u=l.volume;c.setMuted(s,"commercial_break"),c.setVolume(u),d(t,n);break}case"PLAY_LONGER_AD":{n.pause("commercial_break");var m=n.getCurrentState(),p=m.muted,_=m.volume;c.setMuted(p,"commercial_break"),c.setVolume(_),d(t,n);break}}switch(r){case"tahoe":d(t,n,function(){n.setMuted(!0,"tahoe_transition_phase_initiated")}),c.setMuted(!0,"tahoe_transition_phase_initiated");return;case"watch_and_scroll":d(t,n,function(){n.setMuted(!0,"watch_and_scroll_transition_phase_initiated")}),c.setMuted(!0,"watch_and_scroll_transition_phase_initiated");return}},[a,n,c,t,r]),u(function(){if(l){var e;(e=m==null?void 0:m.isAdPod)!=null&&e&&(m==null?void 0:m.adPodIndex)===0?(i.setExtraFields(Object.assign(m||{},{adPodIndex:1})),i.setState("START")):i.setState("END"),i.setExtraFields(babelHelpers.extends({},m!=null?m:{},{adPlaytime:0,watchTillEnd:l}))}},[l,m,i]),u(function(){var e=function(){c.pause("user_initiated")},t=function(){i.setState("END")};i.setHideAdBehavior({onClose:t,onOpen:e})},[c,i])}function d(e,t,n){if(n)e.current&&(t.unfreeze(e.current),e.current=null),n(),d(e,t);else{var r;e.current=(r=e.current)!=null?r:t.freeze()}}l.default=c}),98);
__d("InstreamAdsTransitionScreen.react",["fbt","react","react-compiler-runtime","useInstreamAdsStoryPlaybackControl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.freezeTokenRef,a=e.organicController,i;t[0]!==n||t[1]!==a?(i={freezeTokenRef:n,organicController:a},t[0]=n,t[1]=a,t[2]=i):i=t[2],r("useInstreamAdsStoryPlaybackControl")(i);var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Video will continue after ad"),t[3]=l):l=t[3];var c=l,d;return t[4]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx("div",{className:"xal61yo x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy",children:u.jsx("div",{className:"x191j7n5 x14ctfv x1nxh6w3 xzwoauc x10l6tqk",children:c})}),t[4]=d):d=t[4],d}l.default=c}),226);
__d("InstreamAdsDisplay.react",["CometRelay","InstreamAdsExtraFieldsContext","InstreamAdsPrerollTransitionScreen.react","InstreamAdsTransitionScreen.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("gkx")("24371"),d=r("gkx")("7149");function m(e){var t=o("react-compiler-runtime").c(57),n=e.NIAdStory,a=e.adPorableVideoID,i=e.freezeTokenRef,l=e.instreamAdsStory,m=e.palmState,p=e.playerFormat,_=e.setAdPortableVideoID,f=e.subOrigin,g=e.videoAdStory,h=(s||(s=o("VideoPlayerHooks"))).useController(),y=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext(),C=-1;(y==null?void 0:y.isAdPod)===!0&&((y==null?void 0:y.adPodIndex)===1?C=1:C=0);var b=C===1,v;t[0]!==a||t[1]!==_?(v=function(t){t!==a[0]&&_([t,a[1]])},t[0]=a,t[1]=_,t[2]=v):v=t[2];var S=v,R;t[3]!==a||t[4]!==_?(R=function(t){t!==a[1]&&_([a[0],t])},t[3]=a,t[4]=_,t[5]=R):R=t[5];var L=R;if(m==="START"||m==="FETCH_PRE_ROLL"||m==="START_AD"){var E;t[6]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy x1rozsjd"},t[6]=E):E=t[6];var k;t[7]!==i||t[8]!==h||t[9]!==m?(k=m==="START"?u.jsx(r("InstreamAdsTransitionScreen.react"),{freezeTokenRef:i,organicController:h}):null,t[7]=i,t[8]=h,t[9]=m,t[10]=k):k=t[10];var I;t[11]!==m?(I=m==="FETCH_PRE_ROLL"?u.jsx(r("InstreamAdsPrerollTransitionScreen.react"),{}):null,t[11]=m,t[12]=I):I=t[12];var T;t[13]!==C||t[14]!==a||t[15]!==i||t[16]!==l||t[17]!==h||t[18]!==m||t[19]!==p||t[20]!==S||t[21]!==L||t[22]!==b||t[23]!==f?(T=m==="START_AD"&&l?u.jsx(o("CometRelay").MatchContainer,{match:b?l[1]:l[0],props:{freezeTokenRef:i,onPortableVideoIdChange:b?L:S,organicController:h,playerFormat:p,portableVideoID:b?a[1]:a[0],position:C,story:b?l[1]:l[0],subOrigin:f}},d?C:void 0):null,t[13]=C,t[14]=a,t[15]=i,t[16]=l,t[17]=h,t[18]=m,t[19]=p,t[20]=S,t[21]=L,t[22]=b,t[23]=f,t[24]=T):T=t[24];var D;return t[25]!==k||t[26]!==I||t[27]!==T?(D=u.jsx(o("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:u.jsxs("div",babelHelpers.extends({},E,{children:[k,I,T]}))}),t[25]=k,t[26]=I,t[27]=T,t[28]=D):D=t[28],D}if(c&&n!==null){var x;t[29]!==m?(x={0:{},1:{className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy x1rozsjd"}}[(m==="PLAY_NI_VIDEO")<<0],t[29]=m,t[30]=x):x=t[30];var $;t[31]!==n||t[32]!==a[0]||t[33]!==i||t[34]!==h||t[35]!==p||t[36]!==S||t[37]!==f?($={freezeTokenRef:i,isNIAd:!0,onPortableVideoIdChange:S,organicController:h,playerFormat:p,portableVideoID:a[0],story:n,subOrigin:f},t[31]=n,t[32]=a[0],t[33]=i,t[34]=h,t[35]=p,t[36]=S,t[37]=f,t[38]=$):$=t[38];var P;t[39]!==n||t[40]!==$?(P=u.jsx(o("CometRelay").MatchContainer,{match:n,props:$}),t[39]=n,t[40]=$,t[41]=P):P=t[41];var N;return t[42]!==x||t[43]!==P?(N=u.jsx("div",babelHelpers.extends({},x,{children:P})),t[42]=x,t[43]=P,t[44]=N):N=t[44],N}if(m==="PLAY_LONGER_AD"){var M;t[45]===Symbol.for("react.memo_cache_sentinel")?(M={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy x1rozsjd"},t[45]=M):M=t[45];var w;t[46]!==a[0]||t[47]!==i||t[48]!==h||t[49]!==p||t[50]!==S||t[51]!==f||t[52]!==g?(w={freezeTokenRef:i,isNIAd:!1,onPortableVideoIdChange:S,organicController:h,playerFormat:p,portableVideoID:a[0],story:g,subOrigin:f},t[46]=a[0],t[47]=i,t[48]=h,t[49]=p,t[50]=S,t[51]=f,t[52]=g,t[53]=w):w=t[53];var A;return t[54]!==w||t[55]!==g?(A=u.jsx("div",babelHelpers.extends({},M,{children:u.jsx(o("CometRelay").MatchContainer,{match:g,props:w})})),t[54]=w,t[55]=g,t[56]=A):A=t[56],A}return null}l.default=m}),98);
__d("PlayButtonItemOverlay.react",["CometImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"xds7cq7 x10l6tqk x4o5f7y",children:s.jsx(r("CometImage.react"),{height:36,src:"/images/video/play_72dp.png",width:36})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("StoryLocationTransparencyDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24031059579918579"}),null);
__d("StoryLocationTransparencyDialogQuery$Parameters",["StoryLocationTransparencyDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("StoryLocationTransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"StoryLocationTransparencyDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("StoryLocationTransparencyDialog.entrypoint",["JSResourceForInteraction","StoryLocationTransparencyDialogQuery$Parameters","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{storyLocationTransparencyDialogQueryReference:{parameters:r("StoryLocationTransparencyDialogQuery$Parameters"),variables:{scale:o("WebPixelRatio").get(),storyID:t.storyID}}}}},root:r("JSResourceForInteraction")("StoryLocationTransparencyDialog.react").__setRef("StoryLocationTransparencyDialog.entrypoint")};l.default=e}),98);
__d("InstreamAdsFeedNIContextCardImpl.react",["fbt","ix","BaseMiddot.react","BaseRow.react","BaseRowItem.react","CometEmojiTransform","CometEmoticonTransform","CometEntryPointDialogTrigger.react","CometImage.react","CometPoliticalInfosheetDialogSelector.react","CometPressable.react","CometTextWithEntities.react","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometVideoPlayerLoggingConfigForFBWeb","FDSCircleButton.react","FDSLink.react","FDSProfilePhoto.react","FDSText.react","FDSTextPairing.react","InstreamAdsHideAdBehaviorContext","PlayButtonItemOverlay.react","StoryLocationTransparencyDialog.entrypoint","VideoPlayerHooks","VideoPlayerRelay.react","VideoPlayerSurface.react","fbicon","gkx","react","react-compiler-runtime","useDebouncedValue"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m={container:{marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xyamay9",$$css:!0},fullScreenFirstRow:{marginBottom:"xyorhqc",$$css:!0},fullscreenItem:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x1g0dm76",$$css:!0},headerContainer:{paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",$$css:!0},headerItem:{marginInlineStart:"x13fj5qh",$$css:!0},imageContainer:{marginInlineStart:"x1a5kqlc",marginTop:"xwya9rg",$$css:!0},item:{marginTop:"x1gslohp",paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x1g0dm76",$$css:!0},niImageStyle:{maxWidth:"x193iq5w",objectFit:"xl1xv1r",objectPosition:"x1fmkh0f",transform:"x18871es",$$css:!0},niVideoPressable:{display:"x1lliihq",height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},pressable:{display:"x1lliihq",$$css:!0},profilePic:{marginInlineEnd:"xbmvrgn",$$css:!0},videoContainer:{marginInlineStart:"x1a5kqlc",marginTop:"xwya9rg",$$css:!0}},p=r("gkx")("24373"),_=[r("CometEmoticonTransform")({size:18}),r("CometEmojiTransform")({size:18})],f=[r("CometEmoticonTransform")(),r("CometEmojiTransform")()];function g(e){var t=e.adDuration,n=e.adPlaytime,a=e.contextCardHideAdBehavior,i=e.instreamAdsContextCardData,l=e.isAdsPlaying,c=e.isFullScreen,g=e.isWatchTab,y=e.onDismiss,C=e.onPlayFullLength,b=e.showPlayFullBtn,v={url:i==null?void 0:i.adUrl};if(!i)return null;var S=(i==null?void 0:i.brandName)!=null?i.brandName.toString().trim():"",R=(i==null?void 0:i.description)!=null?i.description.toString().trim():"",L=(i==null?void 0:i.source)!=null?i.source.toString():null,E=(i==null?void 0:i.title)!=null?i.title.toString().trim():"",k=i.trackingCode,I=i.viewabilityLogger,T=i.adId,D=i.feedObjectID,x=i.storyId,$=i.verifiedVoiceContext,P=i.scmeLabel,N=p&&i.scmeLabel!=null,M=function(t,n){return d.jsx(r("FDSLink.react"),{color_DEPRECATED:"secondary",onClick:t,ref:n,weight_DEPRECATED:"bold",children:P})},w=T!=null&&D!=null&&x!=null&&$!=null?d.jsx(r("CometPoliticalInfosheetDialogSelector.react"),{adID:T,dialogTriggerFunc:M,isInstream:!0,storyID:x,verifiedVoiceContext:$}):x!=null?d.jsx(r("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:r("StoryLocationTransparencyDialog.entrypoint"),otherProps:{},preloadParams:{storyID:x},children:function(t){return d.jsx(r("FDSLink.react"),{color_DEPRECATED:"secondary",onClick:t,weight_DEPRECATED:"bold",children:P})}}):null,A=i.clickToPlayVideo,F=d.jsxs(d.Fragment,{children:[d.jsxs(r("BaseRow.react"),{verticalAlign:"center",xstyle:m.headerContainer,children:[d.jsx(r("BaseRowItem.react"),{children:d.jsxs(r("BaseRow.react"),{verticalAlign:"center",children:[i.profilePicURI!=null&&i.profilePicURI.length>0?d.jsx(r("BaseRowItem.react"),{xstyle:m.profilePic,children:d.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:40,source:{uri:i.profilePicURI}})}):null,d.jsxs(r("BaseRowItem.react"),{children:[d.jsx(r("FDSText.react"),{color:"primary",type:"bodyLink3",children:S}),d.jsx("div",{className:"x1xmf6yo",children:d.jsxs(r("FDSText.react"),{color:"secondary",type:"meta4",children:[s._(/*BTDS*/"Sponsored"),N?d.jsx(r("BaseMiddot.react"),{className:"xnnr8r xwklpps"}):null,N?w:null]})})]})]})}),d.jsx(r("BaseRowItem.react"),{children:d.jsxs(r("BaseRow.react"),{verticalAlign:c?"center":"stretch",children:[d.jsx(r("BaseRowItem.react"),{xstyle:m.headerItem,children:d.jsx("div",{children:d.jsx(o("InstreamAdsHideAdBehaviorContext").InstreamAdsHideAdBehaviorContext.Provider,{value:a,children:i.menuButton})})}),d.jsx(r("BaseRowItem.react"),{xstyle:m.headerItem,children:d.jsx("div",{className:"x1ok221b",children:d.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Dismiss the context card"),color_DEPRECATED:"secondary",icon:o("fbicon")._(u("478232"),16),onPress:y,size:24,type_DEPRECATED:"deemphasized"})})})]})})]}),d.jsx("div",{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 x1yztbdb x1ys307a xyqm7xq x1n2onr6 x1lku1pv xmjcpbm xjp8j0k",children:d.jsxs(r("BaseRow.react"),{verticalAlign:c?"center":"stretch",xstyle:m.container,children:[i.isClickToPlayVideo===!0?null:d.jsx(r("BaseRowItem.react"),{xstyle:m.imageContainer,children:d.jsx("div",{className:"x15x8krk x1obq294 x6ikm8r x10wlt62 xjp8j0k",children:i.adImageURI!=null&&i.adImageURI.length>0?d.jsx(r("CometImage.react"),{height:96,src:i.adImageURI,width:96,xstyle:m.niImageStyle}):null})}),i.isClickToPlayVideo===!0?d.jsx(r("BaseRowItem.react"),{xstyle:m.videoContainer,children:d.jsx("div",{className:"x15x8krk x1obq294 x6ikm8r x10wlt62 xjp8j0k x13oubkp",children:A?d.jsx(r("VideoPlayerRelay.react"),{adClientToken:i.clientToken,canAutoplay:"do_not_autoplay",loggingConfig:o("CometVideoPlayerLoggingConfigForFBWeb").createCometVideoPlayerLoggingConfigForFBWeb(),portalingEnabled:!1,subOrigin:"inline",video:A,children:d.jsx(r("VideoPlayerSurface.react"),{children:d.jsx(h,{callback:i.callback})})}):null})}):null,d.jsxs(r("BaseRowItem.react"),{expanding:!0,useDeprecatedStyles:!0,xstyle:m.item,children:[d.jsx("div",babelHelpers.extends({},{0:{className:"x4vbgl9 x1rdy4ex x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},2:{className:"x6ikm8r x10wlt62 x9f619 x1lkfr7t x4vbgl9 x1rdy4ex xd183bf xjkvuk6 x1iorvi4"},1:{className:"x4vbgl9 x1rdy4ex x6ikm8r x10wlt62 xjkvuk6 x1iorvi4 xgujvf1"},3:{className:"x6ikm8r x10wlt62 x9f619 x1lkfr7t x4vbgl9 x1rdy4ex xd183bf xjkvuk6 x1iorvi4 xgujvf1"}}[(R!=null)<<1|(R!=null&&R.length>0&&E!=null&&E.length>0)<<0],{children:d.jsx(r("FDSTextPairing.react"),{body:R!=null&&R.length>0?d.jsx("span",{"data-testid":void 0,children:d.jsx(r("CometTextWithEntities.react"),{text:R,transforms:f})}):null,bodyColor:"secondary",bodyLineLimit:1,headline:d.jsx("span",{className:"x1lliihq x1120s5i",children:d.jsx(r("CometTextWithEntities.react"),{text:E,transforms:_})}),headlineColor:"primary",headlineLineLimit:2,level:3})})),L!=null&&L.length>0?d.jsx("div",{className:"x1anpbxc","data-testid":void 0,children:d.jsx(r("FDSText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:L})}):null]})]})})]}),O=d.jsx("div",{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 x1yztbdb x1ys307a xyqm7xq x1n2onr6 x1lku1pv xrmyhay xjp8j0k",children:d.jsxs(r("BaseRow.react"),{xstyle:m.container,children:[i.isClickToPlayVideo===!0?null:d.jsx(r("BaseRowItem.react"),{xstyle:m.imageContainer,children:d.jsx("div",{className:"x15x8krk x1obq294 x6ikm8r x10wlt62 xjp8j0k",children:i.adImageURI!=null&&i.adImageURI.length>0?d.jsx(r("CometImage.react"),{height:96,src:i.adImageURI,width:96,xstyle:m.niImageStyle}):null})}),i.isClickToPlayVideo===!0?d.jsx(r("BaseRowItem.react"),{xstyle:m.videoContainer,children:d.jsx("div",{className:"x15x8krk x1obq294 x6ikm8r x10wlt62 xjp8j0k x13oubkp",children:A?d.jsx(r("VideoPlayerRelay.react"),{adClientToken:i.clientToken,canAutoplay:"do_not_autoplay",loggingConfig:o("CometVideoPlayerLoggingConfigForFBWeb").createCometVideoPlayerLoggingConfigForFBWeb(),portalingEnabled:!1,subOrigin:"inline",video:A,children:d.jsx(r("VideoPlayerSurface.react"),{children:d.jsx(h,{callback:i.callback})})}):null})}):null,d.jsxs(r("BaseRowItem.react"),{expanding:!0,xstyle:m.fullscreenItem,children:[d.jsxs(r("BaseRow.react"),{verticalAlign:c?"center":"stretch",xstyle:m.fullScreenFirstRow,children:[i.profilePicURI!=null&&i.profilePicURI.length>0?d.jsx(r("BaseRowItem.react"),{xstyle:m.profilePic,children:d.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:16,source:{uri:i.profilePicURI}})}):null,d.jsx("div",{className:"x1pe450p x10l6tqk",children:d.jsx(r("BaseRowItem.react"),{children:d.jsxs(r("FDSText.react"),{color:"secondaryOnMedia",type:"body3",children:[L,d.jsx(r("BaseMiddot.react"),{className:"xnnr8r xwklpps"}),s._(/*BTDS*/"Sponsored")]})})})]}),d.jsx("div",babelHelpers.extends({},{0:{className:"xat24cr x1rdy4ex x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},1:{className:"x9f619 x1lkfr7t xd183bf xat24cr x1rdy4ex x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"}}[(R!=null)<<0],{children:d.jsx(r("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink2",children:E})})),R!=null&&R.length>0?d.jsx("div",{className:"x1anpbxc","data-testid":void 0,children:d.jsx(r("FDSText.react"),{color:"secondaryOnMedia",numberOfLines:1,type:"body3",children:R})}):null]}),d.jsxs(r("BaseRowItem.react"),{children:[d.jsx("div",{className:"x13fj5qh xifccgj",children:d.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Dismiss the context card"),color_DEPRECATED:"tertiary",icon:o("fbicon")._(u("478232"),16),onPress:y,size:24,type_DEPRECATED:"deemphasized"})}),d.jsx("div",{className:"xqo3gd x10l6tqk",children:d.jsx(o("InstreamAdsHideAdBehaviorContext").InstreamAdsHideAdBehaviorContext.Provider,{value:a,children:i.menuButton})})]})]})});return i.adUrl!=null?d.jsx(r("CometTrackingCodeContext").Provider,{value:k,children:d.jsx("div",{ref:I,children:d.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:15,children:d.jsx(r("CometPressable.react"),{display:"inline",label:E,linkProps:v,overlayDisabled:!0,testid:void 0,xstyle:m.pressable,children:c?O:F})})})}):null}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=o("react-compiler-runtime").c(16),n=e.callback,a=(c||(c=o("VideoPlayerHooks"))).useController(),i=c.usePaused(),l=c.usePlaying(),s=r("useDebouncedValue")(l,5),u=i&&!s,p;t[0]!==a?(p=function(){a.getCurrentState().paused&&(a.play("user_initiated"),a.setMuted(!0,null))},t[0]=a,t[1]=p):p=t[1];var _=p,f;t[2]!==a?(f=function(){a.getCurrentState().playing&&(a.pause("product_initiated"),a.seek(0))},t[2]=a,t[3]=f):f=t[3];var g=f,h;t[4]!==n?(h=function(){n&&n("PLAY_NI_VIDEO")},t[4]=n,t[5]=h):h=t[5];var y=h,C;t[6]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x5yr21d x10l6tqk xh8yej3"},t[6]=C):C=t[6];var b;t[7]!==u?(b=u?d.jsx(r("PlayButtonItemOverlay.react"),{}):null,t[7]=u,t[8]=b):b=t[8];var v;t[9]!==_||t[10]!==g||t[11]!==b?(v=d.jsx("div",babelHelpers.extends({},C,{onMouseEnter:_,onMouseLeave:g,children:b})),t[9]=_,t[10]=g,t[11]=b,t[12]=v):v=t[12];var S;return t[13]!==y||t[14]!==v?(S=d.jsx(r("CometPressable.react"),{onPress:y,xstyle:m.niVideoPressable,children:v}),t[13]=y,t[14]=v,t[15]=S):S=t[15],S}l.default=g}),226);
__d("InstreamAdsFeedVideoContextCardImpl.react",["fbt","ix","BaseMiddot.react","BaseRow.react","BaseRowItem.react","CometEmojiTransform","CometEmoticonTransform","CometEntryPointDialogTrigger.react","CometPoliticalInfosheetDialogSelector.react","CometPressable.react","CometTextWithEntities.react","CometTrackingCodeContext","CometTrackingNodeProvider.react","CometVideoPlayerLoggingConfigForFBWeb","FDSCircleButton.react","FDSLink.react","FDSProfilePhoto.react","FDSText.react","FDSTextPairing.react","InstreamAdsConfig","InstreamAdsHideAdBehaviorContext","PlayButtonItemOverlay.react","StoryLocationTransparencyDialog.entrypoint","VideoPlayerHooks","VideoPlayerRelay.react","VideoPlayerSurface.react","fbicon","gkx","react","react-compiler-runtime","useDebouncedValue"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m={container:{height:"x1peatla",marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",marginTop:"xw7yly9",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"x7sb2j6",$$css:!0},item:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x1g0dm76",$$css:!0},niVideoPressable:{display:"x1lliihq",height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},pressable:{display:"x1lliihq",$$css:!0},snapshotDesc:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x1g0dm76",$$css:!0},videoContainer:{marginInlineStart:"x1a5kqlc",marginTop:"x1gslohp",$$css:!0},watchTabContainer:{height:"x1peatla",marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xyamay9",$$css:!0},watchTabPressable:{display:"x1lliihq",paddingTop:"xyamay9",$$css:!0}},p=r("gkx")("24373"),_=[r("CometEmoticonTransform")({size:18}),r("CometEmojiTransform")({size:18})],f=[r("CometEmoticonTransform")(),r("CometEmojiTransform")()],g=function(t){return t!=null?" "+Math.floor(t/60).toString()+":"+(Math.floor(t%60)<10?"0":"")+Math.floor(t%60).toString():""};function h(e){var t=o("react-compiler-runtime").c(146),n=e.adDuration,a=e.adPlaytime,i=e.contextCardHideAdBehavior,l=e.instreamAdsContextCardData,c=e.isAdsPlaying,h=e.isFullScreen,C=e.isWatchTab,b=e.onDismiss,v=e.onPlayFullLength,S=e.showPlayFullBtn,R=l==null?void 0:l.adUrl,L;t[0]!==R?(L={url:R},t[0]=R,t[1]=L):L=t[1];var E=L;if(!l)return null;var k=l.isThirdPartyDealAd,I,T,D,x,$,P,N,M,w,A,F,O,B,W,q,U,V,H,G,z,j,K,Q;if(t[2]!==n||t[3]!==a||t[4]!==l.adId||t[5]!==l.brandName||t[6]!==l.callback||t[7]!==l.clickToPlayVideo||t[8]!==l.clientToken||t[9]!==l.feedObjectID||t[10]!==l.profilePicURI||t[11]!==l.scmeLabel||t[12]!==l.source||t[13]!==l.storyId||t[14]!==l.title||t[15]!==l.trackingCode||t[16]!==l.verifiedVoiceContext||t[17]!==c||t[18]!==h||t[19]!==C||t[20]!==S){$=(l==null?void 0:l.brandName)!=null?l.brandName.toString().trim():"";var X;t[44]!==l.source?(X=(l==null?void 0:l.source)!=null?l.source.toString():null,t[44]=l.source,t[45]=X):X=t[45],N=X;var Y=l.title;Q=l.trackingCode;var J=l.adId,Z=l.feedObjectID,ee=l.storyId,te=l.verifiedVoiceContext,ne=l.scmeLabel;P=p&&l.scmeLabel!=null;var re=0;a!=null&&n!==null&&n!==void 0&&n>0&&(re=a/n*100);var oe=!c&&n!==null&&n!==void 0&&n>o("InstreamAdsConfig").DEFAULT_LONGER_AD_DURATION,ae;t[46]!==ne?(ae=function(t,n){return d.jsx(r("FDSLink.react"),{color_DEPRECATED:"secondary",onClick:t,ref:n,weight_DEPRECATED:"bold",children:ne})},t[46]=ne,t[47]=ae):ae=t[47];var ie=ae,le;t[48]!==J||t[49]!==ie||t[50]!==Z||t[51]!==ne||t[52]!==ee||t[53]!==te?(le=J!=null&&Z!=null&&ee!=null&&te!=null?d.jsx(r("CometPoliticalInfosheetDialogSelector.react"),{adID:J,dialogTriggerFunc:ie,isInstream:!0,storyID:ee,verifiedVoiceContext:te}):ee!=null?d.jsx(r("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:r("StoryLocationTransparencyDialog.entrypoint"),otherProps:{},preloadParams:{storyID:ee},children:function(t){return d.jsx(r("FDSLink.react"),{color_DEPRECATED:"secondary",onClick:t,weight_DEPRECATED:"bold",children:ne})}}):null,t[48]=J,t[49]=ie,t[50]=Z,t[51]=ne,t[52]=ee,t[53]=te,t[54]=le):le=t[54],M=le;var se=l.clickToPlayVideo;t[55]!==h||t[56]!==C?(q={0:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k xw7yly9 x1ys307a x1yztbdb xyqm7xq x1n2onr6 x1lku1pv"},4:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k x1ys307a xyqm7xq x1y1aw1k x1n2onr6 x1lku1pv"},2:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k xw7yly9 x1ys307a x1yztbdb xyqm7xq x1n2onr6 x1lku1pv xmjcpbm"},6:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k x1ys307a xyqm7xq x1y1aw1k x1n2onr6 x1lku1pv xmjcpbm"},1:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k xw7yly9 x1ys307a x1yztbdb xyqm7xq x1n2onr6 x1lku1pv xrmyhay"},5:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k x1ys307a xyqm7xq x1y1aw1k x1n2onr6 x1lku1pv xrmyhay"},3:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k xw7yly9 x1ys307a x1yztbdb xyqm7xq x1n2onr6 x1lku1pv xrmyhay"},7:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk x9f619 xjp8j0k x1ys307a xyqm7xq x1y1aw1k x1n2onr6 x1lku1pv xrmyhay"}}[(C===!0)<<2|!h<<1|!!h<<0],t[55]=h,t[56]=C,t[57]=q):q=t[57],x=r("BaseRow.react"),F="center",O=C===!0?m.watchTabContainer:m.container,t[58]!==re||t[59]!==a||t[60]!==se||t[61]!==l.callback||t[62]!==l.clientToken||t[63]!==oe?(B=oe?d.jsx(r("BaseRowItem.react"),{xstyle:m.videoContainer,children:d.jsx("div",{className:"x15x8krk x1obq294 x6ikm8r x10wlt62 xjp8j0k x13oubkp",children:se?d.jsx(r("VideoPlayerRelay.react"),{adClientToken:l.clientToken,canAutoplay:"do_not_autoplay",loggingConfig:o("CometVideoPlayerLoggingConfigForFBWeb").createCometVideoPlayerLoggingConfigForFBWeb(),portalingEnabled:!1,subOrigin:"inline",video:se,children:d.jsx(r("VideoPlayerSurface.react"),{children:d.jsx(y,{adCompletedPercentage:re,adPlaytime:a,callback:l.callback})})}):null})}):null,t[58]=re,t[59]=a,t[60]=se,t[61]=l.callback,t[62]=l.clientToken,t[63]=oe,t[64]=B):B=t[64],t[65]!==l.profilePicURI||t[66]!==oe?(W=!oe&&l.profilePicURI!==null&&l.profilePicURI!==void 0&&l.profilePicURI.length>0?d.jsx(r("BaseRowItem.react"),{children:d.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:48,source:{uri:l.profilePicURI}})}):null,t[65]=l.profilePicURI,t[66]=oe,t[67]=W):W=t[67],D=r("BaseRowItem.react"),K=!0,w=!0,A=oe?m.snapshotDesc:m.item,j={0:{className:"x4vbgl9 x1rdy4ex x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},2:{className:"x6ikm8r x10wlt62 x9f619 x1lkfr7t x4vbgl9 x1rdy4ex xd183bf xjkvuk6 x1iorvi4"},1:{className:"x4vbgl9 x1rdy4ex x6ikm8r x10wlt62 xjkvuk6 x1iorvi4 xgujvf1"},3:{className:"x6ikm8r x10wlt62 x9f619 x1lkfr7t x4vbgl9 x1rdy4ex xd183bf xjkvuk6 x1iorvi4 xgujvf1"}}[(Y!=null)<<1|(Y!=null&&Y.length>0&&$!=null&&$.length>0)<<0],T=r("FDSTextPairing.react"),t[68]!==Y||t[69]!==P||t[70]!==M||t[71]!==S?(H=P&&S===!0?M:Y!=null&&Y.length>0?d.jsx("span",{"data-testid":void 0,children:d.jsx(r("CometTextWithEntities.react"),{text:Y,transforms:f})}):null,t[68]=Y,t[69]=P,t[70]=M,t[71]=S,t[72]=H):H=t[72],G=h?"secondaryOnMedia":"secondary",z=1,t[73]===Symbol.for("react.memo_cache_sentinel")?(V={className:"x1lliihq x1120s5i"},t[73]=V):V=t[73],I=r("CometTextWithEntities.react"),U=$.toString(),t[2]=n,t[3]=a,t[4]=l.adId,t[5]=l.brandName,t[6]=l.callback,t[7]=l.clickToPlayVideo,t[8]=l.clientToken,t[9]=l.feedObjectID,t[10]=l.profilePicURI,t[11]=l.scmeLabel,t[12]=l.source,t[13]=l.storyId,t[14]=l.title,t[15]=l.trackingCode,t[16]=l.verifiedVoiceContext,t[17]=c,t[18]=h,t[19]=C,t[20]=S,t[21]=I,t[22]=T,t[23]=D,t[24]=x,t[25]=$,t[26]=P,t[27]=N,t[28]=M,t[29]=w,t[30]=A,t[31]=F,t[32]=O,t[33]=B,t[34]=W,t[35]=q,t[36]=U,t[37]=V,t[38]=H,t[39]=G,t[40]=z,t[41]=j,t[42]=K,t[43]=Q}else I=t[21],T=t[22],D=t[23],x=t[24],$=t[25],P=t[26],N=t[27],M=t[28],w=t[29],A=t[30],F=t[31],O=t[32],B=t[33],W=t[34],q=t[35],U=t[36],V=t[37],H=t[38],G=t[39],z=t[40],j=t[41],K=t[42],Q=t[43];var ue;t[74]!==I||t[75]!==U?(ue=d.jsx(I,{text:U,transforms:_}),t[74]=I,t[75]=U,t[76]=ue):ue=t[76];var ce;t[77]!==ue||t[78]!==V?(ce=d.jsx("span",babelHelpers.extends({},V,{children:ue})),t[77]=ue,t[78]=V,t[79]=ce):ce=t[79];var de=h?"white":"primary",me;t[80]!==T||t[81]!==ce||t[82]!==de||t[83]!==H||t[84]!==G||t[85]!==z?(me=d.jsx(T,{body:H,bodyColor:G,bodyLineLimit:z,headline:ce,headlineColor:de,headlineLineLimit:2,level:3}),t[80]=T,t[81]=ce,t[82]=de,t[83]=H,t[84]=G,t[85]=z,t[86]=me):me=t[86];var pe;t[87]!==me||t[88]!==j?(pe=d.jsx("div",babelHelpers.extends({},j,{children:me})),t[87]=me,t[88]=j,t[89]=pe):pe=t[89];var _e;t[90]!==n||t[91]!==c||t[92]!==h||t[93]!==P||t[94]!==N||t[95]!==v||t[96]!==M||t[97]!==S?(_e=S===!0?d.jsx("div",{className:"x1anpbxc",children:v?d.jsx(r("CometPressable.react"),{display:"inline",onPress:v,children:d.jsxs(r("FDSText.react"),{color:h?"secondaryOnMedia":"secondary",numberOfLines:1,type:"body3",children:[s._(/*BTDS*/"Play Full"),g(n)]})}):null}):N!=null&&N.length>0?d.jsx("div",{className:"x1anpbxc","data-testid":void 0,children:d.jsxs(r("FDSText.react"),{color:h?"secondaryOnMedia":"secondary",numberOfLines:2,type:"body3",children:[c?null:s._(/*BTDS*/"Sponsored"),P?d.jsx(r("BaseMiddot.react"),{className:"xnnr8r xwklpps"}):null,P?M:null,c?null:d.jsx(r("BaseMiddot.react"),{className:"xnnr8r xwklpps"}),N]})}):null,t[90]=n,t[91]=c,t[92]=h,t[93]=P,t[94]=N,t[95]=v,t[96]=M,t[97]=S,t[98]=_e):_e=t[98];var fe;t[99]!==D||t[100]!==w||t[101]!==A||t[102]!==pe||t[103]!==_e||t[104]!==K?(fe=d.jsxs(D,{expanding:K,useDeprecatedStyles:w,xstyle:A,children:[pe,_e]}),t[99]=D,t[100]=w,t[101]=A,t[102]=pe,t[103]=_e,t[104]=K,t[105]=fe):fe=t[105];var ge;t[106]!==l.ctaButton||t[107]!==c||t[108]!==h?(ge=h&&c?d.jsx("div",{className:"x1ok221b",children:l.ctaButton}):null,t[106]=l.ctaButton,t[107]=c,t[108]=h,t[109]=ge):ge=t[109];var he;t[110]!==ge?(he=d.jsx(r("BaseRowItem.react"),{children:ge}),t[110]=ge,t[111]=he):he=t[111];var ye;t[112]!==c||t[113]!==b?(ye=c?null:d.jsx("div",{className:"xdzw4kq xafmxuu",children:d.jsx(r("FDSCircleButton.react"),{"aria-label":s._(/*BTDS*/"Close ad"),color_DEPRECATED:"tertiary",icon:o("fbicon")._(u("478233"),20),onPress:b,size:24,type_DEPRECATED:"deemphasized"})}),t[112]=c,t[113]=b,t[114]=ye):ye=t[114];var Ce;t[115]!==c?(Ce={0:{},1:{className:"x1anpbxc x10l6tqk"}}[!c<<0],t[115]=c,t[116]=Ce):Ce=t[116];var be;t[117]!==i||t[118]!==l.menuButton?(be=d.jsx(o("InstreamAdsHideAdBehaviorContext").InstreamAdsHideAdBehaviorContext.Provider,{value:i,children:l.menuButton}),t[117]=i,t[118]=l.menuButton,t[119]=be):be=t[119];var ve;t[120]!==Ce||t[121]!==be?(ve=d.jsx("div",babelHelpers.extends({},Ce,{children:be})),t[120]=Ce,t[121]=be,t[122]=ve):ve=t[122];var Se;t[123]!==ye||t[124]!==ve?(Se=d.jsxs(r("BaseRowItem.react"),{children:[ye,ve]}),t[123]=ye,t[124]=ve,t[125]=Se):Se=t[125];var Re;t[126]!==x||t[127]!==F||t[128]!==O||t[129]!==B||t[130]!==W||t[131]!==fe||t[132]!==he||t[133]!==Se?(Re=d.jsxs(x,{verticalAlign:F,xstyle:O,children:[B,W,fe,he,Se]}),t[126]=x,t[127]=F,t[128]=O,t[129]=B,t[130]=W,t[131]=fe,t[132]=he,t[133]=Se,t[134]=Re):Re=t[134];var Le;t[135]!==q||t[136]!==Re?(Le=d.jsx("div",babelHelpers.extends({},q,{children:Re})),t[135]=q,t[136]=Re,t[137]=Le):Le=t[137];var Ee=Le,ke;return t[138]!==Ee||t[139]!==$||t[140]!==l.adUrl||t[141]!==k||t[142]!==C||t[143]!==E||t[144]!==Q?(ke=l.adUrl!=null&&k===!1?d.jsx(r("CometTrackingCodeContext").Provider,{value:Q,children:d.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:15,children:d.jsx(r("CometPressable.react"),{display:"inline",label:$,linkProps:E,overlayDisabled:!0,xstyle:C===!0?m.watchTabPressable:m.pressable,children:Ee})})}):null,t[138]=Ee,t[139]=$,t[140]=l.adUrl,t[141]=k,t[142]=C,t[143]=E,t[144]=Q,t[145]=ke):ke=t[145],ke}function y(e){var t=o("react-compiler-runtime").c(25),n=e.adCompletedPercentage,a=e.adPlaytime,i=e.callback,l=(c||(c=o("VideoPlayerHooks"))).useController(),s=c.usePaused(),u=c.usePlaying(),p=r("useDebouncedValue")(u,5),_=s&&!p,f;t[0]!==l?(f=function(){l.getCurrentState().paused&&(l.play("user_initiated"),l.setMuted(!0,null))},t[0]=l,t[1]=f):f=t[1];var h=f,y;t[2]!==l?(y=function(){l.getCurrentState().playing&&(l.pause("product_initiated"),l.seek(0))},t[2]=l,t[3]=y):y=t[3];var C=y,b;t[4]!==i?(b=function(){i&&i("PLAY_LONGER_AD")},t[4]=i,t[5]=b):b=t[5];var v=b,S;t[6]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x5yr21d x10l6tqk xh8yej3"},t[6]=S):S=t[6];var R;t[7]!==_?(R=_?d.jsx(r("PlayButtonItemOverlay.react"),{}):null,t[7]=_,t[8]=R):R=t[8];var L;t[9]!==h||t[10]!==C||t[11]!==R?(L=d.jsx("div",babelHelpers.extends({},S,{onMouseEnter:h,onMouseLeave:C,children:R})),t[9]=h,t[10]=C,t[11]=R,t[12]=L):L=t[12];var E;t[13]!==a?(E=a!=null&&a>=1?d.jsx("div",{className:"xal61yo xjwep3j x1t39747 x1wcsgtt x1pczhz8 xqo3gd x1txq2hj x1qx5ct2 xxx7yvo x10l6tqk x1n7h9c3",children:d.jsx("div",{className:"x14ctfv x1pg5gke x1fb7gu6 x9otpla x10l6tqk xwa60dl xuxw1ft",children:g(a)})}):null,t[13]=a,t[14]=E):E=t[14];var k,I,T;t[15]===Symbol.for("react.memo_cache_sentinel")?(I={className:"x1ey2m1c x10l6tqk xh8yej3"},T={className:"xobhos8 xqu0tyb xh8yej3"},k="x1wbbese xqu0tyb",t[15]=k,t[16]=I,t[17]=T):(k=t[15],I=t[16],T=t[17]);var D=n+"%",x;t[18]!==D?(x=d.jsx("div",babelHelpers.extends({},I,{children:d.jsx("div",babelHelpers.extends({},T,{children:d.jsx("div",{className:k,style:{width:D}})}))})),t[18]=D,t[19]=x):x=t[19];var $;return t[20]!==v||t[21]!==x||t[22]!==L||t[23]!==E?($=d.jsxs(r("CometPressable.react"),{onPress:v,xstyle:m.niVideoPressable,children:[L,E,x]}),t[20]=v,t[21]=x,t[22]=L,t[23]=E,t[24]=$):$=t[24],$}l.default=h}),226);
__d("InstreamAdsFeedContextCardSurface.react",["CometVideoPlayerInstreamAdsFeedContextCardContext","InstreamAdsExtraFieldsContext","InstreamAdsFeedNIContextCardImpl.react","InstreamAdsFeedVideoContextCardImpl.react","InstreamAdsHideAdBehaviorContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerInstreamAdsStateHooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useRef,p=u.useState;function _(){var e=c(o("InstreamAdsHideAdBehaviorContext").InstreamAdsHideAdBehaviorContext),t=c(o("CometVideoPlayerInstreamAdsFeedContextCardContext").CometVideoPlayerInstreamAdsFeedContextCardContext),n=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),a=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),i=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsFeedContextCardStateValue(),l=p(null),u=l[0],_=l[1],f=m(null),g=m(!1),h=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsFullScreenContextCardState(),y=h[0],C=h[1],b=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext();return d(function(){var n={onClose:function(){e!=null&&e.onClose&&e.onClose(),g.current=!0,f.current=null,t!=null&&t.onNodeChangeFunc&&t.onNodeChangeFunc(null),C(null)},onOpen:function(){e!=null&&e.onOpen&&e.onOpen()}};_(n)},[e,t,C]),d(function(){if(u)if(n==="START_AD"||n==="START_NI_AD"||(n==="FETCH"||n==="INIT")&&y!==null||n==="END"&&!g.current){var e=n==="START_AD"||n==="START_NI_AD",o=n==="START_AD"&&(b==null?void 0:b.isTruncated),l=b==null?void 0:b.adDuration,c=b==null?void 0:b.adPlaytime,d=function(){g.current=!0,f.current=null,t!=null&&t.onNodeChangeFunc&&t.onNodeChangeFunc(null),C(null)},m=function(){a.setExtraFields(babelHelpers.extends({},b,{isTruncated:!1}))},p=(i==null?void 0:i.isNIAd)!==!0?r("InstreamAdsFeedVideoContextCardImpl.react"):r("InstreamAdsFeedNIContextCardImpl.react"),_={adDuration:l,adPlaytime:c,contextCardHideAdBehavior:u,instreamAdsContextCardData:i,isAdsPlaying:e,onDismiss:d,onPlayFullLength:m,showPlayFullBtn:o},h=s.jsx(p,babelHelpers.extends({},_,{isFullScreen:!1,isWatchTab:t.isWatchTab})),v=s.jsx(p,babelHelpers.extends({},_,{isFullScreen:!0}));g.current=!1,f.current=h,t!=null&&t.onNodeChangeFunc&&t.onNodeChangeFunc(h),C(v)}else f.current===null&&(t!=null&&t.onNodeChangeFunc&&t.onNodeChangeFunc(null),C(null))},[u,n,i,t,C,b==null?void 0:b.isTruncated,b==null?void 0:b.adDuration,b==null?void 0:b.adClientToken,b==null?void 0:b.isNIAd,b==null?void 0:b.watchTillEnd,a,b]),null}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("InstreamAdsIsEmptyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(!0);function d(){return u(c)}l.InstreamAdsIsEmptyContext=c,l.useInstreamAdsIsEmptyContext=d}),98);
__d("InstreamAdsStartIndicator.react",["fbt","DateConsts","FDSProgressRing.react","InstreamAdsCurrentInsertionContext","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useRef,_="x3euffx-B";function f(){var e,t=o("react-compiler-runtime").c(25),n=p(null),a=p(null),i=p(null),l=(u||(u=o("VideoPlayerHooks"))).useController(),d=l.getPlayheadPosition(),_=u.usePaused(),f=o("VideoPlayerInstreamAdsStateHooks").useStartIndicatorBeginningTimeState(),g=f[0],h=f[1],y=o("VideoPlayerInstreamAdsStateHooks").useAdBreaksTimeOffsetBeginningState(),C=y[0],b=y[1],v=(e=o("InstreamAdsCurrentInsertionContext").useInstreamAdsCurrentInsertion())==null?void 0:e.timeOffsetInMs,S=(v!=null?v:0)/o("DateConsts").MS_PER_SEC,R;t[0]===Symbol.for("react.memo_cache_sentinel")?(R=function(){a!=null&&a.current&&n!=null&&n.current&&a.current.style.setProperty("width",(n.current.clientWidth+38).toString()+"px")},t[0]=R):R=t[0],m(R,void 0);var L,E;if(t[1]!==S||t[2]!==C||t[3]!==d||t[4]!==b||t[5]!==h||t[6]!==g?(L=function(){(g===null||d-(g!=null?g:0)>(C!=null?C:0))&&(h(d),b(S))},E=[d,S,h,g,b,C],t[1]=S,t[2]=C,t[3]=d,t[4]=b,t[5]=h,t[6]=g,t[7]=L,t[8]=E):(L=t[7],E=t[8]),m(L,E),v==null||d-(g!=null?g:0)>(C!=null?C:0)){var k;return t[9]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx(c.Fragment,{}),t[9]=k):k=t[9],k}var I=S-d,T=g==null?0:(d-g)/(S-g)*100,D;t[10]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"Ad starting soon"),t[10]=D):D=t[10];var x=D,$;t[11]===Symbol.for("react.memo_cache_sentinel")?($=function(){i.current&&(i.current.style.visibility="hidden")},t[11]=$):$=t[11];var P=$,N;t[12]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x4afe7t x10e4vud xu5i820 xa3vuyk x1r4y97 x10l6tqk"},t[12]=N):N=t[12];var M,w,A;t[13]===Symbol.for("react.memo_cache_sentinel")?(M=c.jsx("div",{className:"xal61yo xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c x1txq2hj xd7y6wv x1o0tod x10l6tqk",ref:a}),w={className:"x1ey2m1c xd7y6wv x1o0tod x1hc1fzr x10l6tqk"},A={className:"xrotz4w x9otpla x1n2onr6 xwa60dl"},t[13]=M,t[14]=w,t[15]=A):(M=t[13],w=t[14],A=t[15]);var F;t[16]===Symbol.for("react.memo_cache_sentinel")?(F=s._(/*BTDS*/"Progress indicator for upcoming advertisement"),t[16]=F):F=t[16];var O=Date.now()-T/100*(I*1e3),B;t[17]!==_||t[18]!==I||t[19]!==T||t[20]!==O?(B=c.jsx("div",babelHelpers.extends({},A,{children:c.jsx(r("FDSProgressRing.react"),{"aria-label":F,beginningPercentage:T,color:"light",duration:I,explicitStartTime:O,onComplete:P,pause:_,size:16,type:"default"})})),t[17]=_,t[18]=I,t[19]=T,t[20]=O,t[21]=B):B=t[21];var W;t[22]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx("div",{className:"x14ctfv x1pg5gke x18hw5r0 x132q4wb x9otpla x10l6tqk xwa60dl xuxw1ft",ref:n,children:x}),t[22]=W):W=t[22];var q;return t[23]!==B?(q=c.jsxs("div",babelHelpers.extends({},N,{ref:i,children:[M,c.jsxs("div",babelHelpers.extends({},w,{children:[B,W]}))]})),t[23]=B,t[24]=q):q=t[24],q}l.default=f}),226);
__d("VideoPlayerDebugInstreamAdsAPI",["cr:1484071","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=n("cr:1484071"))!=null?e:{useVideoPlayerDebugAPI:r("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:r("emptyFunction"),useVideoPlayerDebugInfo:r("emptyFunction").thatReturns(null)};l.default=s}),98);
__d("useInstreamAdsFetcherQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26096277890009212"}),null);
__d("useInstreamAdsFetcherQuery.graphql",["useInstreamAdsFetcherQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"adTriggerSource"},t={defaultValue:null,kind:"LocalArgument",name:"first"},r={defaultValue:null,kind:"LocalArgument",name:"hostVideoId"},o={defaultValue:null,kind:"LocalArgument",name:"insertionPointOrigin"},a={defaultValue:null,kind:"LocalArgument",name:"instreamPlacement"},i={defaultValue:null,kind:"LocalArgument",name:"instreamVideoAdBreakIndex"},l={defaultValue:null,kind:"LocalArgument",name:"instreamVideoAdType"},s={defaultValue:null,kind:"LocalArgument",name:"isSponsorHostVideo"},u={defaultValue:null,kind:"LocalArgument",name:"playerFormat"},c={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},m={defaultValue:null,kind:"LocalArgument",name:"requestedAdFormat"},p={defaultValue:null,kind:"LocalArgument",name:"scale"},_={defaultValue:null,kind:"LocalArgument",name:"storyIdentifier"},f={defaultValue:null,kind:"LocalArgument",name:"tracePolicy"},g=[{kind:"Variable",name:"ad_trigger_source",variableName:"adTriggerSource"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"host_video_id",variableName:"hostVideoId"},{kind:"Variable",name:"insertion_point_origin",variableName:"insertionPointOrigin"},{kind:"Variable",name:"instream_placement",variableName:"instreamPlacement"},{kind:"Variable",name:"instream_video_ad_break_index",variableName:"instreamVideoAdBreakIndex"},{kind:"Variable",name:"instream_video_ad_type",variableName:"instreamVideoAdType"},{kind:"Variable",name:"is_sponsored_host_video",variableName:"isSponsorHostVideo"},{kind:"Variable",name:"player_format",variableName:"playerFormat"},{kind:"Variable",name:"player_sub_origin",variableName:"playerSubOrigin"},{kind:"Variable",name:"requested_ad_format",variableName:"requestedAdFormat"},{kind:"Variable",name:"story_identifier",variableName:"storyIdentifier"},{kind:"Variable",name:"trace_policy",variableName:"tracePolicy"}],h={alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null}],storageKey:null},y=[{kind:"Variable",name:"location",variableName:"renderLocation"}],C={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={args:null,documentName:"useInstreamAdsFetcherQuery",fragmentName:"InstreamAdsStory_story",fragmentPropName:"story",kind:"ModuleImport"},v={alias:null,args:null,kind:"ScalarField",name:"query_refetch_interval_s",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"should_show_ad_pod",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},L=[R];return{fragment:{argumentDefinitions:[e,t,r,o,a,i,l,s,u,c,d,m,p,_,f],kind:"Fragment",metadata:null,name:"useInstreamAdsFetcherQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:g,concreteType:"InstreamVideoAdsConnection",kind:"LinkedField",name:"instream_video_ads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstreamVideoAdsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:y,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[C],storageKey:null}],storageKey:null},b],storageKey:null}],storageKey:null},v,S],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[m,t,r,l,i,a,f,c,u,s,d,_,o,p,e],kind:"Operation",name:"useInstreamAdsFetcherQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:g,concreteType:"InstreamVideoAdsConnection",kind:"LinkedField",name:"instream_video_ads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstreamVideoAdsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:y,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[C,{kind:"InlineFragment",selections:L,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:L,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:L,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:L,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:L,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},R,b],storageKey:null}],storageKey:null},v,S],storageKey:null}],storageKey:null}]},params:{id:n("useInstreamAdsFetcherQuery_facebookRelayOperation"),metadata:{},name:"useInstreamAdsFetcherQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useInstreamAdsFetcher",["CometFeedStoryContext","CometRelay","InstreamAdsConfig","InstreamAdsCurrentInsertionContext","InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","VideoPlayerTracePolicyContext","WebPixelRatio","createVideoStateHook","react","useInstreamAdsFetcherQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=c.useEffect,m=c.useRef,p=o("createVideoStateHook").createVideoStateHook(),_=p.stateHook,f=o("createVideoStateHook").createVideoStateHook(),g=f.stateHook,h=o("createVideoStateHook").createVideoStateHook(),y=h.stateHook,C=o("createVideoStateHook").createVideoStateHook(),b=C.valueHook,v=o("createVideoStateHook").createVideoStateHook(),S=v.stateHook,R=o("createVideoStateHook").createVideoStateHook(),L=R.stateHook,E=e!==void 0?e:e=n("useInstreamAdsFetcherQuery.graphql");function k(e){return e==="GenericAttachmentMedia"||e==="PHOTO"}function I(e){var t,n=e.playerFormat,r=e.subOrigin,a=e.videoFBID,i=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),l=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),s=o("CometRelay").useRelayEnvironment(),c=_(null),p=c[0],f=c[1],h=g(null),C=h[0],v=h[1],R=y(null),I=R[0],T=R[1],D=b({current:null}),x=o("InstreamAdsCurrentInsertionContext").useInstreamAdsCurrentInsertion(),$=o("VideoPlayerTracePolicyContext").useVideoPlayerTracePolicy(),P=$.initialTracePolicy,N=$.routeTracePolicy,M=P!=null?P:N,w=(u||(u=o("VideoPlayerHooks"))).useAdClientToken(),A=S([null,null]),F=A[0],O=A[1],B=L(),W=B[0],q=B[1],U=(t=o("CometFeedStoryContext").useCometFeedStoryContext())==null?void 0:t.storyID,V=u.useBroadcastStatus(),H=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext(),G=m({playerFormat:null});return d(function(){G.current.playerFormat=n},[n]),d(function(){(i==="INIT"||i==="END")&&(D.current=null,f(null),O([null,null]))},[D,i,O,f]),d(function(){if(U!==null&&q(U),x!=null&&D.current===null&&!(V!=="LIVE"&&x.index===o("InstreamAdsConfig").UNIFIED_SCHEDULER_AD_INDEX)){var e;V==="VOD_READY"?e="VOD":V==="LIVE"?e="LIVE":e="NONLIVE";var t=o("CometRelay").fetchQuery(s,E,{adTriggerSource:x.adTriggerSource,first:10,hostVideoId:a,insertionPointOrigin:x.insertionPointOrigin,instreamPlacement:x.instreamPlacement,instreamVideoAdBreakIndex:x.index,instreamVideoAdType:e,isSponsorHostVideo:w!=null,playerFormat:G.current.playerFormat,playerSubOrigin:r,renderLocation:"feed_mobile",requestedAdFormat:x.adFormat,scale:o("WebPixelRatio").get(),storyIdentifier:W,tracePolicy:M}),n=t.subscribe({error:function(t){},next:function(t){var e,n,r=(e=t.viewer)==null?void 0:e.instream_video_ads;if(r!=null){var o=r.edges,a=r.query_refetch_interval_s,i=(n=r.should_show_ad_pod)!=null?n:!1;if((o.length===0||i&&o.length===1)&&l.setExtraFields(babelHelpers.extends({},H,{unifiedSchedulerRefetchIntervalSec:a})),(!i&&o.length>0||o.length>1)&&D.current===null){var s,u,c,d,m=o[0].node;if(m==null)return;var p=(s=(u=m.attachments[0])==null||(u=u.media)==null?void 0:u.__typename)!=null?s:"",_=k(p),g=x.instreamPlacement==="NON_INTERRUPTIVE"||_,h=(c=x.adFormat)==null?void 0:c.startsWith("SKIPPABLE_VIDEO"),y=null;if(i){var C,b=o[1].node;y=b==null||(C=b.sponsored_data)==null?void 0:C.client_token,f([m,b]),D.current=[m,b]}else f([m]),D.current=[m];l.setExtraFields(babelHelpers.extends({},H,{adClientToken:(d=m.sponsored_data)==null?void 0:d.client_token,adClientTokenSecond:y,adPodIndex:0,isAdPod:i,isNIAd:g,isSkippableAd:h,unifiedSchedulerRefetchIntervalSec:a})),l.setIsEmpty(!1),g?(T(null),v(m)):(v(null),T(m))}}}});return function(){n.unsubscribe(),D.current=null}}},[s,l,r,a,x,w,G,M,D,f,W,U,q,V,v,T]),{NIAdStory:C,adPorableVideoID:F,instreamAdsStory:p,palmState:i,setAdPortableVideoID:O,videoAdStory:I}}l.default=I}),98);
__d("PMVCometInterruptionsCounterResetMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29218678391114089"}),null);
__d("PMVCometInterruptionsCounterResetMutation.graphql",["PMVCometInterruptionsCounterResetMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"pmv_comet_interruptions_counter_reset",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PMVCometInterruptionsCounterResetMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PMVCometInterruptionsCounterResetMutation",selections:e},params:{id:n("PMVCometInterruptionsCounterResetMutation_facebookRelayOperation"),metadata:{},name:"PMVCometInterruptionsCounterResetMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("PMVCometInterruptionsCounterReset",["CometRelay","PMVCometInterruptionsCounterResetMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("PMVCometInterruptionsCounterResetMutation.graphql");function u(e,t){var n={mutation:s,onCompleted:t&&t.onSuccess,onError:t&&t.onFailure,variables:{}};return o("CometRelay").commitMutation(e,n)}l.default=u}),98);
__d("PMVMonetizationUtils",["PMVCometInterruptionsCounterReset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){r("PMVCometInterruptionsCounterReset")(e,{onFailure:function(t){},onSuccess:function(t){}})}l.PMVCometCounterReset=e}),98);
__d("useInstreamAdsOrganicVideoControl",["CometRelay","InstreamAdsConfig","InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","PMVMonetizationUtils","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","createVideoStateHook","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=r("requireDeferred")("CommercialBreakClickFalcoEvent").__setRef("useInstreamAdsOrganicVideoControl"),p=r("requireDeferred")("CommercialBreakEndFalcoEvent").__setRef("useInstreamAdsOrganicVideoControl"),_=o("createVideoStateHook").createVideoStateHook(""),f=_.valueHook;function g(){var e=o("react-compiler-runtime").c(16),t=o("CometRelay").useRelayEnvironment(),n=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),r=(s||(s=o("VideoPlayerHooks"))).useController(),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={current:null},e[0]=a):a=e[0];var i=f(a),l=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext(),u=(l==null?void 0:l.isAdPod)===!0&&(l==null?void 0:l.adPodIndex)===1,_=n==="END"&&u?l==null?void 0:l.adClientTokenSecond:l==null?void 0:l.adClientToken,g=l==null?void 0:l.isNIAd,h=s.useIsPremiumMusicVideo(),y=s.useIsNCSR(),C=(l==null?void 0:l.isSkippableAd)===!0||n==="END"&&u,b=d(""),v=d(null),S=l==null?void 0:l.watchTillEnd,R=(l==null?void 0:l.adPlaytime)||0,L=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsPostRollEndedOrSkippedStateSetter(),E,k;return e[1]!==_||e[2]!==R||e[3]!==t||e[4]!==i||e[5]!==u||e[6]!==y||e[7]!==g||e[8]!==h||e[9]!==C||e[10]!==r||e[11]!==n||e[12]!==L||e[13]!==S?(E=function(){if((n==="END"||u)&&(g===!0||v.current==="PLAY_LONGER_AD"||b.current!==_||_==null||_==="")){if(n==="END"){var e=i.current;if(e&&r.unfreeze(e),i.current=null,r.getCurrentState().ended)L(!0);else{var a=r.getCurrentState(),l=a.paused;l&&r.play("commercial_break")}}if(v.current==="START_AD"&&(S===!0&&R<o("InstreamAdsConfig").DEFAULT_AD_COMPLETION_DURATION||R>=o("InstreamAdsConfig").DEFAULT_AD_COMPLETION_DURATION||C===!0)){var s=S!==!0&&C===!0;p.onReady(function(e){e.log(function(){return{commercial_break_ad_client_token:_,ending_reason:s?"skip_ad":"playback_finished"}})}),s&&m.onReady(function(e){e.log(function(){return{ad_break_click_source:"skip_button_click",commercial_break_ad_client_token:_}})}),(h||y)&&o("PMVMonetizationUtils").PMVCometCounterReset(t)}b.current=_}v.current=n},k=[_,t,h,r,n,L,i,S,g,y,R,C,u],e[1]=_,e[2]=R,e[3]=t,e[4]=i,e[5]=u,e[6]=y,e[7]=g,e[8]=h,e[9]=C,e[10]=r,e[11]=n,e[12]=L,e[13]=S,e[14]=E,e[15]=k):(E=e[14],k=e[15]),c(E,k),i}l.default=g}),98);
__d("useLiveInstreamAdsScheduler",["InstreamAdsConfig","InstreamAdsExtraFieldsContext","InstreamAdsIsEmptyContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","gkx","react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=200,p=2e4,_=2e4;function f(){var e=o("VideoPlayerInstreamAdsStateHooks").useUnifiedSchedulerLastFetchTimeState(),t=e[0],n=e[1],a=o("VideoPlayerInstreamAdsStateHooks").useWaitingForAdFetchState(),i=a[0],l=a[1],u=d(i),f=(s||(s=o("VideoPlayerHooks"))).useController(),g=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),h=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),y=o("InstreamAdsIsEmptyContext").useInstreamAdsIsEmptyContext(),C=d(y),b=s.useWatchTime(),v=s.useLastPlayedTime(),S=s.useIsLive(),R=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext(),L=d(0),E=o("InstreamAdsConfig").DEFAULT_FETCH_TIME_INTERVAL_MS;c(function(){C.current=y},[y]),c(function(){if(!S)return;function e(){if(g==="INIT"){var e={adFormat:null,adTriggerSource:o("InstreamAdsConfig").UNIFIED_SCHEDULER_TIGGER_SOURCE,index:o("InstreamAdsConfig").UNIFIED_SCHEDULER_AD_INDEX,insertionPointOrigin:null,instreamPlacement:"NON_INTERRUPTIVE",timeOffsetInMs:null};h.setCurrentInsertion(e),h.setState("FETCH")}}function a(){if(C.current===!0&&u.current===!0){r("setTimeout")(function(){a()},E);return}if(g==="FETCH"&&C.current===!1){(R==null?void 0:R.isNIAd)===!0&&(h.setState("START_NI_AD"),r("setTimeout")(function(){h.setState("INIT")},m)),u.current=!1,l(!1);var e=b+(Date.now()-v);n(e)}}var i=f.subscribe(function(){if(r("gkx")("24376")){var i;if(v===0)return;var s=b+(Date.now()-v);g==="END"&&h.setState("INIT"),L.current=(i=R==null?void 0:R.unifiedSchedulerRefetchIntervalSec)!=null?i:o("InstreamAdsConfig").getUnifiedSchedulerFrequencyMs()/1e3,g==="INIT"&&s>p&&s-t>=L.current*1e3&&e(),s>o("InstreamAdsConfig").getUnifiedSchedulerFrequencyMs()&&g==="FETCH"&&u.current===!1&&(u.current=!0,l(!0),a(),r("setTimeout")(function(){g==="FETCH"&&(h.setState("INIT"),u.current===!0&&(n(b+(Date.now()-v)),l(!1),u.current=!1))},_))}});return function(){i.remove()}},[f,h,b,v,t,n,R,i,l,S,y,g])}l.default=f}),98);
__d("useLiveInstreamPreRollAdsScheduler",["InstreamAdsConfig","InstreamAdsExtraFieldsContext","InstreamAdsIsEmptyContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","gkx","react","react-compiler-runtime","requireDeferred","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=r("requireDeferred")("CommercialBreakEndFalcoEvent").__setRef("useLiveInstreamPreRollAdsScheduler"),p=200;function _(e){var t=o("react-compiler-runtime").c(29),n=(s||(s=o("VideoPlayerHooks"))).useController(),a=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),i=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),l=o("InstreamAdsIsEmptyContext").useInstreamAdsIsEmptyContext(),u=d(l),_=s.useLastPlayedTime(),g=s.useIsLive(),h=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext(),y=d(null),C=d(!1),b=d(!1),v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=o("InstreamAdsConfig").getIsLivePrerollMaxFetchTimeMS(),t[0]=v):v=t[0];var S=v,R=o("InstreamAdsConfig").DEFAULT_FETCH_TIME_INTERVAL_MS,L=s.useWatchTime(),E=o("VideoPlayerInstreamAdsStateHooks").useUnifiedSchedulerLastFetchTimeState(),k=E[1],I,T;t[1]!==h?(I=function(){y.current=h},T=[h],t[1]=h,t[2]=I,t[3]=T):(I=t[2],T=t[3]),c(I,T);var D,x;t[4]!==l?(D=function(){u.current=l},x=[l],t[4]=l,t[5]=D,t[6]=x):(D=t[5],x=t[6]),c(D,x);var $;t[7]!==(h==null?void 0:h.hasScheduledPrerollOnce)||t[8]!==g||t[9]!==_||t[10]!==a||t[11]!==i||t[12]!==e.subOrigin||t[13]!==k||t[14]!==n||t[15]!==L?($=function(){if(!g||e.subOrigin!=="topic_live"&&e.subOrigin!=="channel_tab")return;var t=function(){a!=="FETCH"&&i.setState("END"),b.current=!0},l=function(){var e={adFormat:null,adTriggerSource:o("InstreamAdsConfig").UNIFIED_SCHEDULER_TIGGER_SOURCE,index:o("InstreamAdsConfig").IS_LIVE_PREROLL_INDEX,insertionPointOrigin:null,instreamPlacement:"PRE_ROLL",timeOffsetInMs:null};i.setCurrentInsertion(e),i.setState("FETCH")};function s(){if((u.current===!0||y.current===null)&&b.current===!1){r("setTimeout")(function(){s()},R);return}if(u.current===!1&&b.current===!1){var e;if(((e=y.current)==null?void 0:e.isNIAd)===!0)i.setState("START_NI_AD"),r("setTimeout")(function(){a!=="FETCH"&&i.setState("END")},p);else{var t;((t=y.current)==null?void 0:t.isNIAd)===!1&&i.setState("START_AD")}b.current=!0;var n=L+(Date.now()-_);k(n)}}var c=function(){r("setTimeout")(function(){u.current===!0&&b.current===!1&&(m.onReady(f),t())},S),s()},d=function(){b.current===!1&&C.current===!1&&(C.current=!0,c())},v=n.subscribe(function(){r("gkx")("24376")&&(h==null?void 0:h.hasScheduledPrerollOnce)!==!0&&(a==="INIT"&&b.current===!1&&(i.setExtraFields({hasScheduledPrerollOnce:!0}),l()),d())});return(function(){v.remove()})},t[7]=h==null?void 0:h.hasScheduledPrerollOnce,t[8]=g,t[9]=_,t[10]=a,t[11]=i,t[12]=e.subOrigin,t[13]=k,t[14]=n,t[15]=L,t[16]=$):$=t[16];var P;t[17]!==h||t[18]!==l||t[19]!==g||t[20]!==_||t[21]!==a||t[22]!==i||t[23]!==e.playerFormat||t[24]!==e.subOrigin||t[25]!==k||t[26]!==n||t[27]!==L?(P=[n,i,L,_,h,g,l,a,R,S,k,e.playerFormat,e.subOrigin],t[17]=h,t[18]=l,t[19]=g,t[20]=_,t[21]=a,t[22]=i,t[23]=e.playerFormat,t[24]=e.subOrigin,t[25]=k,t[26]=n,t[27]=L,t[28]=P):P=t[28],c($,P)}function f(e){e.log(g)}function g(){return{ad_break_index:String(o("InstreamAdsConfig").IS_LIVE_PREROLL_INDEX),ending_reason:"timed_out"}}l.default=_}),98);
__d("useVodInstreamAdsScheduler",["DateConsts","InstreamAdsConfig","InstreamAdsIsEmptyContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","clearTimeout","createVideoStateHook","react","react-compiler-runtime","setTimeout","useLocalStorage__UNSAFE"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=o("createVideoStateHook").createVideoStateHook(),p=m.stateHook,_=200;function f(){var e=o("react-compiler-runtime").c(15),t=h(-1),n=(s||(s=o("VideoPlayerHooks"))).useController(),a=d(null),i=d(null),l=d(null),u=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),m=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),p=o("InstreamAdsIsEmptyContext").useInstreamAdsIsEmptyContext(),f=d(p),y=d(null),C=d(null),b=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsMidRollsValue(),v=r("useLocalStorage__UNSAFE")("instream_ads_vod_gap_rule",null),S=v[0],R=v[1],L,E;e[0]!==p?(L=function(){f.current=p},E=[p],e[0]=p,e[1]=L,e[2]=E):(L=e[1],E=e[2]),c(L,E);var k,I;e[3]!==m||e[4]!==u||e[5]!==R?(k=function(){return m==="START"&&(l.current!==null&&r("clearTimeout")(l.current),l.current=r("setTimeout")(function(){u.setState("START_AD");var e=Date.now();R(e)},o("InstreamAdsConfig").getNonLiveBeginningTransitionTimeMS())),(function(){l.current!==null&&r("clearTimeout")(l.current)})},I=[m,u,R],e[3]=m,e[4]=u,e[5]=R,e[6]=k,e[7]=I):(k=e[6],I=e[7]),c(k,I);var T,D;e[8]!==t||e[9]!==S||e[10]!==b||e[11]!==u||e[12]!==n?(T=function(){var e=function(){a.current!==null&&r("clearTimeout")(a.current),i.current!==null&&r("clearTimeout")(i.current),a.current=null,i.current=null,t.current=-1};function l(e){var t=n.getPlayheadPosition()*o("DateConsts").MS_PER_SEC,i=b[e],s=i.timeOffsetInMs;if(s!=null){var c=s-t-o("InstreamAdsConfig").getPreFetchTimeMs();if(c>o("InstreamAdsConfig").getPreFetchTimeDeltaMs()){a.current!==null&&r("clearTimeout")(a.current);var d=c/2;a.current=r("setTimeout")(function(){l(e)},d);return}f.current!==!1&&u.setState("INIT");var m=Date.now(),p=S,_=!1;p!=null&&(_=m-p<=o("InstreamAdsConfig").getNonLiveMidrollGapRuleMS()),_?u.setState("INIT"):(u.setCurrentInsertion(b[e]),u.setState("FETCH")),a.current!==null&&(r("clearTimeout")(a.current),a.current=null)}}function s(a){var l=n.getPlayheadPosition()*o("DateConsts").MS_PER_SEC,c=b[a].timeOffsetInMs;if(c!=null){var m=c-l;if(f.current===!1&&b[a].instreamPlacement==="MID_ROLL"&&u.setState("STARTING_INDICATOR"),m=Math.min(m,o("InstreamAdsConfig").getRecheckStartMs()),m>o("InstreamAdsConfig").getStartDeltaMs()){i.current!==null&&r("clearTimeout")(i.current),i.current=r("setTimeout")(function(){s(a)},m);return}f.current===!1?(b[a].instreamPlacement==="MID_ROLL"?u.setState("START"):b[a].instreamPlacement==="NON_INTERRUPTIVE"&&(u.setState("START_NI_AD"),e(),r("setTimeout")(function(){u.setState("END"),e(),d()},_)),t.current=a):(u.setState("INIT"),e(),d())}}var c=function(t,n){if(!(t>=b.length)){var e=b[t],u=e.timeOffsetInMs;if(u!=null){var c=u-n;c=c/2;var m=c-o("InstreamAdsConfig").getPreFetchTimeMs();if(c<0){d();return}m<=o("InstreamAdsConfig").getPreFetchTimeDeltaMs()?l(t):(a.current!==null&&r("clearTimeout")(a.current),a.current=r("setTimeout")(function(){l(t)},m)),c=c-o("InstreamAdsConfig").getStartingIndicatorMs(),c<=o("InstreamAdsConfig").getStartDeltaMs()?s(t):(i.current!==null&&r("clearTimeout")(i.current),i.current=r("setTimeout")(function(){s(t)},c))}}};function d(){var e=n.getPlayheadPosition()*o("DateConsts").MS_PER_SEC,r=g(e,b);r===t.current&&(r=r+1),c(r,e)}var m=(b==null?void 0:b.length)>0?n.subscribe(function(){var t=n.getCurrentState(),r=t.paused,o=t.playing;o&&o!==y.current?d():r&&r!==C.current&&e(),y.current=o,C.current=r}):null;return(function(){m&&m.remove(),e()})},D=[n,t,b,u,S],e[8]=t,e[9]=S,e[10]=b,e[11]=u,e[12]=n,e[13]=T,e[14]=D):(T=e[13],D=e[14]),c(T,D)}function g(e,t){for(var n=t.length,r=n,a=n-1;a>=0;a--){var i=t[a].timeOffsetInMs;if(i!==null&&Number(i)>e+o("InstreamAdsConfig").getStartDeltaMs())r=a;else break}return r}function h(e){var t=o("react-compiler-runtime").c(2),n;t[0]!==e?(n={current:e},t[0]=e,t[1]=n):n=t[1];var r=p(n),a=r[0];return a}l.default=f}),98);
__d("useVodInstreamPostRollAdsScheduler",["DateConsts","InstreamAdsConfig","InstreamAdsIsEmptyContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef;function m(){var e=o("react-compiler-runtime").c(16),t=d(!1),n=o("InstreamAdsIsEmptyContext").useInstreamAdsIsEmptyContext(),r=d(n),a=(s||(s=o("VideoPlayerHooks"))).useDuration(),i=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),l=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),u=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsPostRollValue(),m=d(!1),p=s.useController(),_=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsPostRollEndedOrSkippedStateSetter(),f,g;e[0]!==n?(f=function(){r.current=n},g=[n],e[0]=n,e[1]=f,e[2]=g):(f=e[1],g=e[2]),c(f,g);var h;e[3]!==a||e[4]!==l||e[5]!==u||e[6]!==_||e[7]!==p?(h=function(){var e=function(){var e=p.getPlayheadPosition()*o("DateConsts").MS_PER_SEC,t=a*o("DateConsts").MS_PER_SEC-e;return t<=o("InstreamAdsConfig").getPostRollPreFetchTimeMs()&&t>=o("InstreamAdsConfig").getPostRollPreFetchEndTimeMs()},n=function(){l.setCurrentInsertion(u),l.setState("FETCH_POST_ROLL"),_(!1),t.current=!0},i=function(){r.current===!1?l.setState("START_AD"):(l.setState("INIT"),_(!0)),m.current=!0},s=u!==null?p.subscribe(function(){var r=p.getCurrentState(),o=r.ended,a=r.playing;a&&t.current===!1&&e()&&n(),o&&t.current===!0&&m.current===!1&&i()}):null;return(function(){s&&s.remove()})},e[3]=a,e[4]=l,e[5]=u,e[6]=_,e[7]=p,e[8]=h):h=e[8];var y;e[9]!==a||e[10]!==i||e[11]!==l||e[12]!==u||e[13]!==_||e[14]!==p?(y=[a,i,l,u,_,p],e[9]=a,e[10]=i,e[11]=l,e[12]=u,e[13]=_,e[14]=p,e[15]=y):y=e[15],c(h,y)}l.default=m}),98);
__d("useVodInstreamPreRollAdsScheduler",["InstreamAdsConfig","InstreamAdsIsEmptyContext","InstreamPalmStateManagerContext","VideoPlayerHooks","react","react-compiler-runtime","setTimeout","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef;function m(e){var t=o("react-compiler-runtime").c(21),n=(s||(s=o("VideoPlayerHooks"))).useController(),a=d(null),i=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),l=o("InstreamAdsIsEmptyContext").useInstreamAdsIsEmptyContext(),u=d(l),m=d(!1),p=d(!1),_=d(0),f=r("useVideoPlayerHasStartedPlayingAtLeastOnce")(),g;t[0]!==e.isPMV?(g=e.isPMV?o("InstreamAdsConfig").getPMVInterruptionsPreRollFetchTimeMs():o("InstreamAdsConfig").getNonPmvMaxFetchTimeMS(),t[0]=e.isPMV,t[1]=g):g=t[1];var h=g,y=e.isPMV?1e3:o("InstreamAdsConfig").DEFAULT_FETCH_TIME_INTERVAL_MS,C,b;t[2]!==l?(C=function(){u.current=l},b=[l],t[2]=l,t[3]=C,t[4]=b):(C=t[3],b=t[4]),c(C,b);var v;t[5]!==y||t[6]!==f||t[7]!==h||t[8]!==i||t[9]!==e.preRoll||t[10]!==n?(v=function(){var t=function(){i.setState("INIT"),a.current=null;var e=n.getCurrentState(),t=e.paused;t&&n.play("commercial_break"),m.current=!0};function o(){if(u.current===!0&&m.current===!1){a.current=r("setTimeout")(function(){_.current=_.current+y,o()},y);return}u.current===!1&&m.current===!1&&(i.setState("START_AD"),m.current=!0)}var l=function(){r("setTimeout")(function(){u.current===!0&&t()},h),i.setState("FETCH_PRE_ROLL"),i.setCurrentInsertion(e.preRoll),o()},s=n.subscribe(function(){var t=n.getCurrentState(),r=t.paused,o=t.playing;o&&m.current===!1&&e.preRoll!=null&&!f&&n.pause("commercial_break"),r&&m.current===!1&&e.preRoll!=null&&p.current===!1&&!f&&(l(),p.current=!0)});return(function(){s.remove()})},t[5]=y,t[6]=f,t[7]=h,t[8]=i,t[9]=e.preRoll,t[10]=n,t[11]=v):v=t[11];var S;t[12]!==y||t[13]!==f||t[14]!==h||t[15]!==i||t[16]!==e.isPMV||t[17]!==e.preRoll||t[18]!==e.videoFBID||t[19]!==n?(S=[n,e.preRoll,i,e.videoFBID,h,f,y,e.isPMV],t[12]=y,t[13]=f,t[14]=h,t[15]=i,t[16]=e.isPMV,t[17]=e.preRoll,t[18]=e.videoFBID,t[19]=n,t[20]=S):S=t[20],c(v,S)}l.default=m}),98);
__d("InstreamAdsPalmPlayer.react",["CometErrorBoundary.react","InstreamAdsCurrentInsertionContext","InstreamAdsDisplay.react","InstreamAdsExtraFieldsContext","InstreamAdsFeedContextCardSurface.react","InstreamAdsHideAdBehaviorContext","InstreamAdsIsEmptyContext","InstreamAdsPalmStateContext","InstreamAdsStartIndicator.react","InstreamPalmStateManagerContext","VideoPlayerDebugInstreamAdsAPI","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","cr:1341999","gkx","react","react-compiler-runtime","requireDeferred","useInstreamAdsFetcher","useInstreamAdsOrganicVideoControl","useLiveInstreamAdsScheduler","useLiveInstreamPreRollAdsScheduler","useVodInstreamAdsScheduler","useVodInstreamPostRollAdsScheduler","useVodInstreamPreRollAdsScheduler"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useMemo,p=r("requireDeferred")("CommercialBreakStartingIndicatorFalcoEvent").__setRef("InstreamAdsPalmPlayer.react"),_=40,f={location:"bottom",size:_};function g(e){var t=e.midRolls,a=e.playerFormat,i=e.preRoll,l=e.subOrigin,c=e.videoFBID,m=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsFullScreenContextCardStateValue(),p=(s||(s=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions(),_=p.release,g=p.reserve,C=m!==null;return d(function(){(a==="tahoe"||a==="full_screen")&&m!==null?g(f):_(f)},[C,a,g,_]),r("gkx")("16208")&&(a==="full_screen"||a==="in_content_vod_chaining")?null:u.jsx(r("CometErrorBoundary.react"),{children:u.jsxs(h,{children:[n("cr:1341999")&&u.jsx(n("cr:1341999"),{}),a==="tahoe"||a==="full_screen"?u.jsx("div",{className:"x1qqjqyx xzql1tr x10l6tqk xbwjon8",children:m}):null,r("InstreamAdsFeedContextCardSurface.react")?u.jsx(r("InstreamAdsFeedContextCardSurface.react"),{}):null,u.jsx(y,{midRolls:t,playerFormat:a,preRoll:i,subOrigin:l,videoFBID:c})]})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t,n=o("react-compiler-runtime").c(34),r=e.children,a=(t=o("VideoPlayerInstreamAdsStateHooks")).useInstreamAdsState(),i=a[0],l=a[1],s=t.useInstreamAdsIsEmptyState(),c=s[0],m=s[1],_=t.useInstreamAdsCurrentInsertionState(),f=_[0],g=_[1],h=t.useInstreamAdsExtraFieldsState(),y=h[0],C=h[1],b=t.useInstreamAdsHideAdBehaviorState(),v=b[0],S=b[1],R;n[0]!==g||n[1]!==C||n[2]!==S||n[3]!==m||n[4]!==l?(R={setCurrentInsertion:g,setExtraFields:C,setHideAdBehavior:S,setIsEmpty:m,setState:l},n[0]=g,n[1]=C,n[2]=S,n[3]=m,n[4]=l,n[5]=R):R=n[5];var L=R,E=y==null?void 0:y.adClientToken,k=(y==null?void 0:y.isAdPod)===!0?y==null?void 0:y.adClientTokenSecond:null,I,T;n[6]!==g||n[7]!==m||n[8]!==i?(I=function(){var e=function(){g(null),m(!0)};(i==="INIT"||i==="END"||i==="START_NI_AD")&&e()},T=[g,m,i],n[6]=g,n[7]=m,n[8]=i,n[9]=I,n[10]=T):(I=n[9],T=n[10]),d(I,T);var D,x;n[11]!==E||n[12]!==k||n[13]!==i?(D=function(){i==="STARTING_INDICATOR"&&(p.onReady(function(e){e.log(function(){return{commercial_break_ad_client_token:E}})}),k!==null&&p.onReady(function(e){e.log(function(){return{commercial_break_ad_client_token:k}})}))},x=[i,E,k],n[11]=E,n[12]=k,n[13]=i,n[14]=D,n[15]=x):(D=n[14],x=n[15]),d(D,x);var $;n[16]!==r||n[17]!==v?($=u.jsx(o("InstreamAdsHideAdBehaviorContext").InstreamAdsHideAdBehaviorContext.Provider,{value:v,children:r}),n[16]=r,n[17]=v,n[18]=$):$=n[18];var P;n[19]!==f||n[20]!==$?(P=u.jsx(o("InstreamAdsCurrentInsertionContext").InstreamAdsCurrentInsertionContext.Provider,{value:f,children:$}),n[19]=f,n[20]=$,n[21]=P):P=n[21];var N;n[22]!==L||n[23]!==P?(N=u.jsx(o("InstreamPalmStateManagerContext").InstreamPalmStateManagerContext.Provider,{value:L,children:P}),n[22]=L,n[23]=P,n[24]=N):N=n[24];var M;n[25]!==c||n[26]!==N?(M=u.jsx(o("InstreamAdsIsEmptyContext").InstreamAdsIsEmptyContext.Provider,{value:c,children:N}),n[25]=c,n[26]=N,n[27]=M):M=n[27];var w;n[28]!==i||n[29]!==M?(w=u.jsx(o("InstreamAdsPalmStateContext").InstreamAdsPalmStateContext.Provider,{value:i,children:M}),n[28]=i,n[29]=M,n[30]=w):w=n[30];var A;return n[31]!==y||n[32]!==w?(A=u.jsx(o("InstreamAdsExtraFieldsContext").InstreamAdsExtraFieldsContext.Provider,{value:y,children:w}),n[31]=y,n[32]=w,n[33]=A):A=n[33],A}function y(e){var t=o("react-compiler-runtime").c(29),n=e.midRolls,a=e.playerFormat,i=e.preRoll,l=e.subOrigin,c=e.videoFBID,d=(s||(s=o("VideoPlayerHooks"))).useIsPremiumMusicVideo(),m;t[0]!==d||t[1]!==i||t[2]!==c?(m={isPMV:d,preRoll:i,videoFBID:c},t[0]=d,t[1]=i,t[2]=c,t[3]=m):m=t[3],r("useVodInstreamPreRollAdsScheduler")(m),r("useVodInstreamPostRollAdsScheduler")(),r("useVodInstreamAdsScheduler")();var p;t[4]!==a||t[5]!==l?(p={playerFormat:a,subOrigin:l},t[4]=a,t[5]=l,t[6]=p):p=t[6],r("useLiveInstreamPreRollAdsScheduler")(p),r("useLiveInstreamAdsScheduler")();var _=r("useInstreamAdsOrganicVideoControl")(),f;t[7]!==a||t[8]!==l||t[9]!==c?(f={playerFormat:a,subOrigin:l,videoFBID:c},t[7]=a,t[8]=l,t[9]=c,t[10]=f):f=t[10];var g=r("useInstreamAdsFetcher")(f),h=g.NIAdStory,y=g.adPorableVideoID,C=g.instreamAdsStory,b=g.palmState,v=g.setAdPortableVideoID,S=g.videoAdStory,R;t[11]!==_||t[12]!==n?(R={midRolls:n,organicVideoFreezeTokenRef:_},t[11]=_,t[12]=n,t[13]=R):R=t[13],r("VideoPlayerDebugInstreamAdsAPI").useVideoPlayerDebugAPIDefinition(R);var L;t[14]!==b?(L=b==="STARTING_INDICATOR"&&u.jsx(r("InstreamAdsStartIndicator.react"),{}),t[14]=b,t[15]=L):L=t[15];var E;t[16]!==h||t[17]!==y||t[18]!==_||t[19]!==C||t[20]!==b||t[21]!==a||t[22]!==v||t[23]!==l||t[24]!==S?(E=u.jsx(r("InstreamAdsDisplay.react"),{NIAdStory:h,adPorableVideoID:y,freezeTokenRef:_,instreamAdsStory:C,palmState:b,playerFormat:a,setAdPortableVideoID:v,subOrigin:l,videoAdStory:S}),t[16]=h,t[17]=y,t[18]=_,t[19]=C,t[20]=b,t[21]=a,t[22]=v,t[23]=l,t[24]=S,t[25]=E):E=t[25];var k;return t[26]!==L||t[27]!==E?(k=u.jsxs(u.Fragment,{children:[L,E]}),t[26]=L,t[27]=E,t[28]=k):k=t[28],k}l.default=g}),98);
__d("InstreamVideoAdBreaksPlayerImpl_adBreaks.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"instream_placement",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayerImpl_adBreaks",selections:[{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"mid_rolls",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"time_offset_in_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"pre_roll",plural:!1,selections:[e,t],storageKey:null}],type:"InstreamVideoAdBreaks",abstractKey:null}})();a.exports=e}),null);
__d("useInstreamAdsHaloFetcherQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9825028987610490"}),null);
__d("useInstreamAdsHaloFetcherQuery.graphql",["useInstreamAdsHaloFetcherQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"hostVideoId"},t={defaultValue:null,kind:"LocalArgument",name:"instreamVideoAdType"},r={defaultValue:null,kind:"LocalArgument",name:"isSponsorHostVideo"},o={defaultValue:null,kind:"LocalArgument",name:"playerFormat"},a={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},i={defaultValue:null,kind:"LocalArgument",name:"storyIdentifier"},l={defaultValue:null,kind:"LocalArgument",name:"tracePolicy"},s={alias:null,args:null,kind:"ScalarField",name:"ad_format",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"instream_placement",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"insertion_point_origin",storageKey:null},m=[{alias:null,args:[{fields:[{kind:"Variable",name:"comet_video_player_trace_policy",variableName:"tracePolicy"},{kind:"Variable",name:"host_video_id",variableName:"hostVideoId"},{kind:"Variable",name:"instream_video_ad_type",variableName:"instreamVideoAdType"},{kind:"Variable",name:"is_sponsored_host_video",variableName:"isSponsorHostVideo"},{kind:"Variable",name:"player_format",variableName:"playerFormat"},{kind:"Variable",name:"player_sub_origin",variableName:"playerSubOrigin"},{kind:"Variable",name:"story_identifier",variableName:"storyIdentifier"}],kind:"ObjectValue",name:"params"}],concreteType:"Scrubber",kind:"LinkedField",name:"scrubber",plural:!1,selections:[{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"instream_video_ad_breaks",plural:!0,selections:[s,u,{alias:null,args:null,kind:"ScalarField",name:"time_offset_in_ms",storageKey:null},c,d],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"post_roll_ad_break",plural:!1,selections:[s,u,c,d],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t,r,o,a,i,l],kind:"Fragment",metadata:null,name:"useInstreamAdsHaloFetcherQuery",selections:m,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,o,l,t,i,r],kind:"Operation",name:"useInstreamAdsHaloFetcherQuery",selections:m},params:{id:n("useInstreamAdsHaloFetcherQuery_facebookRelayOperation"),metadata:{},name:"useInstreamAdsHaloFetcherQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useInstreamAdsHaloFetcher",["CometFeedStoryContext","CometRelay","InstreamAdsConfig","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerTracePolicyContext","createVideoStateHook","react","react-compiler-runtime","useInstreamAdsHaloFetcherQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=c.useEffect,m=c.useRef,p=c.useState,_=o("createVideoStateHook").createVideoStateHook(),f=_.stateHook,g=e!==void 0?e:e=n("useInstreamAdsHaloFetcherQuery.graphql");function h(e,t,n,r,a){var i,l=o("react-compiler-runtime").c(55),s=(u||(u=o("VideoPlayerHooks"))).useAdClientToken(),c=o("CometRelay").useRelayEnvironment(),_=o("VideoPlayerTracePolicyContext").useVideoPlayerTracePolicy(),h=_.initialTracePolicy,C=_.routeTracePolicy,b=h!=null?h:C,v=p(!1),S=v[0],R=v[1],L=p(),E=L[0],k=L[1],I=p(!1),T=I[0],D=I[1],x=p(),$=x[0],P=x[1],N=p(!e),M=N[0],w=N[1],A=u.usePaused(),F=m(c),O=u.useCurrentTimeThrottled(500),B=m(n),W=m(r),q=m(a),U=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsMidRollsState(),V=U[0],H=U[1],G=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsPostRollState(),z=G[0],j=G[1],K=f(),Q=K[0],X=K[1],Y=(i=o("CometFeedStoryContext").useCometFeedStoryContext())==null?void 0:i.storyID,J=u.useBroadcastStatus(),Z=o("InstreamAdsConfig").getHaloStartFetchTimeMS(),ee,te;l[0]!==c?(ee=function(){F.current=c},te=[c],l[0]=c,l[1]=ee,l[2]=te):(ee=l[1],te=l[2]),d(ee,te);var ne,re;l[3]!==O||l[4]!==t?(ne=function(){O*1e3>(t!=null?t:0)&&D(!0)},re=[O,t],l[3]=O,l[4]=t,l[5]=ne,l[6]=re):(ne=l[5],re=l[6]),d(ne,re);var oe,ae;l[7]!==n?(oe=function(){B.current=n},ae=[n],l[7]=n,l[8]=oe,l[9]=ae):(oe=l[8],ae=l[9]),d(oe,ae);var ie,le;l[10]!==r?(ie=function(){W.current=r},le=[r],l[10]=r,l[11]=ie,l[12]=le):(ie=l[11],le=l[12]),d(ie,le);var se,ue;l[13]!==a?(se=function(){q.current=a},ue=[a],l[13]=a,l[14]=se,l[15]=ue):(se=l[14],ue=l[15]),d(se,ue);var ce;l[16]!==X||l[17]!==Y?(ce=function(){Y!==null&&X(Y)},l[16]=X,l[17]=Y,l[18]=ce):ce=l[18];var de;l[19]!==X||l[20]!==Q||l[21]!==Y?(de=[Q,Y,X],l[19]=X,l[20]=Q,l[21]=Y,l[22]=de):de=l[22],d(ce,de);var me,pe;l[23]!==O?(me=function(){O*1e3<=Z&&w(!0)},pe=[O,Z],l[23]=O,l[24]=me,l[25]=pe):(me=l[24],pe=l[25]),d(me,pe);var _e;l[26]!==s||l[27]!==J||l[28]!==S||l[29]!==T||l[30]!==M||l[31]!==V||l[32]!==A||l[33]!==z||l[34]!==Q||l[35]!==b?(_e=function(){if(!(!M||V.length>0||S||A||z||!T)){var e=o("CometRelay").fetchQuery(F.current,g,{hostVideoId:q.current,instreamVideoAdType:J==="VOD_READY"?"VOD":"NONLIVE",isSponsorHostVideo:s!=null,playerFormat:B.current,playerSubOrigin:W.current,storyIdentifier:Q,tracePolicy:b}),t=e.subscribe({error:function(t){R(!0)},next:function(t){var e,n,r=t==null||(e=t.scrubber)==null?void 0:e.instream_video_ad_breaks,o=t==null||(n=t.scrubber)==null?void 0:n.post_roll_ad_break;r&&r.length>0&&k(r.map(y)),o&&P({adFormat:o.ad_format,index:o.index,insertionPointOrigin:o.insertion_point_origin,instreamPlacement:o.instream_placement,timeOffsetInMs:null}),R(!0)}});return(function(){t.unsubscribe()})}},l[26]=s,l[27]=J,l[28]=S,l[29]=T,l[30]=M,l[31]=V,l[32]=A,l[33]=z,l[34]=Q,l[35]=b,l[36]=_e):_e=l[36];var fe;l[37]!==s||l[38]!==J||l[39]!==S||l[40]!==T||l[41]!==M||l[42]!==V||l[43]!==A||l[44]!==z||l[45]!==H||l[46]!==j||l[47]!==Q||l[48]!==b?(fe=[s,V,M,H,j,Q,S,A,z,b,J,T],l[37]=s,l[38]=J,l[39]=S,l[40]=T,l[41]=M,l[42]=V,l[43]=A,l[44]=z,l[45]=H,l[46]=j,l[47]=Q,l[48]=b,l[49]=fe):fe=l[49],d(_e,fe);var ge;l[50]!==E?(ge=E||[],l[50]=E,l[51]=ge):ge=l[51];var he;return l[52]!==$||l[53]!==ge?(he={midRolls:ge,postRoll:$,preRoll:null},l[52]=$,l[53]=ge,l[54]=he):he=l[54],he}function y(e){return{adFormat:e.ad_format,index:e.index,insertionPointOrigin:e.insertion_point_origin,instreamPlacement:e.instream_placement,timeOffsetInMs:e.time_offset_in_ms}}l.default=h}),98);
__d("InstreamVideoAdBreaksPlayerImpl.react",["CometRelay","InstreamAdsPalmPlayer.react","InstreamVideoAdBreaksPlayerImpl_adBreaks.graphql","VideoPlayerInstreamAdsStateHooks","react","react-compiler-runtime","useInstreamAdsHaloFetcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=["entry_point","inline_end_screen"],_=102;function f(e){var t=o("react-compiler-runtime").c(21),n=e.instreamExtraConfig,a=e.instreamVideoAdBreaksComet,i=e.playerFormat,l=e.subOrigin,s=e.videoFBID,c=g(a,i,l),m=c.preRoll!==null,p=r("useInstreamAdsHaloFetcher")(m,n==null?void 0:n.instreamHaloDelayTimeSeconds,i,l,s),_=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsMidRollsState(),f=_[0],h=_[1],y=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsPostRollState(),C=y[0],b=y[1],v;t[0]!==p||t[1]!==f.length||t[2]!==h?(v=function(){var e;f.length<=0&&p!=null&&p.midRolls&&((e=p.midRolls)==null?void 0:e.length)>0&&h(p.midRolls)},t[0]=p,t[1]=f.length,t[2]=h,t[3]=v):v=t[3];var S;t[4]!==p||t[5]!==f||t[6]!==h?(S=[p,f,h],t[4]=p,t[5]=f,t[6]=h,t[7]=S):S=t[7],d(v,S);var R,L;t[8]!==p||t[9]!==C||t[10]!==b?(R=function(){C===null&&p!=null&&p.postRoll&&b(p.postRoll)},L=[p,C,b],t[8]=p,t[9]=C,t[10]=b,t[11]=R,t[12]=L):(R=t[11],L=t[12]),d(R,L);var E;t[13]!==(p==null?void 0:p.midRolls)?(E=(p==null?void 0:p.midRolls)||[],t[13]=p==null?void 0:p.midRolls,t[14]=E):E=t[14];var k;return t[15]!==c.preRoll||t[16]!==i||t[17]!==l||t[18]!==E||t[19]!==s?(k=u.jsx(r("InstreamAdsPalmPlayer.react"),{midRolls:E,playerFormat:i,preRoll:c.preRoll,subOrigin:l,videoFBID:s}),t[15]=c.preRoll,t[16]=i,t[17]=l,t[18]=E,t[19]=s,t[20]=k):k=t[20],k}function g(t,r,a){var i=o("react-compiler-runtime").c(9),l=o("CometRelay").useFragment(e!==void 0?e:e=n("InstreamVideoAdBreaksPlayerImpl_adBreaks.graphql"),t),s;i[0]!==l.mid_rolls?(s=l.mid_rolls.map(C).filter(y).sort(h),i[0]=l.mid_rolls,i[1]=s):s=i[1];var u=s,c=null;if(r==="tahoe"&&l.pre_roll!=null){var d;i[2]!==l.pre_roll.index||i[3]!==l.pre_roll.instream_placement?(d={adFormat:null,index:l.pre_roll.index,instreamPlacement:l.pre_roll.instream_placement,timeOffsetInMs:null},i[2]=l.pre_roll.index,i[3]=l.pre_roll.instream_placement,i[4]=d):d=i[4],c=d}else if(p.includes(a)){var m;i[5]===Symbol.for("react.memo_cache_sentinel")?(m={adFormat:null,index:_,insertionPointOrigin:"VIDEO",instreamPlacement:"PRE_ROLL",timeOffsetInMs:null},i[5]=m):m=i[5],c=m}var f;return i[6]!==u||i[7]!==c?(f={midRolls:u,postRoll:null,preRoll:c},i[6]=u,i[7]=c,i[8]=f):f=i[8],f}function h(e,t){return Number(e.timeOffsetInMs)-Number(t.timeOffsetInMs)}function y(e){return e.instreamPlacement==="MID_ROLL"}function C(e){return{adFormat:null,index:e.index,insertionPointOrigin:"VIDEO",instreamPlacement:e.instream_placement,timeOffsetInMs:e.time_offset_in_ms}}l.default=f}),98);
__d("PMVInterruptionsWWWSitevarConfigJSModuleWrapper",["PMVInterruptionsWWWSitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("PMVInterruptionsWWWSitevarConfig")}),98);/*FB_PKG_DELIM*/
__d("AutoDubbingConsumptionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3742"),s=o("FalcoLoggerInternal").create("auto_dubbing_consumption",e),u=s;l.default=u}),98);
__d("AutoDubbingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3504"),s=o("FalcoLoggerInternal").create("auto_dubbing",e),u=s;l.default=u}),98);
__d("CometAudioLanguageMenuItemsMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29971685009145446"}),null);
__d("CometAudioLanguageMenuItemsMutation.graphql",["CometAudioLanguageMenuItemsMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetUserPreferredAudioLanguageResponsePayload",kind:"LinkedField",name:"set_user_preferred_audio_language",plural:!1,selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_language_string",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometAudioLanguageMenuItemsMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometAudioLanguageMenuItemsMutation",selections:t},params:{id:n("CometAudioLanguageMenuItemsMutation_facebookRelayOperation"),metadata:{},name:"CometAudioLanguageMenuItemsMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometAudioLanguageMenuItemsMutation_doNotTranslateMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24192497507078198"}),null);
__d("CometAudioLanguageMenuItemsMutation_doNotTranslateMutation.graphql",["CometAudioLanguageMenuItemsMutation_doNotTranslateMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetUserDoNotTranslateAudioLanguagesResponsePayload",kind:"LinkedField",name:"set_user_do_not_translate_audio_languages",plural:!1,selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"do_not_translate_languages_string",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometAudioLanguageMenuItemsMutation_doNotTranslateMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometAudioLanguageMenuItemsMutation_doNotTranslateMutation",selections:t},params:{id:n("CometAudioLanguageMenuItemsMutation_doNotTranslateMutation_facebookRelayOperation"),metadata:{},name:"CometAudioLanguageMenuItemsMutation_doNotTranslateMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometAudioLanguageMenuItemsMutation",["CometAudioLanguageMenuItemsMutation.graphql","CometAudioLanguageMenuItemsMutation_doNotTranslateMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("CometAudioLanguageMenuItemsMutation.graphql"),c=s!==void 0?s:s=n("CometAudioLanguageMenuItemsMutation_doNotTranslateMutation.graphql");l.setUserPreferredAudioLanguageDataMutation=u,l.setDoNotTranslateLanguageDataMutation=c}),98);
__d("CometAudioLanguageSupportedLanguagesEnum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["EN","VI","ZH","HI","AR","PT","ES","DE","IT","FR","BN","ID","JA","KO","RU","TH","TR"]),l=e;i.default=l}),66);
__d("CometAudioLanguageUtils_doNotTranslate.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAudioLanguageUtils_doNotTranslate",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"do_not_translate_languages_string",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometAudioLanguageUtils_dubbingInfo.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAudioLanguageUtils_dubbingInfo",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_best_language_prediction_for_dubbing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"do_not_translate_languages_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_language_string",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometAudioLanguageUtils_dubtrackMapping.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAudioLanguageUtils_dubtrackMapping",selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("CometVideoPlayerAutoDubbingWWWStrings",["fbt","FDSLink.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Meta AI translation"),d=s._(/*BTDS*/"This reel is translated into your default language using Meta AI to simulate the speaker\u2019s voice and, if the creator chooses, sync their lips to match."),m=s._(/*BTDS*/"AI translations may be inaccurate."),p=s._(/*BTDS*/"{=m0}",[s._implicitParam("=m0",u.jsx(r("FDSLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about AI voice translations"),href:"https://www.facebook.com/help/576364395068889",target:"_blank",children:s._(/*BTDS*/"Learn more")}))]),_=s._(/*BTDS*/"{warning} {learnMore}",[s._param("warning",m),s._param("learnMore",p)]),f=s._(/*BTDS*/"Learn more"),g=s._(/*BTDS*/"Close"),h=s._(/*BTDS*/"Translated audio"),y=s._(/*BTDS*/"This video has been translated and re-recorded into your default language by the creator. Some translations may be inaccurate."),C=s._(/*BTDS*/"Audio translations rating options"),b=s._(/*BTDS*/"Audio and language"),v=s._(/*BTDS*/"Audio description"),S=s._(/*BTDS*/"Rate this voice translation"),R=s._(/*BTDS*/"Additional details (optional)"),L=s._(/*BTDS*/"Why did you give this rating? (optional)"),E=s._(/*BTDS*/"Thanks for your rating, your feedback helps improve Facebook."),k=s._(/*BTDS*/"Voice translation is inaccurate"),I=s._(/*BTDS*/"Voice translation is accurate"),T=s._(/*BTDS*/"Voice translation is robotic"),D=s._(/*BTDS*/"Voice translation is natural"),x=s._(/*BTDS*/"Poor sound quality"),$=s._(/*BTDS*/"Good sound quality"),P=s._(/*BTDS*/"Audio is unclear"),N=s._(/*BTDS*/"Audio is clear"),M=s._(/*BTDS*/"Audio is too fast or slow"),w=s._(/*BTDS*/"Audio is the right speed"),A=s._(/*BTDS*/"Very good"),F=s._(/*BTDS*/"Good"),O=s._(/*BTDS*/"OK"),B=s._(/*BTDS*/"Very bad"),W=s._(/*BTDS*/"Bad"),q=s._(/*BTDS*/"More menu options"),U=s._(/*BTDS*/"Submit"),V=function(t){return s._(/*BTDS*/"{language}",[s._param("language",t.charAt(0).toUpperCase()+t.slice(1))])},H=s._(/*BTDS*/"Don't translate"),G=s._(/*BTDS*/"Choose languages you prefer to keep untranslated."),z=s._(/*BTDS*/"Original audio"),j=s._(/*BTDS*/"Audio description"),K=s._(/*BTDS*/"Save"),Q=s._(/*BTDS*/"Next"),X=s._(/*BTDS*/"Translations and language"),Y=s._(/*BTDS*/"Off"),J=s._(/*BTDS*/"Hear audio translated into your default language in the speaker\u2019s voice when available."),Z=s._(/*BTDS*/"Review voice translation"),ee=s._(/*BTDS*/"Manage voice translation"),te=s._(/*BTDS*/"This video does not have voice translations available at the moment."),ne=s._(/*BTDS*/"Voice translations not available"),re=s._(/*BTDS*/"View Reel"),oe=s._(/*BTDS*/"Speak in English, Spanish, Hindi or Portuguese"),ae=s._(/*BTDS*/"We currently support voice translations between English, Spanish, Hindi or Portuguese with more languages coming in the future."),ie=s._(/*BTDS*/"Say it loud and clear"),le=s._(/*BTDS*/"Try to speak clearly and limit background noise in the video you upload."),se=s._(/*BTDS*/"Add music later"),ue=s._(/*BTDS*/"Music or audio from the audio library can be added, but it will not be translated."),ce=s._(/*BTDS*/"Film with your mouth visible"),de=s._(/*BTDS*/"To sync your lips to the translation, make sure your mouth is uncovered and in the frame."),me=s._(/*BTDS*/"Failed AI translations image"),pe=s._(/*BTDS*/"About translating your voice with Meta AI"),_e=s._(/*BTDS*/"Sometimes we\u2019re not able to translate certain content. Try following these best practices next time you post."),fe=s._(/*BTDS*/"Review voice translations"),ge=s._(/*BTDS*/"Translated with Meta AI"),he=function(t){var e=V(t);return s._(/*BTDS*/"{ originalLabel} ({language})",[s._param(" originalLabel",z),s._param("language",e)])},ye=s._(/*BTDS*/"Shared"),Ce=s._(/*BTDS*/"Not shared"),be=s._(/*BTDS*/"Approve your translation to share your reel in those languages. Your original reel has already been shared."),ve=function(t,n){var e=n==="approve"?s._(/*BTDS*/"Approve"):s._(/*BTDS*/"Delete");return t===0?s._(/*BTDS*/"{action} translations",[s._param("action",e)]):s._(/*BTDS*/"_j{\"*\":\"{action} {numTranslations} translations\",\"_1\":\"{action} {numTranslations} translation\"}",[s._plural(t),s._param("action",e),s._param("numTranslations",t)])},Se=s._(/*BTDS*/"Your translation has been shared. You can remove it anytime from the reel."),Re=s._(/*BTDS*/"Translations deleted"),Le=s._(/*BTDS*/"Meta AI translation deleted"),Ee=s._(/*BTDS*/"Pending voice translations"),ke=s._(/*BTDS*/"Translation in progress"),Ie=s._(/*BTDS*/"You won't be able to translate this reel again."),Te=function(t){return s._(/*BTDS*/"_j{\"*\":\"Delete {numTranslations} voice translations ?\",\"_1\":\"Delete {numTranslations} voice translation ?\"}",[s._plural(t),s._param("numTranslations",t)])},De=function(t){return s._(/*BTDS*/"Delete {selected language} voice translation?",[s._param("selected language",t)])},xe=s._(/*BTDS*/"Delete"),$e=s._(/*BTDS*/"Go back"),Pe=s._(/*BTDS*/"Cancel");l.AI_TRANSLATION_LABEL=c,l.AI_TRANSLATION_BODY=d,l.AI_TRANSLATION_WARNING=m,l.AI_TRANSLATION_LEARN_MORE=p,l.AI_TRANSLATION_WARNING_LEARN_MORE_BODY=_,l.AI_TRANSLATION_LEARN_MORE_LABEL=f,l.AI_TRANSLATION_MODAL_CLOSE=g,l.AUDIO_TRACKS_TRANSLATION_LABEL=h,l.AUDIO_TRACKS_TRANSLATION_BODY=y,l.AUDIO_LANGUAGE_RATINGS_OPTIONS=C,l.AUDIO_LANGUAGE_MODAL_TITLE=b,l.AUDIO_DESCRIPTION_MENU_ITEM_TITLE=v,l.AUDIO_LANGUAGE_RATE_TITLE=S,l.AUDIO_LANGUAGE_RATE_ADDITIONAL_INFO=R,l.AUDIO_LANGUAGE_RATE_REASON_TITLE=L,l.AUDIO_LANGUAGE_RATE_TOAST=E,l.AUDIO_LANGUAGE_RATE_REASON_INACCURATE=k,l.AUDIO_LANGUAGE_RATE_REASON_ACCURATE=I,l.AUDIO_LANGUAGE_RATE_REASON_ROBOTIC=T,l.AUDIO_LANGUAGE_RATE_REASON_NATURAL=D,l.AUDIO_LANGUAGE_RATE_REASON_BAD_SOUND_QUALITY=x,l.AUDIO_LANGUAGE_RATE_REASON_GOOD_SOUND_QUALITY=$,l.AUDIO_LANGUAGE_RATE_REASON_AUDIO_UNCLEAR=P,l.AUDIO_LANGUAGE_RATE_REASON_AUDIO_CLEAR=N,l.AUDIO_LANGUAGE_RATE_REASON_AUDIO_WRONG_SPEED=M,l.AUDIO_LANGUAGE_RATE_REASON_AUDIO_RIGHT_SPEED=w,l.AUDIO_LANGUAGE_RATE_OPTION_VERY_GOOD=A,l.AUDIO_LANGUAGE_RATE_OPTION_GOOD=F,l.AUDIO_LANGUAGE_RATE_OPTION_OK=O,l.AUDIO_LANGUAGE_RATE_OPTION_VERY_BAD=B,l.AUDIO_LANGUAGE_RATE_OPTION_BAD=W,l.REELS_MENU_MORE_OPTIONS=q,l.AUDIO_LANGUAGE_RATE_SUBMIT=U,l.getLanguageLabel=V,l.DO_NOT_TRANSLATE_TITLE=H,l.DO_NOT_TRANSLATE_EXPLANATION=G,l.ORIGINAL_AUDIO_LABEL=z,l.AUDIO_DESCRIPTION_LABEL=j,l.SAVE_USER_LANGUAGE_PREFERENCE=K,l.GO_TO_NEXT_MODAL=Q,l.VOD_TRANSLATIONS_MENU_ITEM=X,l.VOD_TRANSLATIONS_OFF=Y,l.VOD_TRANSLATIONS_DESCRIPTION=J,l.REVIEW_TRANSLATION_MODAL_HEADER=Z,l.MANAGE_TRANSLATION_MODAL_HEADER=ee,l.DUBBING_NULL_STATE_BODY=te,l.DUBBING_NULL_STATE_HEADER=ne,l.DUBBING_MANAGEMENT_REROUTE_TO_REEL=re,l.BEST_PRACTICES_ELLIGIBLE_LANGUAGES_HEADER=oe,l.BEST_PRACTICES_ELLIGIBLE_LANGUAGES_BODY=ae,l.BEST_PRACTICES_CLEAR_SPEECH_HEADER=ie,l.BEST_PRACTICES_CLEAR_SPEECH_BODY=le,l.BEST_PRACTICES_NO_MUSIC_HEADER=se,l.BEST_PRACTICES_NO_MUSIC_BODY=ue,l.BEST_PRACTICES_VISIBLE_MOUTH_HEADER=ce,l.BEST_PRACTICES_VISIBLE_MOUTH_BODY=de,l.FAILED_TRANSLATION_IMG_ALT=me,l.BEST_PRACTICES_PAGE_HEADER=pe,l.GENERIC_TRANSLATIONS_ERROR=_e,l.REVIEW_TRANSLATION_SECTION_HEADER=fe,l.META_AI_SECTION_HEADER=ge,l.getOriginalLanguageLabel=he,l.TRANSLATION_SHARED_DESCRIPTION=ye,l.TRANSLATION_NOT_SHARED_DESCRIPTION=Ce,l.COMET_TRANSLATION_APPROVAL_META=be,l.COMET_APPROVE_DELETE_TRANSLATION_LABEL=ve,l.COMET_TRANSLATION_APPROVED_SUCCESS=Se,l.COMET_TRANSLATION_DELETED_SUCCESS=Re,l.COMET_TRANSLATION_DELETED_SUCCESS_MANAGEMENT=Le,l.PENDING_VOICE_TRANSLATIONS_HEADER=Ee,l.TRANSLATION_IN_PROGRESS_DESCRIPTION=ke,l.COMET_DELETE_MODAL_BODY=Ie,l.COMET_DELETE_MODAL_TITLE_MULTI_LANG=Te,l.COMET_DELETE_MODAL_TITLE_SINGLE_LANG=De,l.COMET_DELETE_MODAL_CONFIRMATION=xe,l.COMET_DELETE_MODAL_CANCEL=$e,l.COMET_DELETE_MODAL_CANCEL_BUTTON=Pe}),226);
__d("VideoPlayerAudioTrackUtils",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(t,n){if(n!=null){var e=String(t).substring(0,2);try{return new Intl.DisplayNames([e],{type:"language"}).of(n)}catch(e){return}}},u=function(n,r){if(n==null)return s._(/*BTDS*/"Default");var t=e(r,n.lang),o=t!=null?t:s._(/*BTDS*/"Default"),a=null;return n.role==="dub"?a=s._(/*BTDS*/"Dubbed"):(n==null?void 0:n.role)==="description"&&(a=s._(/*BTDS*/"Description")),a!=null?o.toString()+" - "+a.toString():o};l.getIntlDisplayName=e,l.getAudioTrackLabelLocalized=u}),226);
__d("XFBDubbingTypeEnum.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["AUDIODESCRIPTION","AUTODUB","BYOA","MANUALDUB","NONE"]),l=e;i.default=l}),66);
__d("CometAudioLanguageUtils",["AutoDubbingConsumptionFalcoEvent","AutoDubbingFalcoEvent","CometAudioLanguageMenuItemsMutation","CometAudioLanguageSupportedLanguagesEnum","CometAudioLanguageUtils_doNotTranslate.graphql","CometAudioLanguageUtils_dubbingInfo.graphql","CometAudioLanguageUtils_dubtrackMapping.graphql","CometRelay","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","cometPushToast","gkx","intlList","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["label"],s,u,c,d,m=d||(d=o("react")),p=m.useEffect,_=m.useMemo,f=m.useRef,g=null,h=function(t,n,o,a,i,l){var e={client_extra_data:{dubbing_type_from:o==null?"original":o,dubbing_type_to:a==null?"original":a,lang_from:t!=null?t:"original",lang_to:n!=null?n:"original",player_type:"Reel"},event:i,video_id:l!=null?l:""};r("AutoDubbingConsumptionFalcoEvent").log(function(){return e})},y=function(t,n){var e,r=(e=t==null?void 0:t.lang)!=null?e:null;return(t==null?void 0:t.lang)===null&&t.role==null&&(r=n!=null?n:null),r},C=function(t,n,o){var e={client_extra_data:{lang:t!=null?t:""},event:o,video_id:n!=null?n:""};r("AutoDubbingConsumptionFalcoEvent").log(function(){return e})};function b(e){var t,r=o("CometRelay").useFragment(s!==void 0?s:s=n("CometAudioLanguageUtils_dubtrackMapping.graphql"),e);return(t=r==null?void 0:r.dubbed_track_mapping)!=null?t:null}var v=function(t){var e=null;if(t!=null){var n;e=(n=t.find(function(e){return e.dubbing_type==="NONE"&&e.audio_lang!=null}))==null?void 0:n.audio_lang}return e};function S(e,t){var n=o("react-compiler-runtime").c(7),a,i;if(n[0]!==e||n[1]!==t){var l={};if(a=null,e!=null&&t!=null){var s={};t.forEach(function(e){var t;e.dubbing_type==="NONE"&&e.audio_lang!=null?(t="Default",a=e.audio_lang):t=e.audio_lang;var n=o("VideoPlayerAudioTrackUtils").getIntlDisplayName(r("CurrentLocale").get(),e.audio_lang);n!=null&&t!=null&&(s[t]=n.charAt(0).toUpperCase()+n.slice(1))}),e.forEach(function(e){if(e.lang!==null&&!(e.id in l)&&e.lang in s){var t=s[e.lang];e.role==="description"&&(t=t+" \xB7 "+o("CometVideoPlayerAutoDubbingWWWStrings").AUDIO_DESCRIPTION_LABEL.toString()),l[e.id]=babelHelpers.extends({},e,{label:t})}else if(e.displayLabel==="Default"){var n,r=o("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL.toString();if(s[(n=e.lang)!=null?n:"Default"]){var a;r=s[(a=e.lang)!=null?a:"Default"]+" \xB7 "+r}l[e.id]=babelHelpers.extends({},e,{label:r})}})}i=Object.values(l).sort(R),n[0]=e,n[1]=t,n[2]=a,n[3]=i}else a=n[2],i=n[3];var u=i,c;return n[4]!==a||n[5]!==u?(c={allAvailableTracks:u,originalLanguage:a},n[4]=a,n[5]=u,n[6]=c):c=n[6],c}function R(e,t){return e.role===null?-1:t.role===null?1:e.label.localeCompare(t.label)}function L(e){var t,r=o("CometRelay").useFragment(u!==void 0?u:u=n("CometAudioLanguageUtils_doNotTranslate.graphql"),e);return r==null||(t=r.audio_settings)==null?void 0:t.do_not_translate_languages_string}function E(e){var t=o("react-compiler-runtime").c(2),n;if(e==null||e.length===0)n=null;else{var a;if(t[0]!==e){var i=[];e.forEach(function(e){var t=o("VideoPlayerAudioTrackUtils").getIntlDisplayName(r("CurrentLocale").get(),e);t!=null&&(t=t.charAt(0).toUpperCase()+t.slice(1),i.push(t))}),i.sort(),a=r("intlList")(i),t[0]=e,t[1]=a}else a=t[1];n=a}return n}var k=function(n){var t=n.controller,r=n.originalLanguage,o=n.saveAndLogPreferredLanguage,a=n.selectedTrack,i=n.setPause,l=n.setUpdatedTargetAudioTrack,s=n.updatedTargetAudioTrack,u=n.videoId;if((t==null?void 0:t.selectVideoVariant)!=null&&a){var c=a.label,d=babelHelpers.objectWithoutPropertiesLoose(a,e);t.selectVideoVariant({lang:d.lang,role:d.role}),i(!1,"AUDIO_LANGUAGE_SELECTOR");var m=y(d,r),p=y(s!=null?s:null,r);o(p,m,s==null?void 0:s.role,a.role,u),l(d)}};function I(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useMutation(o("CometAudioLanguageMenuItemsMutation").setUserPreferredAudioLanguageDataMutation),n=t[0],r;return e[0]!==n?(r=function(t,r,o,a,i){r!=null&&n({onCompleted:D,onError:T,variables:{input:{language_code:r}}}),h(t!=null?t:null,r!=null?r:null,o!=null?o:null,a!=null?a:null,"fb_reel_auto_dub_consumption_preferred_language_changed",i!=null?i:null)},e[0]=n,e[1]=r):r=e[1],r}function T(){}function D(e,t){}function x(e,t){var a=o("react-compiler-runtime").c(4),i=r("gkx")("17327"),l=r("gkx")("19163"),s=o("CometRelay").useFragment(c!==void 0?c:c=n("CometAudioLanguageUtils_dubbingInfo.graphql"),e),u=null,d=g,m=null;if(!t&&s!=null&&(s==null?void 0:s.dubbed_track_mapping)!=null&&(s==null?void 0:s.dubbed_track_mapping.length)>0&&i){var p,_,f,h,y=(p=(_=s.dubbed_track_mapping.find($))==null?void 0:_.audio_lang)!=null?p:null,C=!1;y!=null&&(C=s.dubbed_track_mapping.filter(function(e){return e.audio_lang===y}).length>1);var b=(f=s.audio_settings)==null?void 0:f.do_not_translate_languages_string,v=s==null||(h=s.audio_settings)==null?void 0:h.preferred_language_string,S=s==null?void 0:s.viewer_best_language_prediction_for_dubbing,R=s.audio_user_preferred_language;y!=null&&b!=null&&b.includes(y)?(d=y,u="fb_reel_auto_dub_consumption_do_not_translate_languages_match"):v!=null&&s.dubbed_track_mapping.find(function(e){return e.audio_lang===v})!=null?(d=v,u="fb_reel_auto_dub_consumption_preferred_language_match"):l&&S!=null&&S!==y&&s.dubbed_track_mapping.find(function(e){return e.audio_lang===S})!=null?(d=S,u="fb_reel_auto_dub_consumption_blp_match"):l&&R!=null&&R!==y&&s.dubbed_track_mapping.find(function(e){return e.audio_lang===R})!=null&&(d=R,u="fb_reel_auto_dub_consumption_fallback_to_app_lang"),m=d,C&&d===y&&(d=g)}var L;return a[0]!==u||a[1]!==m||a[2]!==d?(L={event:u,lang:d,loggingLang:m},a[0]=u,a[1]=m,a[2]=d,a[3]=L):L=a[3],L}function $(e){return e.dubbing_type==="NONE"}function P(){var e=o("react-compiler-runtime").c(1),t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){var n=Array.from(r("CometAudioLanguageSupportedLanguagesEnum").members(),w),a=r("CurrentLocale").get();t=n.map(function(e){var t=o("VideoPlayerAudioTrackUtils").getIntlDisplayName(a,e);return t!=null?[e,t]:null}).filter(M),t.sort(N),e[0]=t}else t=e[0];var i=t;return i}function N(e,t){return(e[1]||"").localeCompare(t[1]||"")}function M(e){return e!==null&&e[1]!=null}function w(e){return e.valueOf().toLowerCase()}var A=function(t){var e=t.availableAudioTracks,n=t.controller,r=t.currentValue,o=t.originalVideoLanguage,a=t.selectedLanguages,i=t.setSelectedLanguages,l;return a.includes(r)?l=a.filter(function(e){return e!==r}):(l=[].concat(a,[r]),o!=null&&r===o&&F({availableAudioTracks:e,controller:n,originalVideoLanguage:o})),i(l),l},F=function(t){var e=t.availableAudioTracks,n=t.controller,r=t.originalVideoLanguage;if(r!=null&&n!=null&&e!=null){var o=e.find(function(e){return e.role==null});o!=null&&(n==null||n.selectVideoVariant({lang:o.lang,role:o.role}))}},O=function(t){var e=t.onClose,n=t.rating,a=t.ratingDetails,i=t.selectedReasons,l=t.targetAudioLang,s=t.video_id,u={event:"fb_reel_auto_dub_feedback",extra_data:{feedback:a!=null?a:"",player_type:"Reel",rating_reasons:JSON.stringify(i),selected_language:l!=null?l:"unknown",selected_rating:n!=null?n:"unknown"},video_id:s!=null?String(s):""};r("AutoDubbingFalcoEvent").log(function(){return u}),e(),o("cometPushToast").cometPushToast({message:o("CometVideoPlayerAutoDubbingWWWStrings").AUDIO_LANGUAGE_RATE_TOAST,withoutCloseButton:!0},2e3)},B=function(t,n){var e={client_extra_data:{languages:t.join(",")},event:"fb_reel_auto_dub_consumption_do_not_translate_languages_changed",video_id:n!=null?String(n):""};r("AutoDubbingConsumptionFalcoEvent").log(function(){return e})};function W(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useMutation(o("CometAudioLanguageMenuItemsMutation").setDoNotTranslateLanguageDataMutation),n=t[0],r;return e[0]!==n?(r=function(t,r){n({onCompleted:function(){B(t,r)},onError:q,optimisticResponse:{audio_settings:{do_not_translate_languages_string:t,id:r}},variables:{input:{language_codes:t}}})},e[0]=n,e[1]=r):r=e[1],r}function q(){}var U=function(t,n,o,a){var e={client_extra_data:{fromTrackId:o!=null?o:"",reason:t,toTrackId:a!=null?a:""},event:"fb_reel_auto_dub_consumption_logger_error",video_id:n!=null?n:""};r("AutoDubbingConsumptionFalcoEvent").log(function(){return e})},V=function(t,n,r,o){var e=n==null&&(r==null?void 0:r.role)==="dub"||(n==null?void 0:n.id)!=null&&(r==null?void 0:r.id)!==(n==null?void 0:n.id),a=null;return e&&(t==null?(e=!1,a="availableAudioTracks is null"):r==null?e=!1:t!=null&&n!=null&&t.find(function(e){return e.id===n.id})==null?(e=!1,a="fromTrack is not in availableAudioTracks"):t!=null&&r!=null&&t.find(function(e){return e.id===r.id})==null?(e=!1,a="toTrack is not in availableAudioTracks"):(n==null?void 0:n.id)!=null&&(n==null?void 0:n.id)===(r==null?void 0:r.id)?(e=!1,a="fromTrack and toTrack are the same"):n==null&&(r==null?void 0:r.role)!=="dub"&&(e=!1,a="toTrack is not dubbed")),!e&&a!=null&&U(a,o,n==null?void 0:n.id,r==null?void 0:r.id),e};function H(e,t,n,r){var a=o("react-compiler-runtime").c(6),i=f(null),l,s;a[0]!==r||a[1]!==n||a[2]!==t||a[3]!==e?(l=function(){var o=V(r,i.current,e,n);if(o){var a,l,s,u,c=y((a=i.current)!=null?a:null,t);i.current==null&&c==null&&(c=t);var d=y(e,t);h(c,d,(l=(s=i.current)==null?void 0:s.role)!=null?l:null,(u=e==null?void 0:e.role)!=null?u:null,"fb_reel_auto_dub_consumption",n!=null?n:"")}i.current=e},s=[e,t,n,r],a[0]=r,a[1]=n,a[2]=t,a[3]=e,a[4]=l,a[5]=s):(l=a[4],s=a[5]),p(l,s)}l.logConsumptionLanguageChange=h,l.getSelectedLanguage=y,l.logInitialDubbingConsumption=C,l.useGetDubTrackMapping=b,l.getOriginalLanguage=v,l.useGetAllAvailableTracks=S,l.useGetUserSelectedDoNotTranslateLanguageList=L,l.useGetCurrentDoNotTranslateLanguages=E,l.changePreferredLanguage=k,l.useSaveAndLogPreferredLanguage=I,l.useUserPreferredLanguage=x,l.useAllTransalateableLanguages=P,l.changeUserPreferredDoNotTranslateLanguages=A,l.changeAudioToOriginalLanguage=F,l.logTransalationRating=O,l.logDoNotTranslateLanguageSave=B,l.useSaveAndLogDoNotTranslateLanguages=W,l.useLogTargetAudioChange=H}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});l.default=u}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","FBLogger","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(14),n=e.onPress,a=e.playbackIcon,i=e.showTooltip,l=e.useOutlineIcons,d=i===void 0?!0:i,m,p;e:switch(a){case"pause":{var _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Pause"),t[0]=_):_=t[0],m=_;var f;t[1]!==l?(f=l===!0?o("fbicon")._(u("497677"),20):o("fbicon")._(u("497675"),20),t[1]=l,t[2]=f):f=t[2],p=f;break e}case"replay":{var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Replay"),t[3]=g):g=t[3],m=g;var h;t[4]!==l?(h=l===!0?o("fbicon")._(u("534222"),20):o("fbicon")._(u("534219"),20),t[4]=l,t[5]=h):h=t[5],p=h;break e}case"play":{var y;t[6]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Play"),t[6]=y):y=t[6],m=y;var C;t[7]!==l?(C=l===!0?o("fbicon")._(u("484866"),20):o("fbicon")._(u("484863"),20),t[7]=l,t[8]=C):C=t[8],p=C;break e}default:throw r("FBLogger")("comet_video_player").mustfixThrow("The playback icon is unsupported %s",a)}var b=d?m:null,v;return t[9]!==p||t[10]!==m||t[11]!==n||t[12]!==b?(v=c.jsx(r("VideoPlayerControlIcon.react"),{icon:p,label:m,onPress:n,tooltip:b}),t[9]=p,t[10]=m,t[11]=n,t[12]=b,t[13]=v):v=t[13],v}l.default=d}),226);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","react-compiler-runtime","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(14),n=e.isNPC,a=e.showTooltip,i=e.unmuteOnPlay,l=e.useOutlineIcons,d=n===void 0?!1:n,p=a===void 0?!0:a,_=i===void 0?!1:i,f,g;t[0]!==d?(f=function(){d&&r("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},g=[d],t[0]=d,t[1]=f,t[2]=g):(f=t[1],g=t[2]),c(f,g);var h=r("useVideoPlayerControllerSubscription")(m),y=h.showPauseButton,C=h.showReplayButton,b=(s||(s=o("VideoPlayerHooks"))).useController(),v=r("useMinifiedProductAttribution")(),S;t[3]!==b||t[4]!==d||t[5]!==v||t[6]!==y||t[7]!==_?(S=function(){d&&r("VideoHomeTypedLiteLogger").log({attribution_id_v2:v,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),y?b.pause("user_initiated"):(_&&b.setMuted(!1,"user_initiated"),b.play("user_initiated"))},t[3]=b,t[4]=d,t[5]=v,t[6]=y,t[7]=_,t[8]=S):S=t[8];var R=r("useFeedClickEventHandler")(S),L=y?"pause":C?"replay":"play",E;return t[9]!==R||t[10]!==L||t[11]!==p||t[12]!==l?(E=u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:592,children:u.jsx(r("VideoPlayerPlaybackControlBase.react"),{onPress:R,playbackIcon:L,showTooltip:p,useOutlineIcons:l})}),t[9]=R,t[10]=L,t[11]=p,t[12]=l,t[13]=E):E=t[13],E}function m(e,t){var n=e.getCurrentState(),r=n.ended,o=n.paused,a=n.playing,i=n.stalling,l=e.getPlayheadPosition(),s=n.duration,u=!o&&(a||i),c=!a&&r&&l>=s;return t!=null&&t.showPauseButton===u&&t.showReplayButton===c?t:{showPauseButton:u,showReplayButton:c}}l.default=d}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t="",n=e;isNaN(n)?n=0:n<0&&(n*=-1,t="-");var r=Math.floor(n/o("DateConsts").SEC_PER_HOUR),a=Math.floor((n-r*o("DateConsts").SEC_PER_HOUR)/o("DateConsts").SEC_PER_MIN),i=Math.round(n-r*o("DateConsts").SEC_PER_HOUR-a*o("DateConsts").SEC_PER_MIN);i===o("DateConsts").SEC_PER_MIN&&(i=0,a++),a===o("DateConsts").MIN_PER_HOUR&&(a=0,r++);var l=("0"+i).slice(-2);if(r===0)return""+t+a+":"+l;var s=("0"+a).slice(-2);return""+t+r+":"+s+":"+l}l.default=e}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.currentTime,a=e.duration,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb"},l={className:"x1s688f x15hfatp"},t[0]=i,t[1]=l):(i=t[0],l=t[1]);var u;t[2]!==n?(u=r("getFormattedTimestamp")(n),t[2]=n,t[3]=u):u=t[3];var c;t[4]!==u?(c=s.jsx("span",babelHelpers.extends({},l,{children:u})),t[4]=u,t[5]=c):c=t[5];var d;t[6]!==a?(d=a!=null&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:" / "}),s.jsx("span",{children:r("getFormattedTimestamp")(a)})]}),t[6]=a,t[7]=d):d=t[7];var m;return t[8]!==c||t[9]!==d?(m=s.jsxs("div",babelHelpers.extends({},i,{children:[c,d]})),t[8]=c,t[9]=d,t[10]=m):m=t[10],m}l.default=u}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useContext,m=10,p=10;function _(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){var e,r=t.getCurrentState().seekableRanges,o=r!=null&&(e=r.end(r.length()-1))!=null?e:0,a=Math.min(t.getPlayheadPosition()+m,o);a===o?(t.setIsLiveRewindActive(!1),t.seek(o)):t.seek(a),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function f(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){var e,r=t.getCurrentState().seekableRanges,o=(e=r==null?void 0:r.start(0))!=null?e:0,a=Math.max(t.getPlayheadPosition()-p,o);t.seek(a),t.setIsLiveRewindActive(!0),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function g(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){var e,r=t.getCurrentState().seekableRanges,o=r!=null&&(e=r.end(r.length()-1))!=null?e:0;t.seek(o),t.play("user_initiated"),t.setIsLiveRewindActive(!1),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function h(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){var e,r=t.getCurrentState().seekableRanges,o=(e=r==null?void 0:r.start(0))!=null?e:0;t.seek(o),t.setIsLiveRewindActive(!0),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function y(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){t.play("user_initiated"),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function C(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){t.pause("user_initiated"),t.setIsLiveRewindActive(!0),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function b(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(){var e,r=t.getCurrentState().seekableRanges,o=(e=r==null?void 0:r.start(0))!=null?e:0;t.seek(o),t.setIsLiveRewindActive(!0),t.play("user_initiated"),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function v(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useController(),n=d(r("VideoPlayerLiveRewindControlContext")),a;return e[0]!==n||e[1]!==t?(a=function(r){var e,o,a=t.getCurrentState().seekableRanges,i=(e=a==null?void 0:a.start(0))!=null?e:0,l=a!=null&&(o=a.end(a.length()-1))!=null?o:0,s=Math.min(i+r,l);t.scrubEnd(s),s===l?t.setIsLiveRewindActive(!1):t.setIsLiveRewindActive(!0),n.onLiveRewindControlEvent()},e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function S(){return r("useVideoPlayerControllerSubscription")(R)}function R(e){var t,n;return(t=(n=e.getCurrentState().seekableRanges)==null?void 0:n.start(0))!=null?t:0}l.useLiveRewindForward=_,l.useLiveRewindBack=f,l.useLiveRewindLive=g,l.useLiveRewindStart=h,l.useLiveRewindPlay=y,l.useLiveRewindPause=C,l.useLiveRewindReplay=b,l.useLiveRewindScrub=v,l.useLiveRewindSeekableStartTime=S}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=_,d=function(t,n){return t-n.duration};function m(){var e=o("react-compiler-runtime").c(2),t=o("useLiveRewindUtils").useLiveRewindSeekableStartTime(),n=(s||(s=o("VideoPlayerHooks"))).useCurrentTimeThrottled(200),a=s.useCurrentTimeThrottled(1e3,d),i=s.useIsLiveRewindActive(),l=i?a:n-t,c;return e[0]!==l?(c=u.jsx(r("VideoPlayerPlaybackTimerBase.react"),{currentTime:l,duration:null}),e[0]=l,e[1]=c):c=e[1],c}function p(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useDuration(),n=s.useCurrentTimeThrottled(200),a;return e[0]!==n||e[1]!==t?(a=u.jsx(r("VideoPlayerPlaybackTimerBase.react"),{currentTime:n,duration:t}),e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function _(){var e=o("react-compiler-runtime").c(2),t=(s||(s=o("VideoPlayerHooks"))).useIsLive();if(t){var n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(m,{}),e[0]=n):n=e[0],n}else{var r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(p,{}),e[1]=r):r=e[1],r}}var f=c;l.default=f}),98);
__d("VideoPlayerPointerDrag",["react","react-compiler-runtime","useResizeObserver","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(){var e=o("react-compiler-runtime").c(5),t=c(null),n=c(null),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=function(r,o){t.current=o.getBoundingClientRect(),n.current=o},e[0]=a):a=e[0];var i=r("useResizeObserver")(a),l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(){return function(){var e=n.current;e?t.current=e.getBoundingClientRect():t.current=null}},e[1]=l):l=e[1];var s=r("useStable")(l),u;return e[2]!==s||e[3]!==i?(u={invalidateRootRect:s,rootRectRef:t,rootSizeRefCallback:i},e[2]=s,e[3]=i,e[4]=u):u=e[4],u}function p(e,t){if(t==null)return null;var n=Math.max(0,Math.min(t.width,e.clientX-t.left)),r=Math.max(0,Math.min(t.height,e.clientY-t.top));return{ratioX:t.width>0?n/t.width:0,ratioY:t.height>0?r/t.height:0}}function _(e,t){var n=e.changedTouches;if(t==null||!n)return null;for(var r=0;r<n.length;++r){var o=n[r];if(o.identifier===t)return{clientX:o.clientX,clientY:o.clientY}}return null}function f(e,t){var n=e;switch(t.type){case"start":n=babelHelpers.extends({},e,{clientX:t.clientX,clientY:t.clientY,dragState:"dragging",lastEffect:e.dragState==="idle"?"start":e.lastEffect});break;case"move":if(e.dragState!=="dragging")break;n={clientX:t.clientX,clientY:t.clientY,dragState:"dragging",lastEffect:"move"};break;case"end":if(e.dragState!=="dragging")break;n={clientX:t.clientX,clientY:t.clientY,dragState:"idle",lastEffect:"end"};break;case"cancel":if(e.dragState!=="dragging")break;n={clientX:e.clientX,clientY:e.clientY,dragState:"idle",lastEffect:"cancel"};break;default:break}return n.dragState!==e.dragState||n.lastEffect!==e.lastEffect||n.clientX!==e.clientX||n.clientY!==e.clientY?n:e}var g={clientX:0,clientY:0,dragState:"idle",lastEffect:null},h=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function y(e,t,n){var r=g,o=null,a=null,i=function(n){r=f(r,n),e(r)},l=function(n){i({clientX:n.clientX,clientY:n.clientY,type:"move"});var e=t.current.onDragMoveSync;e==null||e(r)},s=function(n){o&&o(),i({clientX:n.clientX,clientY:n.clientY,type:"end"});var e=t.current.onDragEndSync;e==null||e(r)},u=function(){o&&o(),i({type:"cancel"});var e=t.current.onDragCancelSync;e==null||e(r)},c=function(o){var e=_(o,n.current);if(e!=null){i({clientX:e.clientX,clientY:e.clientY,type:"move"});var a=t.current.onDragMoveSync;a==null||a(r)}},d=function(o){var e=_(o,n.current);if(e!=null){a&&a(),i({clientX:e.clientX,clientY:e.clientY,type:"end"});var l=t.current.onDragEndSync;l==null||l(r)}},m=d;return{destroy:function(){o&&o(),a&&a()},onMouseDown:function(n){h()||n.preventDefault(),i({clientX:n.clientX,clientY:n.clientY,type:"start"});var e=t.current.onDragStartSync;e==null||e(r),o||(window.addEventListener("mousemove",l),window.addEventListener("mouseup",s),window.addEventListener("blur",u),window.addEventListener("mouseleave",u),o=function(){o=null,window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",s),window.removeEventListener("blur",u),window.removeEventListener("mouseleave",u)})},onTouchStart:function(o){o.preventDefault();var e=o.changedTouches[0];e!=null&&(n.current=e.identifier);var l=_(o,n.current);if(l!=null){i({clientX:l.clientX,clientY:l.clientY,type:"start"});var s=t.current.onDragStartSync;s==null||s(r),a||(window.addEventListener("touchmove",c),window.addEventListener("touchend",d),window.addEventListener("touchcancel",m),window.addEventListener("blur",u),a=function(){a=null,window.removeEventListener("touchmove",c),window.removeEventListener("touchend",d),window.removeEventListener("touchcancel",m),window.removeEventListener("blur",u)})}}}}function C(e,t){var n=o("react-compiler-runtime").c(4),r,a;n[0]!==t||n[1]!==e?(r=function(){var n=t.current,r=n.onDragCancel,o=n.onDragEnd,a=n.onDragMove,i=n.onDragStart;switch(e.lastEffect){case"start":{i(e);return}case"move":{a(e);return}case"end":{o(e);return}case"cancel":{r(e);return}}},a=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=a):(r=n[2],a=n[3]),u(r,a)}function b(e,t,n){var a=o("react-compiler-runtime").c(13),i=d(g),l=i[0],s=i[1],c;a[0]!==e||a[1]!==t?(c=function(){return y(s,e,t)},a[0]=e,a[1]=t,a[2]=c):c=a[2];var m=r("useStable")(c),p=m.destroy,_=m.onMouseDown,f=m.onTouchStart,h,C;a[3]!==p?(h=function(){return p},C=[p],a[3]=p,a[4]=h,a[5]=C):(h=a[4],C=a[5]),u(h,C);var b;a[6]!==_||a[7]!==f||a[8]!==(n==null?void 0:n.hasTouchEvents)?(b={onClick:function(t){t.stopPropagation(),t.preventDefault()},onMouseDown:_,onTouchStart:(n==null?void 0:n.hasTouchEvents)===!0?f:void 0},a[6]=_,a[7]=f,a[8]=n==null?void 0:n.hasTouchEvents,a[9]=b):b=a[9];var v;return a[10]!==l||a[11]!==b?(v={dragState:l,rootProps:b},a[10]=l,a[11]=b,a[12]=v):v=a[12],v}function v(e,t){var n=o("react-compiler-runtime").c(7),r=c(e),a=c(null),i,l;n[0]!==e?(i=function(){r.current=e},l=[e],n[0]=e,n[1]=i,n[2]=l):(i=n[1],l=n[2]),u(i,l);var s=b(r,a,t),d=s.dragState,m=s.rootProps;C(d,r);var p=d.dragState==="dragging",_;return n[3]!==d||n[4]!==m||n[5]!==p?(_={dragState:d,isDragging:p,rootProps:m},n[3]=d,n[4]=m,n[5]=p,n[6]=_):_=n[6],_}l.usePointerDragResizeObserver=m,l.computePointerOffsetRatio=p,l.usePointerDrag=v}),98);
__d("VideoPlayerSliderNub.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.isVisible,r;t[0]!==n?(r={0:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya x1s85apg xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm"},1:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm x1lliihq"}}[!!n<<0],t[0]=n,t[1]=r):r=t[1];var a;return t[2]!==r?(a=s.jsx("div",babelHelpers.extends({},r,{"data-testid":void 0})),t[2]=r,t[3]=a):a=t[3],a}l.default=u}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(30),a=t.bufferedRatio,i=t.isLive,l=t.isLiveRewindActive,s=t.isNubVisible,d=t.playedRatio,m=t.timelineBackgroundXStyle,p=t.timelineBufferedXStyle,_=t.timelinePlayedXStyle,f;n[0]!==m?(f=(e||(e=r("stylex"))).props(c.timelineBackground,m),n[0]=m,n[1]=f):f=n[1];var g;n[2]!==i||n[3]!==p?(g=(e||(e=r("stylex")))(c.timelineBuffered,!i&&c.timelineBufferedBackground,p),n[2]=i,n[3]=p,n[4]=g):g=n[4];var h=100*a,y;n[5]!==h?(y=h.toFixed(5),n[5]=h,n[6]=y):y=n[6];var C=y+"%",b;n[7]!==C?(b={width:C},n[7]=C,n[8]=b):b=n[8];var v;n[9]!==g||n[10]!==b?(v=u.jsx("div",babelHelpers.extends({className:g},r("CometVisualCompletionAttributes").IGNORE,{style:b})),n[9]=g,n[10]=b,n[11]=v):v=n[11];var S;n[12]!==i||n[13]!==l||n[14]!==_?(S=(e||(e=r("stylex")))(c.timelinePlayed,i&&!l&&c.liveTimePlayed,i&&l&&c.liveRewindTimePlayed,_),n[12]=i,n[13]=l,n[14]=_,n[15]=S):S=n[15];var R=100*d,L;n[16]!==R?(L=R.toFixed(5),n[16]=R,n[17]=L):L=n[17];var E=L+"%",k;n[18]!==E?(k={width:E},n[18]=E,n[19]=k):k=n[19];var I;n[20]!==s?(I=u.jsx(r("VideoPlayerSliderNub.react"),{isVisible:s}),n[20]=s,n[21]=I):I=n[21];var T;n[22]!==k||n[23]!==I||n[24]!==S?(T=u.jsx("div",babelHelpers.extends({className:S},r("CometVisualCompletionAttributes").IGNORE,{style:k,children:I})),n[22]=k,n[23]=I,n[24]=S,n[25]=T):T=n[25];var D;return n[26]!==f||n[27]!==T||n[28]!==v?(D=u.jsxs("div",babelHelpers.extends({},f,{children:[v,T]})),n[26]=f,n[27]=T,n[28]=v,n[29]=D):D=n[29],D}l.default=d}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){return Math.min(e>0?t/e:0,1)}function m(e){var t=o("react-compiler-runtime").c(41),n=e.bufferEnd,a=e.currentTime,i=e.duration,l=e.onScrubCancel,s=e.onScrubEnd,m=e.onScrubStart,p=e.supportsTouch,_=o("VideoPlayerPointerDrag").usePointerDragResizeObserver(),f=_.invalidateRootRect,g=_.rootRectRef,h=_.rootSizeRefCallback,y=c(0),C=y[0],b=y[1],v=c(!1),S=v[0],R=v[1],L=r("usePrevious")(a),E,k;t[0]!==a||t[1]!==L?(E=function(){a!==L&&R(!1)},k=[a,L],t[0]=a,t[1]=L,t[2]=E,t[3]=k):(E=t[2],k=t[3]),u(E,k);var I;t[4]!==l?(I=function(t){l()},t[4]=l,t[5]=I):I=t[5];var T;t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==g?(T=function(t){var e=o("VideoPlayerPointerDrag").computePointerOffsetRatio(t,g.current);if(!e){l();return}b(e.ratioX);var n=e.ratioX*i;s(n)},t[6]=i,t[7]=l,t[8]=s,t[9]=g,t[10]=T):T=t[10];var D;t[11]===Symbol.for("react.memo_cache_sentinel")?(D=function(){R(!0)},t[11]=D):D=t[11];var x;t[12]!==g?(x=function(t){var e=o("VideoPlayerPointerDrag").computePointerOffsetRatio(t,g.current);e&&b(e.ratioX)},t[12]=g,t[13]=x):x=t[13];var $;t[14]!==f||t[15]!==m||t[16]!==g?($=function(t){f();var e=o("VideoPlayerPointerDrag").computePointerOffsetRatio(t,g.current);e&&(b(e.ratioX),m())},t[14]=f,t[15]=m,t[16]=g,t[17]=$):$=t[17];var P;t[18]!==I||t[19]!==T||t[20]!==x||t[21]!==$?(P={onDragCancel:I,onDragEnd:T,onDragEndSync:D,onDragMove:x,onDragStart:$},t[18]=I,t[19]=T,t[20]=x,t[21]=$,t[22]=P):P=t[22];var N=p===!0,M;t[23]!==N?(M={hasTouchEvents:N},t[23]=N,t[24]=M):M=t[24];var w=o("VideoPlayerPointerDrag").usePointerDrag(P,M),A=w.isDragging,F=w.rootProps,O;t[25]!==n||t[26]!==i?(O=d(i,n),t[25]=n,t[26]=i,t[27]=O):O=t[27];var B=O,W;t[28]!==a||t[29]!==i?(W=d(i,a),t[28]=a,t[29]=i,t[30]=W):W=t[30];var q=W,U;return t[31]!==B||t[32]!==q||t[33]!==f||t[34]!==A||t[35]!==S||t[36]!==C||t[37]!==F||t[38]!==g||t[39]!==h?(U={bufferedRatio:B,currentPlayedRatio:q,invalidateRootRect:f,isDragging:A,isWaitingForSeek:S,pointerOffsetRatio:C,rootProps:F,rootRectRef:g,rootSizeRefCallback:h},t[31]=B,t[32]=q,t[33]=f,t[34]=A,t[35]=S,t[36]=C,t[37]=F,t[38]=g,t[39]=h,t[40]=U):U=t[40],U}l.default=m}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","react","react-compiler-runtime","useVideoPlayerScrubberState"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=c.useState;function _(e){var t=o("react-compiler-runtime").c(86),n=e.bufferEnd,a=e.currentTime,i=e.disableKeyCommands,l=e.duration,c=e.hideNub,d=e.isLive,m=e.isLiveRewindActive,_=e.keyLeftDescription,f=e.keyRightDescription,g=e.onScrubCancel,h=e.onScrubEnd,y=e.onScrubStart,C=e.onUserInteraction,b=e.playFromBeginningImpl,v=e.renderScrubber,S=e.renderTooltip,R=e.skipBackwardImpl,L=e.skipForwardImpl,E=e.skipToEndImpl,k=e.supportsTouch,I=e.timelineBackgroundXStyle,T=e.timelineBufferedXStyle,D=e.timelinePlayedXStyle,x=e.withoutVerticalPadding,$=c===void 0?!1:c,P=x===void 0?!1:x,N=p(!1),M=N[0],w=N[1],A=p(0),F=A[0],O=A[1],B=p(null),W=B[0],q=B[1],U;t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==g||t[4]!==h||t[5]!==y||t[6]!==k?(U={bufferEnd:n,currentTime:a,duration:l,onScrubCancel:g,onScrubEnd:h,onScrubStart:y,supportsTouch:k},t[0]=n,t[1]=a,t[2]=l,t[3]=g,t[4]=h,t[5]=y,t[6]=k,t[7]=U):U=t[7];var V=r("useVideoPlayerScrubberState")(U),H=V.bufferedRatio,G=V.currentPlayedRatio,z=V.invalidateRootRect,j=V.isDragging,K=V.isWaitingForSeek,Q=V.pointerOffsetRatio,X=V.rootProps,Y=V.rootRectRef,J=V.rootSizeRefCallback,Z;t[8]===Symbol.for("react.memo_cache_sentinel")?(Z=function(){w(!0)},t[8]=Z):Z=t[8];var ee=Z,te;t[9]===Symbol.for("react.memo_cache_sentinel")?(te=function(){w(!1)},t[9]=te):te=t[9];var ne=te,re;t[10]!==l||t[11]!==z||t[12]!==Y?(re=function(t){if(z(),Y.current!=null){var e=Y.current.left,n=Y.current.width,r=Math.max(0,Math.min(n,t.clientX-e)),o=n>0?r/n:0,a=Number.isFinite(l)&&l>0?l*o:null;O(t.clientX-e),q(a)}},t[10]=l,t[11]=z,t[12]=Y,t[13]=re):re=t[13];var oe=re,ae=M||j;o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",ae,C);var ie=M||j||K,le=j||K?Q:d&&!m?1:G,se;t[14]!==i||t[15]!==_||t[16]!==f||t[17]!==b||t[18]!==R||t[19]!==L||t[20]!==E?(se=i===!0?[]:[{command:{key:r("CometKeys").RIGHT},description:f,handler:L},{command:{key:r("CometKeys").LEFT},description:_,handler:R},{command:{key:r("CometKeys").HOME},description:s._(/*BTDS*/"Play from beginning"),handler:b},{command:{key:r("CometKeys").END},description:s._(/*BTDS*/"Skip to end"),handler:E}],t[14]=i,t[15]=_,t[16]=f,t[17]=b,t[18]=R,t[19]=L,t[20]=E,t[21]=se):se=t[21];var ue=se,ce=!$&&ie,de,me,pe,_e,fe,ge,he,ye,Ce,be,ve,Se,Re,Le,Ee,ke,Ie;if(t[22]!==H||t[23]!==ue||t[24]!==a||t[25]!==l||t[26]!==M||t[27]!==d||t[28]!==m||t[29]!==oe||t[30]!==le||t[31]!==v||t[32]!==X||t[33]!==J||t[34]!==ce||t[35]!==I||t[36]!==T||t[37]!==D||t[38]!==W||t[39]!==P){var Te={bufferedRatio:H,duration:l,hoveringPositionSec:W,isHovering:M,isLive:d,isLiveRewindActive:m,isNubVisible:ce,playedRatio:le,timelineBackgroundXStyle:I,timelineBufferedXStyle:T,timelinePlayedXStyle:D};de=r("CometComponentWithKeyCommands.react"),ke=ue,Ie=X,t[57]===Symbol.for("react.memo_cache_sentinel")?(me=s._(/*BTDS*/"Change Position"),t[57]=me):me=t[57],pe="horizontal",_e=l,fe=0,ge=a,t[58]!==P?(he={0:"x1ypdohk x1y1aw1k xyri2b xwib8y2 x1c1uobl x1n2onr6 x87ps6o xh8yej3",1:"x1ypdohk xyri2b x1c1uobl x1n2onr6 x87ps6o xh8yej3 x18d9i69 xexx8yu"}[!!P<<0],t[58]=P,t[59]=he):he=t[59],ye="video_player_scrubber",Ce=ee,be=ne,ve=oe,Se=J,Re="slider",Le=0,Ee=v!=null?v(Te):u.jsx(r("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers.extends({},Te)),t[22]=H,t[23]=ue,t[24]=a,t[25]=l,t[26]=M,t[27]=d,t[28]=m,t[29]=oe,t[30]=le,t[31]=v,t[32]=X,t[33]=J,t[34]=ce,t[35]=I,t[36]=T,t[37]=D,t[38]=W,t[39]=P,t[40]=de,t[41]=me,t[42]=pe,t[43]=_e,t[44]=fe,t[45]=ge,t[46]=he,t[47]=ye,t[48]=Ce,t[49]=be,t[50]=ve,t[51]=Se,t[52]=Re,t[53]=Le,t[54]=Ee,t[55]=ke,t[56]=Ie}else de=t[40],me=t[41],pe=t[42],_e=t[43],fe=t[44],ge=t[45],he=t[46],ye=t[47],Ce=t[48],be=t[49],ve=t[50],Se=t[51],Re=t[52],Le=t[53],Ee=t[54],ke=t[55],Ie=t[56];var De;t[60]!==M||t[61]!==S||t[62]!==F||t[63]!==W?(De=S!=null&&W!=null&&M&&u.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:F},children:S(W)}),t[60]=M,t[61]=S,t[62]=F,t[63]=W,t[64]=De):De=t[64];var xe;t[65]!==me||t[66]!==pe||t[67]!==_e||t[68]!==fe||t[69]!==ge||t[70]!==he||t[71]!==ye||t[72]!==Ce||t[73]!==be||t[74]!==ve||t[75]!==Se||t[76]!==Re||t[77]!==Le||t[78]!==Ee||t[79]!==De||t[80]!==Ie?(xe=u.jsxs("div",babelHelpers.extends({},Ie,{"aria-label":me,"aria-orientation":pe,"aria-valuemax":_e,"aria-valuemin":fe,"aria-valuenow":ge,className:he,"data-testid":void 0,onMouseEnter:Ce,onMouseLeave:be,onMouseMove:ve,ref:Se,role:Re,tabIndex:Le,children:[Ee,De]})),t[65]=me,t[66]=pe,t[67]=_e,t[68]=fe,t[69]=ge,t[70]=he,t[71]=ye,t[72]=Ce,t[73]=be,t[74]=ve,t[75]=Se,t[76]=Re,t[77]=Le,t[78]=Ee,t[79]=De,t[80]=Ie,t[81]=xe):xe=t[81];var $e;return t[82]!==de||t[83]!==ke||t[84]!==xe?($e=u.jsx(de,{commandConfigs:ke,children:xe}),t[82]=de,t[83]=ke,t[84]=xe,t[85]=$e):$e=t[85],$e}l.default=_}),226);
__d("VideoPlayerScrubber.react",["fbt","VideoPlayerHooks","VideoPlayerScrubberBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e.useCallback;function m(){return(u||(u=o("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function p(e){var t=o("react-compiler-runtime").c(48),n=e.onUserInteraction,a=e.renderScrubber,i=e.renderTooltip,l=m(),d=(u||(u=o("VideoPlayerHooks"))).useDuration(),p=u.useController(),_=u.useBufferEnd(),f=u.useIsLive(),g=u.useIsLiveRewindActive(),h=o("useLiveRewindUtils").useLiveRewindScrub(),y=o("useLiveRewindUtils").useLiveRewindForward(),C=o("useLiveRewindUtils").useLiveRewindBack(),b=o("useLiveRewindUtils").useLiveRewindStart(),v=o("useLiveRewindUtils").useLiveRewindLive(),S=o("useLiveRewindUtils").useLiveRewindSeekableStartTime();f&&(d=d-S,l=l-S);var R;t[0]!==p||t[1]!==d||t[2]!==f||t[3]!==y?(R=function(){if(f)y();else{var e=p.getPlayheadPosition()+5;e>=d?p.seek(d-.01):p.seek(e)}},t[0]=p,t[1]=d,t[2]=f,t[3]=y,t[4]=R):R=t[4];var L=R,E;t[5]!==f?(E=f?s._(/*BTDS*/"Fast forward 10 seconds"):s._(/*BTDS*/"Fast forward 5 seconds"),t[5]=f,t[6]=E):E=t[6];var k=E,I;t[7]!==p||t[8]!==f||t[9]!==C?(I=function(){if(f)C();else{var e=p.getPlayheadPosition()-5;e<0?p.seek(0):p.seek(e)}},t[7]=p,t[8]=f,t[9]=C,t[10]=I):I=t[10];var T=I,D;t[11]!==f?(D=f?s._(/*BTDS*/"Rewind 10 seconds"):s._(/*BTDS*/"Rewind 5 seconds"),t[11]=f,t[12]=D):D=t[12];var x=D,$;t[13]!==p||t[14]!==f||t[15]!==b?($=function(){f?b():p.seek(0)},t[13]=p,t[14]=f,t[15]=b,t[16]=$):$=t[16];var P=$,N;t[17]!==p||t[18]!==d||t[19]!==f||t[20]!==v?(N=function(){f?v():p.seek(d-.01)},t[17]=p,t[18]=d,t[19]=f,t[20]=v,t[21]=N):N=t[21];var M=N,w;t[22]!==p?(w=function(){p.scrubEnd(null)},t[22]=p,t[23]=w):w=t[23];var A=w,F;t[24]!==p?(F=function(){p.scrubBegin()},t[24]=p,t[25]=F):F=t[25];var O=F,B;t[26]!==p||t[27]!==f||t[28]!==h?(B=function(t){f?h(t):p.scrubEnd(t)},t[26]=p,t[27]=f,t[28]=h,t[29]=B):B=t[29];var W=B,q;return t[30]!==_||t[31]!==l||t[32]!==d||t[33]!==f||t[34]!==g||t[35]!==M||t[36]!==x||t[37]!==k||t[38]!==n||t[39]!==P||t[40]!==a||t[41]!==i||t[42]!==A||t[43]!==W||t[44]!==O||t[45]!==T||t[46]!==L?(q=c.jsx(r("VideoPlayerScrubberBase.react"),{bufferEnd:_,currentTime:l,duration:d,isLive:f,isLiveRewindActive:g,keyLeftDescription:x,keyRightDescription:k,onScrubCancel:A,onScrubEnd:W,onScrubStart:O,onUserInteraction:n,playFromBeginningImpl:P,renderScrubber:a,renderTooltip:i,skipBackwardImpl:T,skipForwardImpl:L,skipToEndImpl:M}),t[30]=_,t[31]=l,t[32]=d,t[33]=f,t[34]=g,t[35]=M,t[36]=x,t[37]=k,t[38]=n,t[39]=P,t[40]=a,t[41]=i,t[42]=A,t[43]=W,t[44]=O,t[45]=T,t[46]=L,t[47]=q):q=t[47],q}l.default=p}),226);
__d("VideoPlayerScrubberBaseContentSegmented_renderer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberBaseContentSegmented_renderer",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoVideoChaptersConnection",kind:"LinkedField",name:"video_chapters",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoChapter",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerScrubberBaseContentSegmented.react",["CometRelay","CometVisualCompletionAttributes","VideoPlayerScrubberBaseContentSegmented_renderer.graphql","VideoPlayerSliderNub.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=2,m={hoveredChapter:{height:"x1hagigm",marginTop:"xwt3t8n",$$css:!0},liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",boxShadow:"xpdb0fs",height:"xuoj239",marginTop:"xzx6vk8",position:"x10l6tqk",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",height:"x5yr21d",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",height:"x5yr21d",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function p(t){var a,i=o("react-compiler-runtime").c(33),l=t.renderer,u=t.videoChapters,p=t.bufferedRatio,f=t.duration,g=t.hoveringPositionSec,h=t.isHovering,y=t.isLive,C=t.isLiveRewindActive,b=t.isNubVisible,v=t.playedRatio,S=t.timelineBackgroundXStyle,R=t.timelineBufferedXStyle,L=t.timelinePlayedXStyle,E=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerScrubberBaseContentSegmented_renderer.graphql"),l),k;if(i[0]!==(E==null||(a=E.video)==null||(a=a.video_chapters)==null?void 0:a.nodes)||i[1]!==u){var I,T,D,x;k=(I=(T=E==null||(D=E.video)==null||(D=D.video_chapters)==null?void 0:D.nodes)!=null?T:u)!=null?I:[],i[0]=E==null||(x=E.video)==null||(x=x.video_chapters)==null?void 0:x.nodes,i[1]=u,i[2]=k}else k=i[2];var $=k,P;if(i[3]!==p||i[4]!==$||i[5]!==f||i[6]!==g||i[7]!==h||i[8]!==y||i[9]!==C||i[10]!==b||i[11]!==v||i[12]!==S||i[13]!==R||i[14]!==L||i[15]!==u){var N;i[17]!==f?(N=function(t){var e=t.start_time;return{left:(e!=null?e:0)/(f*1e3),right:-1}},i[17]=f,i[18]=N):N=i[18];var M=$.map(N).sort(_);M[0].left!==0&&M.unshift({left:0,right:-1});for(var w=0;w<M.length-1;w++)M[w].right=M[w+1].left;M[M.length-1].right=1;var A=g!=null?g/f:-1,F;i[19]!==p||i[20]!==A||i[21]!==h||i[22]!==y||i[23]!==C||i[24]!==b||i[25]!==v||i[26]!==S||i[27]!==R||i[28]!==L||i[29]!==u?(F=function(t){var e=t.right-t.left,n=h&&t.left<A&&A<t.right;return c.jsxs("div",{className:(s||(s=r("stylex")))(m.timelineBackground,S,n&&m.hoveredChapter),style:{left:(100*t.left).toFixed(5)+"%",width:"calc("+(100*e).toFixed(5)+"% - "+d+"px)"},children:[p>t.left&&c.jsx("div",babelHelpers.extends({className:(s||(s=r("stylex")))(m.timelineBuffered,!y&&m.timelineBufferedBackground,R)},r("CometVisualCompletionAttributes").IGNORE,{style:{width:p>t.right?"100%":(100*(p-t.left)/e).toFixed(5)+"%"}})),(v>t.left||t.left===0)&&c.jsx("div",babelHelpers.extends({className:(s||(s=r("stylex")))(m.timelinePlayed,y&&!C&&m.liveTimePlayed,y&&C&&m.liveRewindTimePlayed,L)},r("CometVisualCompletionAttributes").IGNORE,{style:{width:v>t.right?"100%":(100*(v-t.left)/e).toFixed(5)+"%"},children:v<=t.right&&c.jsx("div",babelHelpers.extends({},{0:{},1:{className:"xr9ek0c"}}[!!n<<0],{children:c.jsx(r("VideoPlayerSliderNub.react"),{isVisible:b})}))}))]},u!=null?t.left.toString()+t.right.toString():t.left)},i[19]=p,i[20]=A,i[21]=h,i[22]=y,i[23]=C,i[24]=b,i[25]=v,i[26]=S,i[27]=R,i[28]=L,i[29]=u,i[30]=F):F=i[30],P=M.map(F),i[3]=p,i[4]=$,i[5]=f,i[6]=g,i[7]=h,i[8]=y,i[9]=C,i[10]=b,i[11]=v,i[12]=S,i[13]=R,i[14]=L,i[15]=u,i[16]=P}else P=i[16];var O;return i[31]!==P?(O=c.jsx(c.Fragment,{children:P}),i[31]=P,i[32]=O):O=i[32],O}function _(e,t){return e.left-t.left}l.default=p}),98);
__d("VideoPlayerScrubberChapterPreview_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberChapterPreview_video",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoVideoChaptersConnection",kind:"LinkedField",name:"video_chapters",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoChapter",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},action:"LOG",path:"video.video_chapters.nodes.headline"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},action:"LOG",path:"video.video_chapters.nodes.start_time"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerScrubberChapterPreview.react",["CometRelay","DateConsts","FDSText.react","VideoPlayerScrubberChapterPreview_video.graphql","formatDurationSeconds","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(e,t){if(e[0].start_time!==0&&t*o("DateConsts").MS_PER_SEC<e[0].start_time)return"";for(var n=1;n<e.length;n++)if(t*o("DateConsts").MS_PER_SEC<e[n].start_time)return e[n-1].headline;return e[e.length-1].headline}function d(t){var a,i,l=o("react-compiler-runtime").c(18),s=t.timestampSec,d=t.video,m=t.videoChapters,p=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerScrubberChapterPreview_video.graphql"),d);if((p==null||(a=p.video)==null||(a=a.video_chapters)==null?void 0:a.nodes)==null&&m==null)return null;var _;if(l[0]!==m||l[1]!==(p==null||(i=p.video)==null||(i=i.video_chapters)==null?void 0:i.nodes)){var f,g,h,y;_=(f=(g=p==null||(h=p.video)==null||(h=h.video_chapters)==null?void 0:h.nodes.filter(Boolean))!=null?g:m)!=null?f:[],l[0]=m,l[1]=p==null||(y=p.video)==null||(y=y.video_chapters)==null?void 0:y.nodes,l[2]=_}else _=l[2];var C=_,b;l[3]!==C||l[4]!==s?(b=c(C,s),l[3]=C,l[4]=s,l[5]=b):b=l[5];var v=b,S,R;l[6]===Symbol.for("react.memo_cache_sentinel")?(S={className:"xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x1n2onr6 xdzyupr"},R={className:"xjwep3j x1t39747 x1wcsgtt x1pczhz8 x10l6tqk x2b8uid xijtgcl xuuh30 xh8yej3 xjnlgov"},l[6]=S,l[7]=R):(S=l[6],R=l[7]);var L;l[8]!==v?(L=u.jsx("div",babelHelpers.extends({},R,{children:u.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body3",children:v})})),l[8]=v,l[9]=L):L=l[9];var E;l[10]===Symbol.for("react.memo_cache_sentinel")?(E={className:"xjwep3j x1t39747 x1wcsgtt x1pczhz8 x10l6tqk x2b8uid xijtgcl xuuh30 xh8yej3 x1ey2m1c"},l[10]=E):E=l[10];var k;l[11]!==s?(k=r("formatDurationSeconds")(Math.round(s)),l[11]=s,l[12]=k):k=l[12];var I;l[13]!==k?(I=u.jsx("div",babelHelpers.extends({},E,{children:u.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:k})})),l[13]=k,l[14]=I):I=l[14];var T;return l[15]!==L||l[16]!==I?(T=u.jsxs("div",babelHelpers.extends({},S,{children:[L,I]})),l[15]=L,l[16]=I,l[17]=T):T=l[17],T}l.default=d}),98);
__d("VideoPlayerScrubberPreview_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberPreview_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_preview_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberChapterPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberDefaultPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerScrubberPreview.react",["CometRelay","VideoPlayerScrubberChapterPreview.react","VideoPlayerScrubberPreview_video.graphql","VideoPlayerTimeIndicator.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(11),i=t.timestampSec,l=t.video,s=t.videoChapters,c=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerScrubberPreview_video.graphql"),l);if(c==null){if(s!=null){var d;return a[0]!==i||a[1]!==s?(d=u.jsx(r("VideoPlayerScrubberChapterPreview.react"),{timestampSec:i,video:null,videoChapters:s}),a[0]=i,a[1]=s,a[2]=d):d=a[2],d}var m;return a[3]!==i?(m=u.jsx(r("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:i}),a[3]=i,a[4]=m):m=a[4],m}var p=c==null?void 0:c.video_player_scrubber_preview_renderer,_;a[5]!==i||a[6]!==c?(_={timestampSec:i,video:c},a[5]=i,a[6]=c,a[7]=_):_=a[7];var f;return a[8]!==p||a[9]!==_?(f=u.jsx(o("CometRelay").MatchContainer,{match:p,props:_}),a[8]=p,a[9]=_,a[10]=f):f=a[10],f}l.default=c}),98);
__d("VideoPlayerScrubberRenderer_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberRenderer_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberRenderer_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerScrubberRenderer.react",["CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberBaseContentSegmented.react","VideoPlayerScrubberRenderer_video.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(11),i=t.scrubberProps,l=t.video,s=t.videoChapters,c=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerScrubberRenderer_video.graphql"),l);if((c==null?void 0:c.video_player_scrubber_base_content_renderer)==null){if(s!=null){var d;return a[0]!==i||a[1]!==s?(d=u.jsx(r("VideoPlayerScrubberBaseContentSegmented.react"),babelHelpers.extends({},i,{videoChapters:s})),a[0]=i,a[1]=s,a[2]=d):d=a[2],d}var m;return a[3]!==i?(m=u.jsx(r("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers.extends({},i)),a[3]=i,a[4]=m):m=a[4],m}var p=c==null?void 0:c.video_player_scrubber_base_content_renderer,_;a[5]!==i||a[6]!==s?(_=babelHelpers.extends({},i,{videoChapters:s}),a[5]=i,a[6]=s,a[7]=_):_=a[7];var f;return a[8]!==p||a[9]!==_?(f=u.jsx(o("CometRelay").MatchContainer,{match:p,props:_}),a[8]=p,a[9]=_,a[10]=f):f=a[10],f}l.default=c}),98);
__d("useVideoPlayerClickToPauseInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(){var e=o("react-compiler-runtime").c(5),t=(u||(u=o("VideoPlayerHooks"))).usePlaying(),n=u.useController(),r=u.useIsLive(),a;e[0]!==n?(a=function(){n.pause("user_initiated")},e[0]=n,e[1]=a):a=e[1];var i=a,l=t&&!r,c;return e[2]!==l||e[3]!==i?(c=l?{ariaLabel:s._(/*BTDS*/"Pause reel"),handler:i,overlayLabel:""}:null,e[2]=l,e[3]=i,e[4]=c):c=e[4],c}l.default=d}),226);
__d("useVideoPlayerClickToPlayInteraction",["fbt","VideoPlayerHooks","react","react-compiler-runtime","useFeedClickEventHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e){var t=o("react-compiler-runtime").c(9),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.shouldUnmute,l=(u||(u=o("VideoPlayerHooks"))).usePaused(),c=u.useController(),d=u.useLastMuteReason(),m;t[2]!==c||t[3]!==d||t[4]!==i?(m=function(){c.play("user_initiated"),i===!0&&d!=="user_initiated"&&c.setMuted(!1,"product_initiated")},t[2]=c,t[3]=d,t[4]=i,t[5]=m):m=t[5];var p=m,_=r("useFeedClickEventHandler")(p),f=l,g;return t[6]!==f||t[7]!==_?(g=f?{ariaLabel:s._(/*BTDS*/"Play reel"),handler:_,overlayLabel:""}:null,t[6]=f,t[7]=_,t[8]=g):g=t[8],g}l.default=d}),226);
__d("useVideoPlayerVolumeControlAudioAvailabilityUI",["fbt","CometTooltipImpl.react","VideoPlayerControlsHiddenContext","clearTimeout","emptyFunction","react","setTimeout","useAudioAvailabilityAtPlayhead","usePrevious","useStable"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useContext,m=c.useEffect,p=c.useRef,_=c.useState,f=3e3;function g(e){var t=e.canPlayerProduceSound,n=e.isHovering,o=r("useAudioAvailabilityAtPlayhead")(),a=o.isSilentAtPlayhead,l=o.volumeControlState,c=null;switch(l){case"VOLUME_SILENT":c=s._(/*BTDS*/"Video has no sound");break;case"VOLUME_COPYRIGHT_FULL":c=s._(/*BTDS*/"Muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_SILENCED":c=s._(/*BTDS*/"Partially muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED":break;case"VOLUME_DEFAULT":break;default:}var g=r("usePrevious")(a),h=_(!1),y=h[0],C=h[1],b=p(r("emptyFunction")),v=p(!1),S=_(!1),R=S[0],L=S[1],E=r("useStable")(function(){return function(e){v.current=e,L(e),b.current(e),e||C(!1)}}),k=d(r("VideoPlayerControlsHiddenContext"));m(function(){k||c==null?E(!1):(n||y||a!==g&&a&&t)&&E(!0)},[c,t,k,n,y,a,g,E]),m(function(){if(R){var e=r("setTimeout")(function(){E(!1)},f);return function(){r("clearTimeout")(e)}}},[R,E]);var I=r("useStable")(function(){return function(){C(function(e){return!e})}}),T=r("useStable")(function(){function e(e){var t=_(!1),n=t[0],o=t[1];return m(function(){return b.current=o,function(){b.current=r("emptyFunction")}},[o]),m(function(){e.isVisible||E(!1)},[e.isVisible]),u.jsx(r("CometTooltipImpl.react"),babelHelpers.extends({},e,{isVisible:n}))}return e.displayName=e.name+" [from "+i.id+"]",e}),D=l==="VOLUME_COPYRIGHT_FULL"||l==="VOLUME_SILENT",x=t?a:D;return c==null?null:{onVolumeControlPress:I,shouldDisableVolumeControl:D,shouldShowNullIcon:x,tooltipContent:c,tooltipImpl:T,volumeControlState:l}}l.default=g}),226);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var _EmscriptenEH3=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var _EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(_EmscriptenEH3);var _CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(_EmscriptenEH3);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new _CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]),l=(function(e){function t(t,n){var r;return r=e.call(this,n==null?void 0:n.message)||this,r.name="BackupError",r.errorType=t,r.detailedError=n,r.message=t+((n==null?void 0:n.message)!=null?": "+(n==null?void 0:n.message):""),r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.BackupErrorType=e,i.BackupError=l}),66);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("tweetnacl-util").encodeBase64(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(e){var t=e.replace(/-/g,"+").replace(/_/g,"/"),n=e.length%4;if(n>0){if(n===1)throw new Error("Invalid length, couldn't decode input string");t=t.padEnd(t.length+(4-n),"=")}return r("tweetnacl-util").decodeBase64(t)}l.encodeBase64Url=e,l.decodeBase64Url=s}),98);
__d("MAWEncryptedBackupsClearRecoveryCode",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.secure_recovery_code_data)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.secure_encrypted_backups_recovery_code_status))]).then(function(r){var o=r[0],a=r[1];if(o!=null||a!=null)return t.runInTransaction(function(t){return(e||(e=n("Promise"))).all([(o==null?void 0:o.taskId)!=null?t.secure_recovery_code_data.delete(o.taskId):(e||(e=n("Promise"))).resolve(),(a==null?void 0:a.pk)!=null?t.secure_encrypted_backups_recovery_code_status.delete(a.pk):(e||(e=n("Promise"))).resolve()])},"readwrite",void 0,void 0,i.id+":27")})}l.encryptedBackupsClearRecoveryCode=s}),98);
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.isMessenger,a=n?"disabled_DEPRECATED":"blue",i;t[0]!==a?(i=u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:u.jsx(r("MWXSpinner.react"),{color:a,size:12})}),t[0]=a,t[1]=i):i=t[1];var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:u.jsx(r("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:s._(/*BTDS*/"Verifying your PIN")})}),t[2]=l):l=t[2];var c;return t[3]!==i?(c=u.jsxs(r("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[i,l]}),t[3]=i,t[4]=c):c=t[4],c}l.default=c}),226);
__d("MWChatEncrypedBackupsNumericCodeKeyTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["NUM_PAD_WITHOUT_NUM_LOCK","NON_NUMERIC_CHAR"]);i.InvalidKeyType=e}),66);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e=/^[0-9]*$/;return e.test(t)},l=function(n,r){return n.length>r?!1:e(n)},s=function(n,r){return n.length!==r?!1:e(n)};i.numericCodeIsValid=l,i.numericCodeIsCompleted=s}),66);
__d("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24783313654667152"}),null);
__d("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters",["MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsForgotPINDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWChatEncryptedBackupsForgotPINDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPINDialog.react").__setRef("MWChatEncryptedBackupsForgotPINDialog.entrypoint")};l.default=e}),98);
__d("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPinStepDialogPage.react").__setRef("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint")};l.default=e}),98);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(15),n=e.children,a=e.error,i=e.inputSize,l=e.labelId,c=i===void 0?"large":i,d=c==="large"?u.outterWrapper:u.outterWrapperSmall,m=c==="large"?20:0,p;t[0]!==a?(p={0:{},1:{className:"x18d9i69"}}[(a!=null)<<0],t[0]=a,t[1]=p):p=t[1];var _;t[2]!==n||t[3]!==p?(_=s.jsx("div",babelHelpers.extends({},p,{children:n})),t[2]=n,t[3]=p,t[4]=_):_=t[4];var f;t[5]!==a||t[6]!==l?(f=a!=null?s.jsx("div",{className:"x10b6aqq x1y1aw1k x2b8uid",children:s.jsx(r("MWXText.react"),{color:"negative",id:l,testid:void 0,type:"body4",children:a})}):null,t[5]=a,t[6]=l,t[7]=f):f=t[7];var g;t[8]!==m||t[9]!==_||t[10]!==f?(g=s.jsxs(r("MWXColumnItem.react"),{align:"center",paddingHorizontal:m,paddingTop:0,children:[_,f]}),t[8]=m,t[9]=_,t[10]=f,t[11]=g):g=t[11];var h;return t[12]!==d||t[13]!==g?(h=s.jsx(r("MWXColumn.react"),{xstyle:d,children:g}),t[12]=d,t[13]=g,t[14]=h):h=t[14],h}l.default=c}),98);
__d("useMWChatEncryptedBackupsNumericCodeInputAutoFocus",["FocusRegion.react","HiddenSubtreePassiveContext","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){if(!("elementsFromPoint"in document))return!0;var t=e.getBoundingClientRect(),n=document.elementsFromPoint(t.left+t.width/2,t.top+t.height/2);for(var r of n){if(r===e)return!1;var o=window.getComputedStyle(r);if(o.visibility!=="hidden"&&o.display!=="none")return!0}return!1}function m(e){var t=o("react-compiler-runtime").c(3),n,r;t[0]!==e?(n=function(){var t=function(n){n.key>="0"&&n.key<="9"&&e(n.key)};return window.addEventListener("keydown",t),(function(){window.removeEventListener("keydown",t)})},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),c(n,r)}function p(e,t,n){var a=o("react-compiler-runtime").c(5),i=u(r("HiddenSubtreePassiveContext")),l;a[0]!==t||a[1]!==e||a[2]!==i||a[3]!==n?(l=function(){var r=i.getCurrentState(),a=["input","textarea"].some(_);!e&&!a&&!r.hiddenOrBackgrounded&&!(!n.current||d(n.current))&&o("FocusRegion.react").focusRegionById(t,o("focusScopeQueries").tabbableScopeQuery)},a[0]=t,a[1]=e,a[2]=i,a[3]=n,a[4]=l):l=a[4],m(l)}function _(e){var t;return(t=document.activeElement)==null?void 0:t.matches(e)}l.default=p}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","react","react-compiler-runtime","useMWChatEncryptedBackupsNumericCodeInputAutoFocus"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useRef,p=u.useState,_=r("gkx")("24058"),f=function(t){return["0","1","2","3","4","5","6","7","8","9"].includes(t.key)},g=new Map([["Numpad0","0"],["Numpad1","1"],["Numpad2","2"],["Numpad3","3"],["Numpad4","4"],["Numpad5","5"],["Numpad6","6"],["Numpad7","7"],["Numpad8","8"],["Numpad9","9"]]),h=function(t){var e;return t.location===3&&!f(t)&&!t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey?g.get((e=t.nativeEvent)==null?void 0:e.code):null},y={input:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function C(e){var t=o("react-compiler-runtime").c(44),n=e.extraProps,a=e.props,i=n.hasFocus,l=n.setFocus,u=a["aria-describedby"],c=a["aria-label"],f=a.disabled,g=a.focusRegionId,C=a.inputMode,v=a.isError,S=a.onChange,R=a.onCompletionChange,L=a.onEnabledNumLock,E=a.onPressedInvalidKey,k=a.size,I=a.testid,T=a.value,D=f===void 0?!1:f,x=p(T.length===k),$=x[0],P=x[1],N=m(null),M=m(D);r("useMWChatEncryptedBackupsNumericCodeInputAutoFocus")(i,g,N);var w;t[0]!==$||t[1]!==S||t[2]!==R||t[3]!==k?(w=function(t){var e=o("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(t,k);S(t),R!=null&&e!==$&&(P(e),R(e))},t[0]=$,t[1]=S,t[2]=R,t[3]=k,t[4]=w):w=t[4];var A=w,F,O;t[5]===Symbol.for("react.memo_cache_sentinel")?(F=function(){var e=b,t=N.current;return t==null||t.addEventListener("selectstart",e),(function(){t==null||t.removeEventListener("selectstart",e)})},O=[],t[5]=F,t[6]=O):(F=t[5],O=t[6]),d(F,O);var B,W;t[7]!==D||t[8]!==l?(B=function(){D&&l(!1)},W=[D,l],t[7]=D,t[8]=l,t[9]=B,t[10]=W):(B=t[9],W=t[10]),d(B,W);var q,U;t[11]===Symbol.for("react.memo_cache_sentinel")?(U=function(){var e=N.current;if(e!=null){var t=function(){var t=e.value.length,n=e.selectionStart===e.selectionEnd&&e.selectionStart===t;n||e.setSelectionRange(t,t)};return e.addEventListener("selectionchange",t),(function(){e.removeEventListener("selectionchange",t)})}},q=[],t[11]=q,t[12]=U):(q=t[11],U=t[12]),d(U,q);var V,H;t[13]!==D||t[14]!==g?(V=function(){M.current!==D&&(M.current=D,D||o("FocusRegion.react").focusRegionById(g,o("focusScopeQueries").tabbableScopeQuery))},H=[D,g],t[13]=D,t[14]=g,t[15]=V,t[16]=H):(V=t[15],H=t[16]),d(V,H);var G;t[17]!==L||t[18]!==E?(G=function(t){var e=h(t);e!=null?E==null||E(o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK):t.key==="NumLock"&&(t.getModifierState==null?void 0:t.getModifierState("NumLock"))===!0&&(L==null||L())},t[17]=L,t[18]=E,t[19]=G):G=t[19];var z=G,j=I!=null?I+"-mw-numeric-code-input-prevent-composer-focus-steal":"mw-numeric-code-input-prevent-composer-focus-steal",K,Q;t[20]!==l?(K=function(){l(!1)},Q=function(){l(!0)},t[20]=l,t[21]=K,t[22]=Q):(K=t[21],Q=t[22]);var X;t[23]!==z?(X=function(t){var e=t.keyCode;(e===35||e===36||e===37||e===38||e===39||e===40)&&(t.preventDefault(),t.stopPropagation()),z==null||z(t)},t[23]=z,t[24]=X):X=t[24];var Y;t[25]!==E||t[26]!==k||t[27]!==A?(Y=function(t){var e=t.toString();o("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(e,k)?A(e):E==null||E(o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)},t[25]=E,t[26]=k,t[27]=A,t[28]=Y):Y=t[28];var J;t[29]===Symbol.for("react.memo_cache_sentinel")?(J=[y.input,_&&y.testOpacity],t[29]=J):J=t[29];var Z;return t[30]!==u||t[31]!==c||t[32]!==D||t[33]!==C||t[34]!==v||t[35]!==k||t[36]!==j||t[37]!==K||t[38]!==Q||t[39]!==X||t[40]!==Y||t[41]!==I||t[42]!==T?(Z=s.jsx(r("BaseTextInput.react"),{"aria-describedby":u,"aria-invalid":v,"aria-label":c,autoComplete:"one-time-code",disabled:D,id:j,inputMode:C,maxLength:k,onBlur:K,onFocus:Q,onKeyDown:X,onValueChange:Y,ref:N,testid:void 0,value:T,xstyle:J}),t[30]=u,t[31]=c,t[32]=D,t[33]=C,t[34]=v,t[35]=k,t[36]=j,t[37]=K,t[38]=Q,t[39]=X,t[40]=Y,t[41]=I,t[42]=T,t[43]=Z):Z=t[43],Z}function b(e){e.preventDefault()}l.default=C}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useState,p={focusRing:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},input:{alignItems:"x6s0dn4",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}},_="-",f="\u25CF";function g(e,t){return t?"disabled":e===_?"secondary":"primary"}function h(t){var n=o("react-compiler-runtime").c(28),a=t.color,i=t.disabled,l=t.enableMasking,s=t.hasFocus,c=t.inputSize,h=t.size,y=t.testid,C=t.value,b=a===void 0?"primary":a,v=i===void 0?!1:i,S=l===void 0?!1:l,R=c===void 0?"large":c,L=y===void 0?"numeric-renderer":y,E;n[0]!==s||n[1]!==h||n[2]!==C?(E=function(t){return(C.length===t||C.length>t&&t===h-1)&&s},n[0]=s,n[1]=h,n[2]=C,n[3]=E):E=n[3];var k=E,I;n[4]!==h?(I=Array(h).fill(_),n[4]=h,n[5]=I):I=n[5];var T=m(I),D=T[0],x=T[1],$,P;n[6]!==S||n[7]!==h||n[8]!==C?($=function(){x(Array(h).fill().map(function(e,t){return C[t]!=null?S?f:C[t]:_}))},P=[S,h,C],n[6]=S,n[7]=h,n[8]=C,n[9]=$,n[10]=P):($=n[9],P=n[10]),d($,P);var N;if(n[11]!==b||n[12]!==v||n[13]!==S||n[14]!==R||n[15]!==k||n[16]!==L||n[17]!==D){var M;n[19]!==b||n[20]!==v||n[21]!==S||n[22]!==R||n[23]!==k||n[24]!==L?(M=function(n,o){return u.jsx(r("MWXRowItem.react"),{xstyle:p.inputBox,children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.input,R==="small"&&p.inputSmall,R==="tiny"&&p.inputTiny,b==="primary"&&p.inputColorPrimary,b==="secondary"&&p.inputColorSecondary,k(o)&&p.focusRing),{"aria-hidden":n===_,"data-testid":void 0,children:S?u.jsx(r("MWXText.react"),{color:g(n,v),type:n===_?"entityHeaderHeadline1":"headlineEmphasized4",children:v?f:n}):u.jsx(r("MWXText.react"),{color:g(n,v),type:n===_?"entityHeaderHeadline1":"headlineEmphasized1",children:n})}))},o)},n[19]=b,n[20]=v,n[21]=S,n[22]=R,n[23]=k,n[24]=L,n[25]=M):M=n[25],N=D.map(M),n[11]=b,n[12]=v,n[13]=S,n[14]=R,n[15]=k,n[16]=L,n[17]=D,n[18]=N}else N=n[18];var w;return n[26]!==N?(w=u.jsx(r("MWXRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:N}),n[26]=N,n[27]=w):w=n[27],w}l.MWChatEncryptedBackupsNumericCodeInputRenderer=h}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["FocusRegion.react","MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(22),n=e.enableMasking,a=e.focusRegionId,i=e.inputSize,l=e.size,c=e.testid,d=e.value,m=e.withAutoFocus,p=m===void 0?!0:m,_=u(!1),f=_[0],g=_[1],h=p?o("focusScopeQueries").tabbableScopeQuery:void 0,y;t[0]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x1n2onr6"},t[0]=y):y=t[0];var C;t[1]!==n||t[2]!==f||t[3]!==e.color||t[4]!==e.disabled||t[5]!==i||t[6]!==l||t[7]!==c||t[8]!==d?(C=s.jsx(o("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:e.color,disabled:e.disabled,enableMasking:n,hasFocus:f,inputSize:i,size:l,testid:void 0,value:d}),t[1]=n,t[2]=f,t[3]=e.color,t[4]=e.disabled,t[5]=i,t[6]=l,t[7]=c,t[8]=d,t[9]=C):C=t[9];var b;t[10]!==f?(b={hasFocus:f,setFocus:g},t[10]=f,t[11]=b):b=t[11];var v;t[12]!==e||t[13]!==b?(v=s.jsx(r("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:b,props:e}),t[12]=e,t[13]=b,t[14]=v):v=t[14];var S;t[15]!==C||t[16]!==v?(S=s.jsxs("div",babelHelpers.extends({},y,{children:[C,v]})),t[15]=C,t[16]=v,t[17]=S):S=t[17];var R;return t[18]!==a||t[19]!==h||t[20]!==S?(R=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:h,id:a,children:S}),t[18]=a,t[19]=h,t[20]=S,t[21]=R):R=t[21],R}l.default=c}),98);
__d("MWChatEncryptedBackupsSetIsDialogPersistedContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({setIsDialogPersisted:function(){}});l.default=u}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:!1,kind:"LocalArgument",name:"labyrinthOnePointOneSecurityUX"}],t={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},r={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{args:[{kind:"Variable",name:"labyrinthOnePointOneSecurityUX",variableName:"labyrinthOnePointOneSecurityUX"}],kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsDialogStep_query"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[r,{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t,o],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,o,{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{condition:"labyrinthOnePointOneSecurityUX",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_sender_backup",storageKey:null}]},r,{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:n("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.source,i;t[0]!==a?(i={source:a},t[0]=a,t[1]=i):i=t[1];var l=i,u;return t[2]!==n||t[3]!==l?(u=s.jsx(r("MWEBFlowSourceContext").Provider,{value:l,children:n}),t[2]=n,t[3]=l,t[4]=u):u=t[4],u}l.default=c}),98);
__d("MWEBNoMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWEBNoMobileEOTRInformationalDialogForEntrypoint.react").__setRef("MWEBNoMobileEOTRInformationalDialog.entrypoint")};l.default=e}),98);
__d("MWEBPinCodeSetupResult",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["SUCCESS","LABYRINTH_ERROR","VESTA_ERROR","DELETE_MAILBOX_ERROR"]);i.CodeSetupResult=e}),66);
__d("MWEBPinCodeSize",[],(function(t,n,r,o,a,i){"use strict";var e=6;i.EB_PIN_CODE_SIZE=e}),66);
__d("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWEBUntrustedMobileEOTRInformationalDialogForEntrypoint.react").__setRef("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint")};l.default=e}),98);
__d("UserMobileEBState",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["UNKNOWN","NO_MOBILE","UNTRUSTED_MOBILE","TRUSTED_MOBILE"]);i.UserMobileEBState=e}),66);
__d("useWAInfraMobileDeviceList",["cr:8431","react","react-compiler-runtime","useWAInfraDeviceList"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){var e=o("react-compiler-runtime").c(3),t=r("useWAInfraDeviceList")(),a;e[0]!==t?(a=t.filter(c),e[0]=t,e[1]=a):a=e[1];var i=a;if(n("cr:8431")){var l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=[n("cr:8431")],e[2]=l):l=e[2],l}return i}function c(e){var t;return e.platform==="Messenger"&&e.manufacturer!=="Mac OS X"&&e.manufacturer!=="Windows"&&(e.model==null||!["Chrome","Safari","Firefox","Edge","System Product Name"].includes(e.model))&&!(e.manufacturer==="Apple"&&(t=e.model)!=null&&t.includes("Mac"))}l.default=u}),98);
__d("useGetUserMobileEBState",["MAWOneTimeCodeGating","UserMobileEBState","gkx","react-compiler-runtime","useHasOTCEligibleDevicesFromReStore","useWAInfraMobileDeviceList"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(7),t=r("useWAInfraMobileDeviceList")(),n=r("useHasOTCEligibleDevicesFromReStore")(),a=n.hasOtcEligibleDevices;if(a){var i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i={state:o("UserMobileEBState").UserMobileEBState.TRUSTED_MOBILE},e[0]=i):i=e[0],i}var l=o("MAWOneTimeCodeGating").isOneTimeCodeEnabled()&&a,u=t.length===0&&r("gkx")("14456");if(u){var c;return e[1]===Symbol.for("react.memo_cache_sentinel")?(c={state:o("UserMobileEBState").UserMobileEBState.NO_MOBILE},e[1]=c):c=e[1],c}var d=t.length>0&&!l,m=d&&r("gkx")("14456");if(m){var p;e[2]!==t?(p=t.map(s),e[2]=t,e[3]=p):p=e[3];var _;return e[4]!==p?(_={deviceInfoList:p,state:o("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE},e[4]=p,e[5]=_):_=e[5],_}var f;return e[6]===Symbol.for("react.memo_cache_sentinel")?(f={state:o("UserMobileEBState").UserMobileEBState.UNKNOWN},e[6]=f):f=e[6],f}function s(e){return{lastSeen:e.lastSeen,model:e.model,platform:e.platform}}l.default=e}),98);
__d("MWEncryptedBackupsForgotPinStep",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBVirtualDevicesContext.react","MWJewelPopoverDialogContext.react","QPLUserFlow","UserMobileEBState","cr:12326","cr:12327","emptyFunction","gkx","react","react-compiler-runtime","useGetUserMobileEBState","useMWXEntryPointDialog","usePushPage"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["onHighIntent"],u=["onHighIntent"],c=["onHighIntent"],d,m=d||(d=o("react")),p=d.useContext,_=s._(/*BTDS*/"Forgot PIN?"),f=s._(/*BTDS*/"Need help?"),g="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more",h=r("gkx")("14456"),y=function(t){r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,t===_?"PIN_CODE_RESTORE_FORGOT_PIN_CLICK":"PIN_CODE_RESTORE_NEED_HELP_CLICK")},C=h?_:f,b=function(){y(C)},v={children:C,href:g,onClick:b,rel:"noreferrer",target:"_blank"};function S(t){var a=o("react-compiler-runtime").c(39),i=t.offlineDevicesCount,l=t.onClose,s=t.onComplete,d=t.pushPage,m=r("useGetUserMobileEBState")(),p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p={},a[0]=p):p=a[0];var g=r("usePushPage")(n("cr:12326"),p),h=g[0],C=g[1],b;if(a[1]!==C){var S=C.onHighIntent,R=babelHelpers.objectWithoutPropertiesLoose(C,e);b=R,a[1]=C,a[2]=b}else b=a[2];var L;a[3]===Symbol.for("react.memo_cache_sentinel")?(L={},a[3]=L):L=a[3];var E=r("usePushPage")(n("cr:12327"),L),k=E[0],I=E[1],T;if(a[4]!==I){var D=I.onHighIntent,x=babelHelpers.objectWithoutPropertiesLoose(I,u);T=x,a[4]=I,a[5]=T}else T=a[5];var $;a[6]===Symbol.for("react.memo_cache_sentinel")?($={},a[6]=$):$=a[6];var P=r("usePushPage")(r("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint"),$),N=P[0],M=P[1],w;if(a[7]!==M){var A=M.onHighIntent,F=babelHelpers.objectWithoutPropertiesLoose(M,c);w=F,a[7]=M,a[8]=w}else w=a[8];if(m.state===o("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE){var O;a[9]!==l||a[10]!==s||a[11]!==d||a[12]!==k?(O=function(){y(_),k({onClose:l,onComplete:s,pushPage:d})},a[9]=l,a[10]=s,a[11]=d,a[12]=k,a[13]=O):O=a[13];var B;return a[14]!==O||a[15]!==T.onHoverIn||a[16]!==T.onHoverOut||a[17]!==T.onPressIn?(B={children:_,onClick:O,onHoverEnd:T.onHoverOut,onHoverStart:T.onHoverIn,onPressStart:T.onPressIn},a[14]=O,a[15]=T.onHoverIn,a[16]=T.onHoverOut,a[17]=T.onPressIn,a[18]=B):B=a[18],B}if(m.state===o("UserMobileEBState").UserMobileEBState.NO_MOBILE){var W;a[19]!==l||a[20]!==s||a[21]!==h?(W=function(){y(_),h({onClose:l,onComplete:s})},a[19]=l,a[20]=s,a[21]=h,a[22]=W):W=a[22];var q;return a[23]!==b.onHoverIn||a[24]!==b.onHoverOut||a[25]!==b.onPressIn||a[26]!==W?(q={children:_,onClick:W,onHoverEnd:b.onHoverOut,onHoverStart:b.onHoverIn,onPressStart:b.onPressIn},a[23]=b.onHoverIn,a[24]=b.onHoverOut,a[25]=b.onPressIn,a[26]=W,a[27]=q):q=a[27],q}var U=i>0||!0;if(U){var V;a[28]!==U||a[29]!==l||a[30]!==s||a[31]!==N||a[32]!==d?(V=function(){y(f),N({isRCDeviceEnabled:U,onClose:l,onComplete:s,pushPage:d},{})},a[28]=U,a[29]=l,a[30]=s,a[31]=N,a[32]=d,a[33]=V):V=a[33];var H;return a[34]!==w.onHoverIn||a[35]!==w.onHoverOut||a[36]!==w.onPressIn||a[37]!==V?(H={children:f,onClick:V,onHoverEnd:w.onHoverOut,onHoverStart:w.onHoverIn,onPressStart:w.onPressIn},a[34]=w.onHoverIn,a[35]=w.onHoverOut,a[36]=w.onPressIn,a[37]=V,a[38]=H):H=a[38],H}else return v}function R(e){var t=o("react-compiler-runtime").c(18),n=e.onDismiss,a=n===void 0?r("emptyFunction"):n,i=r("useGetUserMobileEBState")(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];var s=r("useMWXEntryPointDialog")(r("MAWEncryptedBackupsRestoreDialog.entrypoint"),l),u=s[0],c=o("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices(),d=c.virtualDeviceInfo,m=d.offlineDevicesCount,g=p(r("MWJewelPopoverDialogContext.react")),h=g.setIsOpenForDialog,C;t[1]===Symbol.for("react.memo_cache_sentinel")?(C={},t[1]=C):C=t[1];var b=r("useMWXEntryPointDialog")(r("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),C),S,R;if(t[2]!==b?(R=b[0],S=babelHelpers.arrayLikeToArray(b).slice(1),t[2]=b,t[3]=S,t[4]=R):(S=t[3],R=t[4]),i.state===o("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE||i.state===o("UserMobileEBState").UserMobileEBState.NO_MOBILE){var L;return t[5]!==h||t[6]!==u||t[7]!==i.state?(L={children:_,onClick:function(){y(_),h(!0),u({onDismissUpsell:r("emptyFunction"),skipToEOTRForgotPINStep:i.state,source:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP})}},t[5]=h,t[6]=u,t[7]=i.state,t[8]=L):L=t[8],L}var E=m>0;if(E){var k=S,I=k[0],T=k[1],D=k[2],x;t[9]!==a||t[10]!==h||t[11]!==R?(x=function(){y(f),h(!0),R({onDismiss:a})},t[9]=a,t[10]=h,t[11]=R,t[12]=x):x=t[12];var $;return t[13]!==T||t[14]!==I||t[15]!==D||t[16]!==x?($={children:f,onClick:x,onHoverEnd:T,onHoverStart:I,onPressStart:D},t[13]=T,t[14]=I,t[15]=D,t[16]=x,t[17]=$):$=t[17],$}else return v}l.STATIC_HELP_CENTER_LINK_PROPS=v,l.useForgotPinLinkPushPageProps=S,l.useForgotPinLinkShowDialogProps=R}),226);
__d("VestaClientError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("VestaGetWasm",["WAWasmModuleCache","bx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("bx").getURL(r("bx")("72238")),s=function(){return o("WAWasmModuleCache").loadWasmModule(e)};l.getVestaWasm=s}),98);
__d("VestaWasm.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={},d={},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={};s.name="ValidateHsmKeyRequest",s.internalSpec={hsmKey:[1,(e=o("WAProtoConst")).FLAGS.REQUIRED|e.TYPES.BYTES],signature:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},u.name="ValidateHsmKeyResponse",u.internalSpec={isValid:[1,e.FLAGS.REQUIRED|e.TYPES.BOOL]},c.name="BeginRegisterRequest",c.internalSpec={password:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},d.name="BeginRegisterResponse",d.internalSpec={r1Message:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],clientState:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},m.name="FinishRegisterRequest",m.internalSpec={r1Message:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],r2Message:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],r2MessageSig:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],islandEd25519Pub:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],clientState:[5,e.FLAGS.REQUIRED|e.TYPES.BYTES],userSecret:[6,e.FLAGS.REQUIRED|e.TYPES.BYTES],registrationChallenge:[7,e.FLAGS.REQUIRED|e.TYPES.BYTES],hsmRsaPublicKey:[8,e.FLAGS.REQUIRED|e.TYPES.BYTES],loginAttempts:[9,e.TYPES.UINT32],useProtobufMode:[10,e.FLAGS.REQUIRED|e.TYPES.BOOL]},p.name="FinishRegisterResponse",p.internalSpec={registrationPayloadEncrypted:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],registrationIdentifier:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},_.name="BeginLoginRequest",_.internalSpec={password:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},f.name="BeginLoginResponse",f.internalSpec={l1Message:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],clientState:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},g.name="FinishLoginRequest",g.internalSpec={l2Message:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],l2MessageSig:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],islandEd25519Pub:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],clientState:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES]},h.name="FinishLoginResponse",h.internalSpec={l3Message:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],sessionKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],exportKey:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},y.name="UnpackLoginPayloadRequest",y.internalSpec={loginPayload:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],sessionKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],exportKey:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],useProtobufMode:[4,e.FLAGS.REQUIRED|e.TYPES.BOOL]},C.name="UnpackLoginPayloadResponse",C.internalSpec={userSecret:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},b.name="CliCommand",b.internalSpec={validateHsmKey:[1,e.TYPES.MESSAGE,s],beginRegister:[2,e.TYPES.MESSAGE,c],finishRegister:[3,e.TYPES.MESSAGE,m],beginLogin:[4,e.TYPES.MESSAGE,_],finishLogin:[5,e.TYPES.MESSAGE,g],unpackLoginPayload:[6,e.TYPES.MESSAGE,y],__oneofs__:{command:["validateHsmKey","beginRegister","finishRegister","beginLogin","finishLogin","unpackLoginPayload"]}},v.name="CliResponse",v.internalSpec={errorCode:[1,e.FLAGS.REQUIRED|e.TYPES.INT32],validateHsmKey:[2,e.TYPES.MESSAGE,u],beginRegister:[3,e.TYPES.MESSAGE,d],finishRegister:[4,e.TYPES.MESSAGE,p],beginLogin:[5,e.TYPES.MESSAGE,f],finishLogin:[6,e.TYPES.MESSAGE,h],unpackLoginPayload:[7,e.TYPES.MESSAGE,C],__oneofs__:{response:["validateHsmKey","beginRegister","finishRegister","beginLogin","finishLogin","unpackLoginPayload"]}},l.ValidateHsmKeyRequestSpec=s,l.ValidateHsmKeyResponseSpec=u,l.BeginRegisterRequestSpec=c,l.BeginRegisterResponseSpec=d,l.FinishRegisterRequestSpec=m,l.FinishRegisterResponseSpec=p,l.BeginLoginRequestSpec=_,l.BeginLoginResponseSpec=f,l.FinishLoginRequestSpec=g,l.FinishLoginResponseSpec=h,l.UnpackLoginPayloadRequestSpec=y,l.UnpackLoginPayloadResponseSpec=C,l.CliCommandSpec=b,l.CliResponseSpec=v}),98);
__d("mapVestaClientError",["VestaClientError"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){switch(e){case 1:return new u;case 2:return new c;case 3:return new d;case 4:return new m;case 5:return new p;case 6:return new _;case 7:return new f;case 8:return new g;case 9:return new h;case 10:return new y;case 11:return new C;case 12:return new b;default:return new v}}var u=(function(e){function t(t){var n;return t===void 0&&(t="Buffer supplied to WASM for response is too small"),n=e.call(this,t)||this,n.name="InsufficientResultBuffer",n}return babelHelpers.inheritsLoose(t,e),t})(e=r("VestaClientError")),c=(function(e){function t(t){var n;return t===void 0&&(t="Incorrect user password supplied during login"),n=e.call(this,t)||this,n.name="InvalidUserPassword",n}return babelHelpers.inheritsLoose(t,e),t})(e),d=(function(e){function t(t){var n;return t===void 0&&(t="Invalid input from server"),n=e.call(this,t)||this,n.name="MalformedServerResponse",n}return babelHelpers.inheritsLoose(t,e),t})(e),m=(function(e){function t(t){var n;return t===void 0&&(t="Invalid input from client"),n=e.call(this,t)||this,n.name="MalformedClientInput",n}return babelHelpers.inheritsLoose(t,e),t})(e),p=(function(e){function t(t){var n;return t===void 0&&(t="Error during encryption operation"),n=e.call(this,t)||this,n.name="EncryptionFailure",n}return babelHelpers.inheritsLoose(t,e),t})(e),_=(function(e){function t(t){var n;return t===void 0&&(t="Error during decryption operation"),n=e.call(this,t)||this,n.name="DecryptionFailure",n}return babelHelpers.inheritsLoose(t,e),t})(e),f=(function(e){function t(t){var n;return t===void 0&&(t="Error during serialization operation."),n=e.call(this,t)||this,n.name="SerializationFailure",n}return babelHelpers.inheritsLoose(t,e),t})(e),g=(function(e){function t(t){var n;return t===void 0&&(t="Error deserializing inputs, likely due to malformed input"),n=e.call(this,t)||this,n.name="DeserializationFailure",n}return babelHelpers.inheritsLoose(t,e),t})(e),h=(function(e){function t(t){var n;return t===void 0&&(t="Passed RSA public key is in an invalid format."),n=e.call(this,t)||this,n.name="RsaInvalidKey",n}return babelHelpers.inheritsLoose(t,e),t})(e),y=(function(e){function t(t){var n;return t===void 0&&(t="Unable to verify RSA signature"),n=e.call(this,t)||this,n.name="RsaVerificationFailure",n}return babelHelpers.inheritsLoose(t,e),t})(e),C=(function(e){function t(t){var n;return t===void 0&&(t="Passed Ed25519 public key is in an invalid format."),n=e.call(this,t)||this,n.name="Ed25519InvalidKey",n}return babelHelpers.inheritsLoose(t,e),t})(e),b=(function(e){function t(t){var n;return t===void 0&&(t="Unable to verify Ed25519 signature"),n=e.call(this,t)||this,n.name="Ed25519VerificationFailure",n}return babelHelpers.inheritsLoose(t,e),t})(e),v=(function(e){function t(t){var n;return t===void 0&&(t="Unknown error code received from WASM binary"),n=e.call(this,t)||this,n.name="UnknownErrorCode",n}return babelHelpers.inheritsLoose(t,e),t})(e);l.mapErrorCode=s,l.DeserializationFailure=g}),98);
__d("VestaClient",["$InternalEnum","VestaClientError","VestaGetWasm","VestaWasm.pb","WAByteArray","WAResultOrError","WATagsLogger","WAWasmReactor","err","mapVestaClientError"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WATagsLogger").TAGS(["VestaClient"]),u=0,c="VestaClientV2_REPL",d=(function(){function e(){if(!e.$2){var t=o("WAWasmReactor").createWasmInstance(o("VestaGetWasm").getVestaWasm,c);e.$1=t;return}throw r("err")("VestaWasmReactorSingleton is already initialized")}e.getInstance=function(){if(!e.$2){var t=new e;e.$2=t;var n=o("WAWasmReactor").createWasmInstance(o("VestaGetWasm").getVestaWasm,c);e.$1=n}return e.$2};var t=e.prototype;return t.createWasmReactorCommand=async function(n){var t=n.InputSpec,o=n.ResultSpec,a=n.validateResult,i=await e.$1;if(!i)throw r("err")("wasmReactor is not initialized");return i.DEPRECATED_createWasmCommand({InputSpec:t,ResultSpec:o,validateResult:a})},e})();d.$1=null,d.$2=null;var m=function(t){var e=d.getInstance();if(!e)throw r("err")("VestaWasmReactorSingleton is not initialized");return e.createWasmReactorCommand(t)};function p(t){var n=t.processResult;function a(t){var a=t.errorCode;if(a!==u)return s.ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Vesta error: ",""])),a),o("WAResultOrError").makeError(o("mapVestaClientError").mapErrorCode(a));try{return o("WAResultOrError").makeResult(n(t))}catch(e){if(e instanceof r("VestaClientError"))return o("WAResultOrError").makeError(e);throw e}}return m({InputSpec:o("VestaWasm.pb").CliCommandSpec,ResultSpec:o("VestaWasm.pb").CliResponseSpec,validateResult:a})}function _(e,t){var n=p({processResult:function(t){if(t.validateHsmKey)return t.validateHsmKey.isValid;throw new(o("mapVestaClientError")).DeserializationFailure}}),r={validateHsmKey:{hsmKey:o("WAByteArray").uint8ArrayToBuffer(e),signature:o("WAByteArray").uint8ArrayToBuffer(t)}};return n.then(function(e){return e(r)})}function f(e){var t=p({processResult:function(t){if(t.beginRegister){var e=t.beginRegister;return{clientState:new Uint8Array(e.clientState),r1Message:new Uint8Array(e.r1Message)}}throw new(o("mapVestaClientError")).DeserializationFailure}}),n={beginRegister:{password:o("WAByteArray").uint8ArrayToBuffer(e)}};return t.then(function(e){return e(n)})}var g=n("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);function h(e,t,n,r,a,i,l,s,u,c){u===void 0&&(u=0),c===void 0&&(c=g.WaBackupKeyData);var d=p({processResult:function(t){if(t.finishRegister){var e=t.finishRegister;return{registerIdentifier:new Uint8Array(e.registrationIdentifier),registerPayload:new Uint8Array(e.registrationPayloadEncrypted)}}throw new(o("mapVestaClientError")).DeserializationFailure}}),m={finishRegister:{clientState:o("WAByteArray").uint8ArrayToBuffer(a),hsmRsaPublicKey:o("WAByteArray").uint8ArrayToBuffer(s),islandEd25519Pub:o("WAByteArray").uint8ArrayToBuffer(r),loginAttempts:u>0?u:void 0,r1Message:o("WAByteArray").uint8ArrayToBuffer(e),r2Message:o("WAByteArray").uint8ArrayToBuffer(t),r2MessageSig:o("WAByteArray").uint8ArrayToBuffer(n),registrationChallenge:o("WAByteArray").uint8ArrayToBuffer(l),useProtobufMode:c===g.WaBackupKeyData,userSecret:o("WAByteArray").uint8ArrayToBuffer(i)}};return d.then(function(e){return e(m)})}function y(e){var t=p({processResult:function(t){if(t.beginLogin){var e=t.beginLogin;return{clientState:new Uint8Array(e.clientState),l1Message:new Uint8Array(e.l1Message)}}throw new(o("mapVestaClientError")).DeserializationFailure}}),n={beginLogin:{password:o("WAByteArray").uint8ArrayToBuffer(e)}};return t.then(function(e){return e(n)})}function C(e,t,n,r){var a,i=p({processResult:function(t){if(t.finishLogin){var e=t.finishLogin;return{exportKey:new Uint8Array(e.exportKey),l3Message:new Uint8Array(e.l3Message),sessionKey:new Uint8Array(e.sessionKey)}}throw new(o("mapVestaClientError")).DeserializationFailure}}),l={finishLogin:{clientState:(a=o("WAByteArray")).uint8ArrayToBuffer(r),islandEd25519Pub:a.uint8ArrayToBuffer(n),l2Message:a.uint8ArrayToBuffer(e),l2MessageSig:a.uint8ArrayToBuffer(t)}};return i.then(function(e){return e(l)})}function b(e,t,n,r){r===void 0&&(r=g.WaBackupKeyData);var a=p({processResult:function(t){if(t.unpackLoginPayload){var e=t.unpackLoginPayload;return{userSecret:new Uint8Array(e.userSecret)}}throw new(o("mapVestaClientError")).DeserializationFailure}}),i={unpackLoginPayload:{exportKey:o("WAByteArray").uint8ArrayToBuffer(n),loginPayload:o("WAByteArray").uint8ArrayToBuffer(e),sessionKey:o("WAByteArray").uint8ArrayToBuffer(t),useProtobufMode:r===g.WaBackupKeyData}};return a.then(function(e){return e(i)})}l.validateHsmKey=_,l.beginRegister=f,l.SerializationMode=g,l.finishRegister=h,l.beginLogin=y,l.finishLogin=C,l.unpackLoginPayload=b}),98);
__d("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError",["fbt","MWChatEncrypedBackupsNumericCodeKeyTypes"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t){if(e===o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)return t==="pin"?s._(/*BTDS*/"Your PIN can only contain numbers"):null;if(e===o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK)return s._(/*BTDS*/"Press Num Lock to use the numeric keypad")}l.default=e}),226);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e=r("gkx")("23433");function u(){var t=s(e?"414274":"1745665");return t}l.default=u}),98);
__d("mwEBAddDevice",["EBSMAPI","MAWCurrentUser","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsInitializeRestoreDeferred","QPLUserFlow","isInstamadilloEB"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.environment,n=e.onFailure,a=e.onInvalidRecoveryCode,i=e.onSuccess,l=e.recoveryCode,s=e.storage;return r("EBSMAPI").addDeviceWithRecoveryCode({environment:t,recoveryCode:l,userId:o("MAWCurrentUser").getID()}).then(function(e){e.success?(i(),r("isInstamadilloEB")()?r("QPLUserFlow").endSuccess(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent):o("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:s,onFailure:function(){},onSuccess:function(){}})):e.error==="INVALID_RECOVERY_CODE"?a():n(e.error)})}l.EBAddDevice=e}),98);
__d("vestaBackupSecretRestore",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("vestaBackupSecretRestore"),s=r("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("vestaBackupSecretRestore");async function u(t){var n=t.environment,r=t.input,o=await Promise.all([s.load(),e.load()]),a=o[0],i=a.beginLogin,l=a.finishLogin,u=a.initLogin,c=o[1].restoreBackupSecret;return c({beginLogin:i,finishLogin:l,initLogin:u},r,{environment:n})}l.default=u}),98);
__d("mwEBGetPINSecretFromVesta",["CometRelay","E2EEBackupCommon","FBLogger","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","QPLUserFlow","getErrorSafe","promiseDone","vestaBackupSecretRestore"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e.addDevice,n=e.clientID,a=e.environment,i=e.getSourceFromContext,l=e.onSubmitPin,s=e.onSubmitPinFailure,u=e.onVestaSecretFetch,c=e.pinCode,d=e.productUseCase,m=e.setIsInProgress,p=e.setIsPinCodeIncorrect,_=e.setIsVestaError,f=e.startFlow;m(!0),l==null||l();var g=i();r("QPLUserFlow").addAnnotations(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code",source:g}});var h=new TextDecoder,y;f({additionalAnnotations:{device_type:"HSM"},event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH,source:g});try{r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_begin"),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SUBMIT"),y=h.decode(await r("vestaBackupSecretRestore")({environment:a,input:{clientId:n,productUseCase:d,vestaAccountPin:c}})),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_success")}catch(e){var C=r("getErrorSafe")(e),b=typeof e=="object"&&e!=null&&"errorType"in e&&typeof e.errorType=="string"?e.errorType:void 0;if(s==null||s(),r("promiseDone")(o("CometRelay").fetchQuery(a,r("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise()),b===o("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD)m(!1),p(!0),o("MWChatEncryptedBackupsLogging").endFailure({errorName:"incorrect_pin_code",event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:r("MWEBODSEntityKey.enum").INCORRECT_PIN_CODE,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),r("QPLUserFlow").markError(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"incorrect_pin_code");else{o("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorMessage:C.message,errorType:b}},errorName:"vesta_login_failure",event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),r("QPLUserFlow").markError(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error"),m(!1),_(!0);var v="Error when restoring using PIN: "+C.message;r("FBLogger")("wmi_eb").mustfix(v)}throw e}y!=null&&(u==null||u(),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_begin"),t(y,c))}l.default=e}),98);
__d("updateUpsellsStateInRelayStore",["CometRelay","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.environment,n=e.updateValue;o("CometRelay").commitLocalUpdate(t,function(e){var t=e.getRoot().getLinkedRecord("viewer");if(t==null){r("FBLogger")("wmi_eb").mustfix("[labyrinth][upsells] A viewer record does not exist when updating upsell state.");return}t.setValue(n,"is_eb_restore_upsells_dismissed")})}l.default=e}),98);
__d("useEncryptedBackupsQplImpressionRef",["QPLUserFlow","react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){var i=o("react-compiler-runtime").c(5),l;return i[0]!==a||i[1]!==e||i[2]!==n||i[3]!==t?(l={onVisible:function(){r("QPLUserFlow").addPoint(e,t,{instanceKey:n}),a==null||a()}},i[0]=a,i[1]=e,i[2]=n,i[3]=t,i[4]=l):l=i[4],r("useVisibilityObserver")(l)}l.default=e}),98);
__d("useMWChatEncryptedBackupsAddDevice",["EBMainThreadEBDBApiDeferred","EBSMAPI","FBLogger","getErrorSafe","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e=["onStart"],s,u=s||(s=o("react")),c=u.useCallback,d=u.useRef,m=u.useState,p=r("requireDeferred")("MAWEncryptedBackupsClearRecoveryCode").__setRef("useMWChatEncryptedBackupsAddDevice"),_=r("requireDeferred")("mwEBAddDevice").__setRef("useMWChatEncryptedBackupsAddDevice");function f(t){var n=o("react-compiler-runtime").c(12),a=t.environment,i=t.hsmFleetMigrationResetPIN,l=t.onComplete,s=t.onFailure,u=t.onInvalidRecoveryCode,c=t.onStart,f=m(!1),C=f[0],b=f[1],v;n[0]===Symbol.for("react.memo_cache_sentinel")?(v=function(){b(!1)},n[0]=v):v=n[0];var S=v,R=r("useAsyncReStore")(),L=d(""),E;n[1]!==R||n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==s||n[6]!==u||n[7]!==c?(E=async function(n,o){L.current=o||"";try{var t=await Promise.all([R,p.load(),_.load()]),d=t[0],m=t[1],f=t[2],C=m.encryptedBackupsClearRecoveryCode,v=f.EBAddDevice;await C(d);var E={onFailure:function(t){S(),s(t)},onInvalidRecoveryCode:function(){S(),u()},onStart:function(){b(!0),c==null||c()},onSuccess:function(){r("EBSMAPI").fetchBackupIds("useMWChatEncryptedBackupsAddDevice").catch(y),S(),l(),i&&L.current!==""&&i(L.current)},recoveryCode:n,storage:d};E.onStart();var k=E.onStart,I=babelHelpers.objectWithoutPropertiesLoose(E,e);await v(babelHelpers.extends({},I,{environment:a,trackAddingDevice:h,trackOverprompting:g}))}catch(e){var T=e,D=r("getErrorSafe")(T);r("FBLogger")("wmi_eb").tags(["pin_restore","add_device_error"]).catching(D).warn("Error in addDevice"),S(),s("add_device_error")}},n[1]=R,n[2]=a,n[3]=i,n[4]=l,n[5]=s,n[6]=u,n[7]=c,n[8]=E):E=n[8];var k=E,I;return n[9]!==C||n[10]!==k?(I=[k,C],n[9]=C,n[10]=k,n[11]=I):I=n[11],I}function g(e){return o("EBMainThreadEBDBApiDeferred").trackOverprompting(e)}function h(){return o("EBMainThreadEBDBApiDeferred").addNewDevice()}function y(e){var t=r("getErrorSafe")(e);r("FBLogger")("wmi_eb").tags(["pin_restore","fetch_backup_ids_error"]).catching(t).warn("Error in fetchBackupIds")}l.default=f}),98);
__d("useMWChatEncryptedBackupsNumericCode",["fbt","FBLogger","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","MWLogInteraction","focusScopeQueries","getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError","gkx","promiseDone","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useRef,m=c.useState,p={confirmPin:s._(/*BTDS*/"Confirm your PIN"),otc:s._(/*BTDS*/"One-time code"),pin:s._(/*BTDS*/"PIN")};function _(e){var t=e.ariaDescribedBy,n=e.checkPreviouslyInsertedCode,a=e.clearInputOnComplete,i=a===void 0?!1:a,l=e.enableMasking,s=e.errorId,u=e.focusRegionId,c=e.inputSize,_=e.isMismatchError,f=e.onChange,g=e.onComplete,h=e.type,y=m(!1),C=y[0],b=y[1],v=m(!0),S=v[0],R=v[1],L=m(""),E=L[0],k=L[1],I=m(null),T=I[0],D=I[1],x=d(!1),$=function(t){D(null),R(!t)},P=async function(t){if(o("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(t,c)){if(x.current&&(r("FBLogger")("wmi_eb").info("onPinCodeSetup already executing, allowing duplicate call for observation"),r("gkx")("19490")))return;if(x.current=!0,o("MWLogInteraction").logPopoverOpenCancel("initiate_restore"),n!=null){var e=n.onCodeMismatch,a=n.previouslyInsertedCode,l=a===t;if(!l){x.current=!1,e();return}}R(!0),b(!0);try{await g(t),i&&k("")}catch(e){k("")}finally{b(!1),x.current=!1}}},N=n!=null&&h==="pin"?"confirmPin":h,M=r("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError")(T,h),w=s!=null&&_===!0;return[{"aria-describedby":w?s:t,"aria-label":p[N],disabled:C,enableMasking:l,focusRegionId:u,isError:w,onChange:function(t){var e=function(){o("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(t,c)&&(k(t),D(null),f==null||f(t),r("promiseDone")(P(t)))};e()},onCompletionChange:$,onEnabledNumLock:function(){T===o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&D(null)},onPressedInvalidKey:function(t){(t===o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR||t===o("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK)&&D(t)},size:c,value:E},{clearNumericInput:function(){return k("")},disabled:S,focusOnInput:function(){o("FocusRegion.react").focusRegionById(u,o("focusScopeQueries").tabbableScopeQuery)},invalidKeyPressedError:M,isLoading:C}]}l.useMWChatEncryptedBackupsNumericCode=_}),226);
__d("useMWEBFlowSourceContext",["FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(){var e=o("react-compiler-runtime").c(2),t=c(r("MWEBFlowSourceContext")),n=t.source,a;return e[0]!==n?(a=function(){return n==null?(r("FBLogger")("wmi_eb").mustfix("[labyrinth][web] source is null. Did you wrap your flow with MWEBFlowSourceContextProvider?"),r("MWChatEncryptedBackupsQPLSource.enum").UNKNOWN):n},e[0]=n,e[1]=a):a=e[1],a}l.default=d}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGatingUI","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useRef,_=u.useState,f=r("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),g=r("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),h=r("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),y=r("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),C=r("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function b(t){var n=o("react-compiler-runtime").c(47),a=t.clientID,i=t.focusRegionId,l=t.onSubmitPin,s=t.onSubmitPinFailure,u=t.onVestaComplete,c=o("CometRelay").useRelayEnvironment(),b=_(!1),S=b[0],R=b[1],L=_(!1),E=L[0],k=L[1],I=_(!1),T=I[0],D=I[1],x=p(!1),$=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),P=$.startFlow,N=(e||(e=r("useReStore")))(),M=r("useMWEBFlowSourceContext")(),w=_(!1),A=w[0],F=w[1],O=d(r("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted,B;n[0]!==N||n[1]!==c||n[2]!==P?(B=function(t){r("promiseDone")(C.load().then(function(e){e({db:N,environment:c,pinCode:t,startFlow:P})}))},n[0]=N,n[1]=c,n[2]=P,n[3]=B):B=n[3];var W=B,q;n[4]!==N||n[5]!==c||n[6]!==u?(q=function(){var e;r("QPLUserFlow").addPoint((e=o("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success"),r("QPLUserFlow").addPoint(e.restoreQplEvent,"restore_auth_finished_and_dismissed"),g.onReady(function(e){var t=e.upsertEBSharedStateEntry;r("promiseDone")(t({db:N,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))}),f.onReady(v),o("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:o("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:e.restoreQplEvent}),o("MWChatEncryptedBackupsLogging").endSuccess({event:e.restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),u(),F(!1),r("promiseDone")(y.load(),function(e){e({environment:c,updateValue:o("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})})},n[4]=N,n[5]=c,n[6]=u,n[7]=q):q=n[7];var U=q,V;n[8]!==c||n[9]!==s||n[10]!==O?(V=function(t){s==null||s(),x.current=!0,k(!0),F(!1),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,t),o("MWChatEncryptedBackupsLogging").endFailure({errorName:t,event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),r("promiseDone")(y.load(),function(e){e({environment:c,updateValue:o("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),O==null||O(!1)},n[8]=c,n[9]=s,n[10]=O,n[11]=V):V=n[11];var H=V,G;n[12]!==c||n[13]!==s||n[14]!==O?(G=function(){s==null||s(),x.current=!0,k(!0),F(!1),o("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),r("promiseDone")(y.load(),function(e){e({environment:c,updateValue:o("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),O==null||O(!1)},n[12]=c,n[13]=s,n[14]=O,n[15]=G):G=n[15];var z=G,j;n[16]!==c||n[17]!==W||n[18]!==U||n[19]!==H||n[20]!==z?(j={environment:c,hsmFleetMigrationResetPIN:W,onComplete:U,onFailure:H,onInvalidRecoveryCode:z},n[16]=c,n[17]=W,n[18]=U,n[19]=H,n[20]=z,n[21]=j):j=n[21];var K=r("useMWChatEncryptedBackupsAddDevice")(j),Q=K[0],X;n[22]===Symbol.for("react.memo_cache_sentinel")?(X=function(){k(!1),D(!1),R(!1)},n[22]=X):X=n[22];var Y;n[23]!==Q||n[24]!==a||n[25]!==c||n[26]!==M||n[27]!==l||n[28]!==s||n[29]!==O||n[30]!==P?(Y=async function(t){var e=await h.load();await e({addDevice:Q,clientID:a,environment:c,getSourceFromContext:M,onSubmitPin:l,onSubmitPinFailure:s,onVestaSecretFetch:function(){O==null||O(!0)},pinCode:t,productUseCase:"MSGR_ENC_BACKUP",setIsInProgress:F,setIsPinCodeIncorrect:R,setIsVestaError:D,startFlow:P})},n[23]=Q,n[24]=a,n[25]=c,n[26]=M,n[27]=l,n[28]=s,n[29]=O,n[30]=P,n[31]=Y):Y=n[31];var J;n[32]!==i||n[33]!==Y?(J={enableMasking:!0,focusRegionId:i,inputSize:o("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:X,onComplete:Y,type:"pin"},n[32]=i,n[33]=Y,n[34]=J):J=n[34];var Z=o("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(J),ee=Z[0],te=Z[1],ne=te.clearNumericInput,re=te.disabled,oe=te.focusOnInput,ae=te.invalidKeyPressedError,ie,le;n[35]!==ne?(ie=function(){x.current&&(ne(),x.current=!1)},le=[ne],n[35]=ne,n[36]=ie,n[37]=le):(ie=n[36],le=n[37]),m(ie,le);var se=re!=null?re:!1,ue;return n[38]!==oe||n[39]!==ee||n[40]!==ae||n[41]!==A||n[42]!==E||n[43]!==S||n[44]!==T||n[45]!==se?(ue={focusOnInput:oe,inputProps:ee,invalidKeyPressedError:ae,isDisabled:se,isInProgress:A,isLabyrinthError:E,isPinCodeIncorrect:S,isVestaError:T},n[38]=oe,n[39]=ee,n[40]=ae,n[41]=A,n[42]=E,n[43]=S,n[44]=T,n[45]=se,n[46]=ue):ue=n[46],ue}function v(e){var t=e.mwEBCreateLocalStorageEntry,n=e.mwEBDeleteLocalStorageEntry;t(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION),t(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2),n(r("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}l.useMWChatEncryptedBackupsPinCodeRestore=b}),98);
__d("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9618790408209960"}),null);
__d("useMWEBSetHasSeenNoticeMutation.graphql",["useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"SetHasSeenEbAutoRestoreNoticeResponsePayload",kind:"LinkedField",name:"set_has_seen_eb_auto_restore_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBSetHasSeenNoticeMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBSetHasSeenNoticeMutation",selections:e},params:{id:n("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"),metadata:{},name:"useMWEBSetHasSeenNoticeMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useMWEBSetHasSeenNotice",["CometRelay","react","react-compiler-runtime","useMWEBSetHasSeenNoticeMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(3),r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=e!==void 0?e:e=n("useMWEBSetHasSeenNoticeMutation.graphql"),t[0]=r):r=t[0];var a=o("CometRelay").useMutation(r),i=a[0],l;return t[1]!==i?(l=function(){i({variables:{}})},t[1]=i,t[2]=l):l=t[2],l}l.default=c}),98);/*FB_PKG_DELIM*/
__d("BizKitScopingContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({assets:[],businessUnifiedMultiAssetScopingSelectorQueryReference:null,globalScope:null,setAssets:r("emptyFunction"),setGlobalScope:r("emptyFunction")});u.displayName="BizKitScopingContext";var c=u;l.default=c}),98);
__d("BusinessAssetTypeEnum.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["ADS_EVENT_SOURCE","ADVANCED_ANALYTICS_INSTANCE","AD_ACCOUNT","AD_ACCOUNT_CREATION_REQUEST","AD_DRAFT_WORKSPACE","AD_IMAGE","AD_STUDY","APP","BANK","BIZ_AI_BILLABLE_ACCOUNT","BLOCK_LIST","BRAND","BUSINESS_CREATIVE_ASSET","BUSINESS_CREATIVE_FOLDER","BUSINESS_FRANCHISE_CONFIG","BUSINESS_IMAGE","BUSINESS_LOCATIONS_WRAPPER","BUSINESS_LOYALTY_PROGRAM","BUSINESS_PAYOUT_ACCOUNT","BUSINESS_PERSON","BUSINESS_REQUEST","BUSINESS_RESOURCE_GROUP","BUSINESS_UNIT","BUSINESS_VIDEO","CAIPT_ASSET","CLOUD_PLAYABLE_ASSET","CONTENT_BLOCK_LIST","CREATOR_MARKETPLACE_BRAND_PROFILE","CREATOR_SELLER_PROFILE","CREDENTIAL_SHARE_REQUEST","CREDIT_CARD","CREDIT_PARTITION","CREDIT_PARTITION_CONFIG","CUSTOM_AUDIENCE","CUSTOM_CONVERSION","DYNAMIC_CONTENT_SET","EVENTS_DATASET","EVENTS_DATASET_AND_PIXEL","EVENTS_DATASET_NEW","EVENT_SOURCE_GROUP","EXAMPLE_CAT","FINANCE","FUNDING_SOURCE","GRP_PLAN","HOTEL_PRICE_FETCHER_PULL_CONFIG","INSTAGRAM_ACCOUNT","INSTAGRAM_ACCOUNT_V2","INSTAGRAM_BUSINESS_ASSET","IP","LEADS_ACCESS","LEGACY_LOGIN","LEGAL_ENTITY","MARKETPLACE_PARTNER_BILLABLE_ACCOUNT","MESSAGING_DATASET","MONETIZATION_PROPERTY","MV4B_BILLABLE_ACCOUNT","NEWS_PAGE","NME_BUSINESS_SUBSCRIPTION_ASSET","OFFLINE_CONVERSION_DATA_SET","OFFSITE_EMAIL_ACCOUNT","OWNED_DOMAIN","PAGE","PAGE_FOR_LOCATIONS","PAYOUT_ACCOUNT","PHOTO","PIXEL","PLACE_PAGE_SET","PLATFORM_CUSTOM_AUDIENCE","PRODUCT_CATALOG","PROFILE_PLUS","PROJECT","PUBLISHER_WHITE_LIST","RECEIPT","REGISTERED_TRADEMARK","RESELLER_VETTING_OE_REQUEST","SAVED_AUDIENCE","SELLER_PROFILE","SIGNALS_EVENT_NAME","SIGNAL_SEGMENT","SLICED_EVENT_SOURCE_GROUP","SPACO_DS_DATA_COLLECTION","SYSTEM_USER","THREADS_ACCOUNT","UNKNOWN","USER","VIDEO_ASSET","WHATSAPP_BUSINESS_ACCOUNT","WHATSAPP_BUSINESS_PRESENCE","WHATSAPP_MARKETING_MESSAGE_SUBSCRIBER_POOL"]),l=e;i.default=l}),66);
__d("FBNucleusMinusCircleOutline20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M13.25 10.75a.75.75 0 0 0 0-1.5h-6.5a.75.75 0 0 0 0 1.5h6.5z"}),s.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticRemoveThread"),a.threadKey,a.removeType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSThreadRemoveType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1,IGNORE_THREAD:2});i.default=e}),66);
__d("MDSTextConfig",["UserAgent","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}},s={disabledButton:{color:"x1x80s81",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0}},u={blueLink:{color:"x15k1xyk",$$css:!0},disabled:{color:"xc7hbz8",$$css:!0},highlight:{color:"x16uf79r",$$css:!0},negative:{color:"x1unwjcu",$$css:!0},positive:{color:"xxmynsg",$$css:!0},primary:{color:"xw2npq5",$$css:!0},primaryOnMedia:{color:"x8w7gz1",$$css:!0},secondary:{color:"xhgddhk",$$css:!0},secondaryOnMedia:{color:"xzutexd",$$css:!0},tertiary:{color:"xerl464",$$css:!0},white:{color:"xnba3h0",$$css:!0}},c={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},default:{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},d={default:function(t){switch(t){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(t){switch(t){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(t){switch(t){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(t){switch(t){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}},m=(function(){return r("UserAgent").isPlatform("Windows >= 6")?[c.segoe,d.segoe]:r("UserAgent").isPlatform("Mac OS X >= 10.11")&&!r("UserAgent").isBrowser("Firefox < 55")||r("UserAgent").isPlatform("iOS >= 9")?[c.apple,r("UserAgent").isEngine("Gecko")?d.sfGecko:d.sfWebkit]:[c.default,d.default]})(),p=m[0],_=m[1],f={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}},g=r("gkx")("5751"),h={colors:{blueLink:g?u.blueLink:e.blueLink,disabled:g?u.disabled:e.disabled,disabledButton:s.disabledButton,highlight:g?u.highlight:e.highlight,negative:g?u.negative:e.negative,positive:g?u.positive:e.positive,primary:g?u.primary:e.primary,primaryButton:s.primaryButton,primaryDeemphasizedButton:s.primaryDeemphasizedButton,primaryOnMedia:g?u.primaryOnMedia:void 0,secondary:g?u.secondary:e.secondary,secondaryButton:s.secondaryButton,secondaryOnMedia:g?u.secondaryOnMedia:e.secondaryOnMedia,tertiary:g?u.tertiary:e.tertiary,white:g?u.white:e.white},defaultFontFamily:p,offsets:_,styles:{body1:{lineHeight:24,style:f.body1},body2:{lineHeight:20,style:f.body2},body3:{lineHeight:19.9995,style:f.body3},body4:{lineHeight:16,style:f.body4},bodyLink1:{lineHeight:24,style:f.bodyLink1},bodyLink2:{lineHeight:20,style:f.bodyLink2},bodyLink3:{lineHeight:19.9995,style:f.bodyLink3},bodyLink4:{lineHeight:16,style:f.bodyLink4},button1:{lineHeight:20,style:f.button1},button2:{lineHeight:19.9995,style:f.button2},entityHeaderHeadline1:{lineHeight:38,style:f.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:f.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:f.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:f.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:f.entityHeaderMeta3},headline3:{lineHeight:20,style:f.headline3},headline4:{lineHeight:19.9995,style:f.headline4},headlineEmphasized1:{lineHeight:28,style:f.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:f.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:f.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:f.headlineEmphasized5},meta1:{lineHeight:16,style:f.meta1},meta2:{lineHeight:16,style:f.meta2},meta3:{lineHeight:16,style:f.meta3},meta4:{lineHeight:15,style:f.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:f.body2ForDenseMode},body3:{lineHeight:20,style:f.body3ForDenseMode},body4:{lineHeight:16,style:f.body4ForDenseMode},bodyLink2:{lineHeight:20,style:f.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:f.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:f.bodyLink4ForDenseMode},button1:{lineHeight:18,style:f.button1ForDenseMode},button2:{lineHeight:18,style:f.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:f.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:f.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:f.headline3ForDenseMode},headline4:{lineHeight:20,style:f.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:f.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:f.meta1ForDenseMode},meta2:{lineHeight:14,style:f.meta2ForDenseMode},meta3:{lineHeight:14,style:f.meta3ForDenseMode},meta4:{lineHeight:15,style:f.meta4ForDenseMode}}},y=h;l.default=y}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){}var u=(e=n("cr:2099"))!=null?e:{useTranslationKeyForTextParent:s},c=u.useTranslationKeyForTextParent;function d(){return c()}l.default=d}),98);
__d("MDSTextImpl.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","JSResourceForInteraction","MDSTextConfig","react","react-compiler-runtime","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=r("JSResourceForInteraction")("MDSTooltipImpl.react").__setRef("MDSTextImpl.react"),p=o("BaseText.react").createBaseTextComponent(r("MDSTextConfig"),m),_={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},f={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function g(e,t){var n;return t&&(n=f[e])!=null?n:e}var h=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];function y(e){var t=o("react-compiler-runtime").c(25),n=e.ref,a=e.align,i=e.children,l=e.color,u=e.dir,d=e.id,m=e.isPrimaryHeading,f=e.isSemanticHeading,y=e.numberOfLines,C=e.showTruncationTooltip,b=e.testid,v=e.truncationTooltip,S=e.type,R=a===void 0?"auto":a,L=u===void 0?"auto":u,E=m===void 0?!1:m,k=f===void 0?!1:f,I=C===void 0?!0:C,T=h.includes(S)?"secondary":"primary",D=l!=null?l:T,x=S==="button1"||S==="button2",$;t[0]!==D||t[1]!==x?($=g(D,x),t[0]=D,t[1]=x,t[2]=$):$=t[2];var P=$,N=r("useXPlatReactTranslationKeyForTextParent")(),M=o("BaseTextContext").useBaseTextContext(),w=c(r("CometDensityModeContext")),A=w[0],F=(M==null?void 0:M.nested)===!0,O=R!=null?R:void 0,B=F?void 0:L,W=y||0,q;t[3]!==n?(q=o("xplatToDOMRef").xplatToDOMRef(n),t[3]=n,t[4]=q):q=t[4];var U;t[5]!==i||t[6]!==I||t[7]!==v?(U=I?{tooltip:v!=null?v:i}:void 0,t[5]=i,t[6]=I,t[7]=v,t[8]=U):U=t[8];var V;t[9]!==i||t[10]!==P||t[11]!==d||t[12]!==A||t[13]!==N||t[14]!==B||t[15]!==W||t[16]!==q||t[17]!==U||t[18]!==O||t[19]!==b||t[20]!==S?(V=s.jsx(p,{alignment:O,colorName:P,dir:B,id:d,isDenseModeEnabled:A,lines:W,ref:q,styleName:S,testid:void 0,truncationTooltip:U,xstyle:_.text,children:i},N),t[9]=i,t[10]=P,t[11]=d,t[12]=A,t[13]=N,t[14]=B,t[15]=W,t[16]=q,t[17]=U,t[18]=O,t[19]=b,t[20]=S,t[21]=V):V=t[21];var H=V;if(k||E){var G;return t[22]!==E||t[23]!==H?(G=s.jsx(r("BaseHeading.react"),{isPrimaryHeading:E,xstyle:_.heading,children:H}),t[22]=E,t[23]=H,t[24]=G):G=t[24],G}return H}y.displayName="MDSText",l.default=y}),98);
__d("MDSText.react",["MDSTextImpl.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("MDSTextImpl.react"),babelHelpers.extends({ref:i},a)),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=c}),98);
__d("MDSButtonImpl.react",["BaseStyledButton.react","BaseTheme.react","CometContainerPressableContext","FDSIcon.react","MDSText.react","emptyFunction","gkx","mergeRefs","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["addOnStart","disabled","icon","isContainerTarget","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useEffect,_=d.useRef,f={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"x1f3278h",$$css:!0},secondaryDeemphasized_DEPRECATED:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x1fgtraw",$$css:!0}},g={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},h={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},y={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function C(e){switch(e){case"secondary":return y;case"destructive":case"primary":default:return h}}function b(e,t){var n=t.disabled,r=t.reduceEmphasis,o=C(e);return(n?o[":disabled"]:null)||(r?o[":deemphasized"]:null)||o}function v(t){var n,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.addOnStart,l=a.disabled,u=l===void 0?!1:l,d=a.icon,h=a.isContainerTarget,y=h===void 0?!1:h,C=a.label,v=a.labelIsHidden,S=v===void 0?!1:v,R=a.linkProps,L=a.onFocusIn,E=a.onFocusOut,k=a.onHoverIn,I=a.onHoverOut,T=a.onPress,D=a.onPressIn,x=a.onPressOut,$=a.padding,P=$===void 0?"normal":$,N=a.reduceEmphasis,M=N===void 0?!1:N,w=a.size,A=w===void 0?32:w,F=a.suppressHydrationWarning,O=F===void 0?!1:F,B=a.testid,W=a.type,q=W===void 0?"primary":W,U=babelHelpers.objectWithoutPropertiesLoose(a,s),V=b(q,{disabled:u,reduceEmphasis:M}),H=V.iconColor,G=V.textColor,z=_(null),j=_(null),K=m(r("CometContainerPressableContext"));return p(function(){y&&K&&K.onMount({onContextMenu:r("emptyFunction"),onPress:function(t){var e=z.current;e&&e.click()},target:R==null?void 0:R.target,url:R==null?void 0:R.url},j)},[K,y,R==null?void 0:R.url,R==null?void 0:R.target]),c.jsx(r("BaseTheme.react"),{config:r("gkx")("5751")?void 0:g,style:{width:"100%"},children:c.jsx(r("BaseStyledButton.react"),babelHelpers.extends({},U,{addOnStart:i,"aria-label":(n=U["aria-label"])!=null?n:C,content:S?null:c.jsx(r("MDSText.react"),{color:G,numberOfLines:1,type:"button2",children:C}),contentXstyle:[A===28&&f.sizeSmall,A===32&&f.sizeMedium,A===36&&f.sizeLarge],disabled:u,icon:d==null?null:c.jsx(r("FDSIcon.react"),{color:H,icon:d,size:24}),linkProps:R,onFocusIn:L,onFocusOut:E,onHoverIn:k,onHoverOut:I,onPress:T,onPressIn:D,onPressOut:x,padding:P,ref:r("mergeRefs")(z,o),suppressHydrationWarning:O,testid:void 0,xstyle:[q==="primary"&&f.primary,q==="secondary"&&f.secondary,q==="destructive"&&f.destructive,q==="secondary"&&M?r("gkx")("5751")?f.secondaryDeemphasized:f.secondaryDeemphasized_DEPRECATED:null,q==="primary"&&M&&f.primaryDeemphasized,u&&f.disabled]}))})}v.displayName=v.name+" [from "+i.id+"]",l.default=v}),98);
__d("MDSButton.react",["MDSButtonImpl.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("MDSButtonImpl.react"),babelHelpers.extends({ref:a},i)),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=c}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useMemo,p={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},_={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},f={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},g={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(43),a,i,l,s,c,m,h,y,C,b,v,S;n[0]!==t?(s=t.ref,c=t.align,a=t.children,m=t.expanding,h=t.hasDividers,y=t.paddingHorizontal,i=t.paddingTop,C=t.paddingVertical,b=t.spacing,v=t.verticalAlign,S=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=h,n[8]=y,n[9]=C,n[10]=b,n[11]=v,n[12]=S):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],h=n[7],y=n[8],C=n[9],b=n[10],v=n[11],S=n[12]);var L=c===void 0?null:c,E=m===void 0?!1:m,k=h===void 0?!1:h,I=y===void 0?null:y,T=C===void 0?0:C,D=b===void 0?null:b,x=v===void 0?"top":v,$=d(r("MDSColumnContext")),P;n[13]!==L||n[14]!==k||n[15]!==I||n[16]!==D?(P={align:L,hasDividers:k,paddingHorizontal:I,spacing:D},n[13]=L,n[14]=k,n[15]=I,n[16]=D,n[17]=P):P=n[17];var N=P,M;n[18]!==E?(M=E===!0&&[p.expanding,r("isIE11OrGreater")&&p.expandingIE11],n[18]=E,n[19]=M):M=n[19];var w=f[T],A=i!=null&&_[i],F;n[20]!==w||n[21]!==A||n[22]!==M||n[23]!==S?(F=[p.root,M,w,A,S],n[20]=w,n[21]=A,n[22]=M,n[23]=S,n[24]=F):F=n[24];var O=x!=="top"&&g[x],B;n[25]!==O?(B=[p.inner,O],n[25]=O,n[26]=B):B=n[26];var W;n[27]!==a?(W=R(a),n[27]=a,n[28]=W):W=n[28];var q;n[29]!==N||n[30]!==W?(q=u.jsx(r("MDSColumnContext").Provider,{value:N,children:W}),n[29]=N,n[30]=W,n[31]=q):q=n[31];var U;n[32]!==B||n[33]!==q?(U=u.jsx(r("BaseView.react"),{xstyle:B,children:q}),n[32]=B,n[33]=q,n[34]=U):U=n[34];var V;n[35]!==l||n[36]!==s||n[37]!==F||n[38]!==U?(V=u.jsx(r("BaseView.react"),babelHelpers.extends({},l,{ref:s,xstyle:F,children:U})),n[35]=l,n[36]=s,n[37]=F,n[38]=U,n[39]=V):V=n[39];var H=V;if($!=null){var G=E!=null?E:void 0,z;return n[40]!==H||n[41]!==G?(z=u.jsx(r("MDSColumnItem.react"),{expanding:G,children:H}),n[40]=H,n[41]=G,n[42]=z):z=n[42],z}return H}var y=h,C={isFirst:!0,isLast:!1},b={isFirst:!1,isLast:!0},v={isFirst:!0,isLast:!0},S={isFirst:!1,isLast:!1};function R(e){return u.Children.toArray(e).map(function(e,t,n){var o=t===0,a=t===n.length-1,i=o&&a?v:o?C:a?b:S;return u.jsx(r("MDSColumnItemContext").Provider,{value:i,children:e},t)})}l.default=y}),98);
__d("MDSPressable.react",["CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["overlayRadius","ref"],s,u=s||(s=o("react")),c={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};function d(e){switch(e){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return}}function m(t){var n=o("react-compiler-runtime").c(10),a,i,l;n[0]!==t?(i=t.overlayRadius,l=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;n[4]!==i?(s=d(i),n[4]=i,n[5]=s):s=n[5];var m;return n[6]!==a||n[7]!==l||n[8]!==s?(m=u.jsx(r("CometPressable.react"),babelHelpers.extends({overlayFocusVisibleStyle:c.hover,overlayHoveredStyle:c.hover,overlayRadius:s,ref:l},a)),n[6]=a,n[7]=l,n[8]=s,n[9]=m):m=n[9],m}l.default=m}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9685249484907022"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:t},params:{id:n("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,o,a){return new(s||(s=n("Promise")))(function(i,l){var s,u,c,d,m,p,_,f,g,h,y;n("cr:1012418").commitMutation(t,{mutation:e!==void 0?e:e=n("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(t){var e,n,r,o,a=t==null||(e=t.create_video_meetup_link)==null||(e=e.meetup_link)==null?void 0:e.is_audio_only,s=t==null||(n=t.create_video_meetup_link)==null||(n=n.meetup_link)==null?void 0:n.link_url,u=t==null||(r=t.create_video_meetup_link)==null||(r=r.meetup_link)==null?void 0:r.link_hash,c=t==null||(o=t.create_video_meetup_link)==null||(o=o.meetup_link)==null?void 0:o.id;return s!=null&&u!=null&&a!=null?i({isAudioOnly:a,linkHash:u,linkId:c,linkUrl:s}):l({error:"Failed to create linkurl."})},onError:function(t){l(t)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:a,link_options:{availability_settings_options:(o==null?void 0:o.linkSurface)==="MESSENGER_V2"?{join_permission:o==null?void 0:o.joinPermission,visibility_mode:(s=o==null?void 0:o.visibilityMode)!=null?s:"NONE"}:void 0,chat_mode:(u=o==null?void 0:o.chatMode)!=null?u:null,is_audio_only:(c=o==null?void 0:o.isAudioOnly)!=null?c:null,is_live_enabled:(d=o==null?void 0:o.isLiveEnabled)!=null?d:null,is_room_join_requestable:(m=o==null?void 0:o.joinRequestable)!=null?m:null,link_surface:(p=o==null?void 0:o.linkSurface)!=null?p:r("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(_=o==null?void 0:o.revocationBehavior)!=null?_:null,should_allow_anonymous_guests:(f=o==null?void 0:o.allowAnonymousGuests)!=null?f:!0,supports_pages:(g=o==null?void 0:o.supportsPages)!=null?g:!1,supports_profile_plus:(h=o==null?void 0:o.supportsProfilePlus)!=null?h:!1,visibility_mode:(o==null?void 0:o.linkSurface)==="MESSENGER_V2"?void 0:(y=o==null?void 0:o.visibilityMode)!=null?y:"NONE"}}}})})}l.default=u}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("ConstUriUtils").getUri(e),r=n==null?void 0:n.getDomain(),a=n==null||(t=n.stripTrailingSlash())==null?void 0:t.getPath();if(a==null)return null;if(r==="msngr.com")return a.substring(1);var i=/^\/v(id)?\//;if(r==="m.me"&&i.test(a))return a.replace(i,"");var l=/^\/groupcall\/LINK:/;return l.test(a)?a.replace(l,""):null}l.getRoomsLinkHash=e}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0),s=e;l.default=s}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(t,n,r,o,a,i,l){"use strict";function e(){return String(o("Random").uint32()+1)}l.generateZenonClientSessionID=e}),98);
__d("ZenonCallWindowErrors",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonOpeningAnotherCallError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),l=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonConferenceNameMutationFailedError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),s=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonIncompleteControllerParamsError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonUnsupportedThreadTypeError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),c=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonCannotAcceptInviteError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonInviteNotFoundError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),m=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="ZenonUninitializedError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.OpeningAnotherCallError=e,i.ConferenceNameMutationFailedError=l,i.IncompleteControllerParamsError=s,i.UnsupportedThreadTypeError=u,i.CannotAcceptInviteError=c,i.InviteNotFoundError=d,i.UninitializedError=m}),66);
__d("ZenonPeerID",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";var e="MW_PEER_ID";function u(t){return t.length>0||s(0,33504),t==="MW_PEER_ID"?e:(isNaN(t)===!1||s(0,33551,t),t)}function c(t){return isNaN(t)||t===e?null:t}l.ZenonMWPeerID=e,l.convertStringToPeerID=u,l.convertPeerIDForLogging=c}),98);
__d("randomZenonNonce",["Random"],(function(t,n,r,o,a,i,l){"use strict";var e=2,s=6,u=36,c=2176782336;function d(){for(var t="",n=0;n<e;n++){for(var r=Math.floor(o("Random").random()*c).toString(u);r.length<s;)r="0"+r;t+=r}return t}l.default=d}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","getErrorSafe","gkx","nullthrows","randomZenonNonce"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){if(e===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;var n=e.callInviteModel,a=e.callWindowController,i=n.getCurrentInvite();if(i===null)throw new(o("ZenonCallWindowErrors")).InviteNotFoundError;if(i.type!=="ringing"||i.context.type!=="thread")throw new(o("ZenonCallWindowErrors")).CannotAcceptInviteError;var l=r("randomZenonNonce")(),s=i.context.thread,u=a.initCall({context:{controllerParams:i.controllerParams,intent:"accept invite"},hideE2eeAttributions:t,isE2eeMandated:i.isE2eeMandated,joinContext:{thread:s!=null?s:{id:"0",type:2},type:"thread"},mediaType:i.requestingVideo?"video":"audio",nonce:l,representedID:i.receiverUserId}),c=u[0],d=u[1];n.accept(l,{isPopupBlocked:c===null}),await d}async function s(e,t,n,a,i,l){if(l===void 0&&(l={allowAnonymousGuests:!r("gkx")("20836")}),e===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;p(i,n,a).setEvent("meetup_attempt_create_meetup").log();try{var s=await r("MessengerCreateVideoMeetupLinkMutation")(t,l,i),u=s.linkUrl;return u!=null?(p(i,n,a).setEvent("meetup_create_success").setVideoCallLinkURLRaw(u).log(),u):(p(i,n,a).setEvent("meetup_create_failed").log(),u)}catch(e){var c=r("getErrorSafe")(e);throw p(i,n,a).setEvent("meetup_create_failed").log(),p(i,n,a).setEvent("error").setErrorType("LinkCreationError "+c.name).setErrorDetails(c.message).log(),c}}async function u(e){var t=e.actorID,n=e.callback_users,a=e.context,i=e.forceSkipChildLobby,l=i===void 0?!1:i,s=e.funnelSessionID,u=s===void 0?null:s,c=e.hasVideo,p=c===void 0?!0:c,_=e.linkUrl,f=e.referrerContext,g=f===void 0?null:f,h=e.skipLinkUrlRewrite,y=h===void 0?!1:h,C=e.startCallImmediately,b=C===void 0?!1:C,v=e.trigger;if(a===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;var S=a.callWindowController,R=a.incomingRingSDK,L=r("randomZenonNonce")(),E=o("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),k=_;if(!y){var I,T=(I=o("ConstUriUtils").getUri(_))==null?void 0:I.getQueryParam("funnel_session_id"),D=d(_);k=m(D,b?L:null,n,T!=null?String(T):u,l,g,t,v,p)}if(k==null)return Promise.reject("An invalid URI was provided");var x=S.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:E},joinContext:{linkUrl:k,type:"link"},mediaType:"video",nonce:L,representedID:o("ZenonActorHooks").ZenonActor.getID()}),$=x[0],P=x[1];R.startCallIntent(L,{callTrigger:v!=null?v:"meetup_join",isE2eeMandated:!1,isPopupBlocked:$===null,isVideo:p,peerID:o("ZenonPeerID").ZenonMWPeerID,protocol:r("ZenonSignalingProtocol").MW,signalingID:E}),await P}async function c(e,t){var n=t.existingCall,a=t.extra,i=t.hideE2eeAttributions,l=t.invitees,s=t.isE2eeMandated,u=t.mediaType,c=t.representedID,d=t.thread,m=t.trigger;if(e===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;var p=e.callWindowController,_=e.incomingRingSDK,f=o("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),g=r("randomZenonNonce")(),h=p.initCall({context:{existingCall:n,intent:"start or join",invitees:l,signalingID:f},extra:a,hideE2eeAttributions:i,isE2eeMandated:s,joinContext:{thread:d,type:"thread"},mediaType:u,nonce:g,representedID:c!=null?c:o("ZenonActorHooks").ZenonActor.getID()}),y=h[0],C=h[1];_.startCallIntent(g,{callTrigger:m,isE2eeMandated:s!=null?s:!1,isPopupBlocked:y===null,isVideo:u==="video",peerID:d.type===1?d.id:o("ZenonPeerID").ZenonMWPeerID,protocol:r("ZenonSignalingProtocol").MW,signalingID:f}),await C}function d(e){var t=o("RoomsLinkUtils").getRoomsLinkHash(e);return t==null&&r("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',e),t}function m(e,t,n,o,a,i,l,s,u){if(e==null)return"";var c={call_context:"LINK:"+e,call_trigger:s!=null?s:"",has_video:u,users_to_ring:n!=null?n:[]};return t!=null&&(c.nonce=t),o!=null&&(c.funnel_session_id=o),a===!0&&(c.auto_join=!0),i!=null&&(c.referrer_context=i),l!=null&&(c.av=l),r("nullthrows")(r("XGroupCallControllerRouteBuilder").buildUri(c).getQualifiedUri()).toString()}function p(e,t,n){return new(r("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(e).setSurface(t).setComponent(n)}l.acceptCall=e,l.createMeetup=s,l.joinMeetup=u,l.startCall=c}),98);
__d("useZenonCallInvite",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return e?e.getCurrentInvite():null},t[0]=e,t[1]=n):n=t[1];var r=c(n),a=r[0],i=r[1],l,s;return t[2]!==e?(l=function(){if(e){var t=e.addListener("callInvite",i);return(function(){t.remove()})}else i(null)},s=[e],t[2]=e,t[3]=l,t[4]=s):(l=t[3],s=t[4]),u(l,s),a}l.default=d}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","react-compiler-runtime","useZenonCallInvite"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext,m=u.useDebugValue,p=u.useEffect,_=6e4;function f(e){function t(t){var n=o("react-compiler-runtime").c(3),r=d(e),a;return n[0]!==r||n[1]!==t?(a=function(){return o("ZenonPreCallHookBuilderHelper").acceptCall(r,t)},n[0]=r,n[1]=t,n[2]=a):a=n[2],a}return t}function g(e){function t(){var t=d(e),n=r("useZenonCallInvite")(t?t.callInviteModel:null);return m(n),n}return t}function h(e,t){return function(n,a,i){function l(){var l=o("react-compiler-runtime").c(6),s=d(e),u=n(),c=a(),m=i(),p=t(),_;return l[0]!==s||l[1]!==u||l[2]!==c||l[3]!==m||l[4]!==p?(_=function(t){if(r("gkx")("24231")){var e=t.existingCall,n=t.thread;if(!s||!s.incomingRingSDK.isCallSupported({threadType:n.type,type:"thread"}))m(t);else e:switch(n.type){case 1:{r("promiseDone")(p(babelHelpers.extends({},t,{invitees:[n.id]})));break e}case 15:{if(n.secureOneToOneThreadPeerId==null)throw r("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");r("promiseDone")(p(babelHelpers.extends({},t,{invitees:[n.secureOneToOneThreadPeerId]})));break e}case 2:case 16:{e===null||e.call_state==="NO_ONGOING_CALL"?u(t,function(e){r("promiseDone")(p(babelHelpers.extends({},t,{invitees:e})))}):c(t,function(){r("promiseDone")(p(babelHelpers.extends({},t,{invitees:[]})))});break e}default:r("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",n.type)}}},l[0]=s,l[1]=u,l[2]=c,l[3]=m,l[4]=p,l[5]=_):_=l[5],_}return l}}function y(e,t){function n(){var n=o("react-compiler-runtime").c(4),r=d(e),a=t(),i,l;n[0]!==r||n[1]!==a?(i=function(){if(r&&a&&a.type==="ringing"){var e=window.setTimeout(function(){r.callInviteModel.decline("NoAnswerTimeout")},_);return(function(){window.clearTimeout(e)})}},l=[r,a],n[0]=r,n[1]=a,n[2]=i,n[3]=l):(i=n[2],l=n[3]),p(i,l)}return n}function C(t){function a(){var a=o("react-compiler-runtime").c(2),i=d(t),l;return a[0]!==i?(l=function(a){var t=a.existingCall,l=a.extra,s=a.hideE2eeAttributions,u=a.invitees,c=a.isE2eeMandated,d=a.mediaType,m=a.representedID,p=a.thread,_=a.trigger;return r("gkx")("24231")?o("ZenonPreCallHookBuilderHelper").startCall(i,{existingCall:t,extra:l,hideE2eeAttributions:s,invitees:u,isE2eeMandated:c,mediaType:d,representedID:m,thread:p,trigger:_}):(e||(e=n("Promise"))).resolve()},a[0]=i,a[1]=l):l=a[1],l}return a}function b(t){function a(){var a=o("react-compiler-runtime").c(3),i=d(t),l=o("CometRelay").useRelayEnvironment(),s;return a[0]!==i||a[1]!==l?(s=function(a,s,u,c){return r("gkx")("24231")?o("ZenonPreCallHookBuilderHelper").createMeetup(i,l,a,s,u,c):(e||(e=n("Promise"))).resolve(null)},a[0]=i,a[1]=l,a[2]=s):s=a[2],s}return a}function v(t){function a(){var a=o("react-compiler-runtime").c(2),i=d(t),l;return a[0]!==i?(l=function(a,l){var t=l===void 0?{}:l;if(!r("gkx")("24231"))return(e||(e=n("Promise"))).resolve();var s=t!=null?t:{},u=s.actorID,c=s.callbackUsers,d=s.mediaType,m=s.referrerContext,p=s.startCallImmediately,_=s.trigger;return o("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:u,callback_users:c,context:i,forceSkipChildLobby:!1,hasVideo:d!=null?d==="video":!0,linkUrl:a,referrerContext:m,startCallImmediately:p,trigger:_})},a[0]=i,a[1]=l):l=a[1],l}return a}l.createAcceptCallCallbackHook=f,l.createCallInviteHook=g,l.createInviteAndStartCallCallbackHookFactory=h,l.createNoAnswerTimeoutHook=y,l.createStartCallCallbackHook=C,l.createCreateMeetupCallbackHook=b,l.createJoinMeetupCallbackHook=v}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=o("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(e=r("RTWebPreCallContext")),c=s.createCallInviteHook(e),d=s.createNoAnswerTimeoutHook(e,c),m=s.createStartCallCallbackHook(e),p=s.createCreateMeetupCallbackHook(e),_=s.createJoinMeetupCallbackHook(e),f=s.createInviteAndStartCallCallbackHookFactory(e,m);l.useAcceptCallCallback=u,l.useCallInvite=c,l.useNoAnswerTimeout=d,l.useStartCallCallback=m,l.useCreateMeetupCallback=p,l.useJoinMeetupCallback=_,l.createInviteAndStartCallCallbackHook=f}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setCallEndReason=function(t){return this.$1.call_end_reason=t,this},t.setCallID=function(t){return this.$1.call_id=t,this},t.setCameraEnabled=function(t){return this.$1.camera_enabled=t,this},t.setClientAppVersion=function(t){return this.$1.client_app_version=t,this},t.setClientLockStatus=function(t){return this.$1.client_lock_status=t,this},t.setClientMonoTimeMs=function(t){return this.$1.client_mono_time_ms=t,this},t.setClienttime=function(t){return this.$1.clienttime=t,this},t.setComponent=function(t){return this.$1.component=t,this},t.setConferenceNameRaw=function(t){return this.$1.conference_name_raw=t,this},t.setCreationAction=function(t){return this.$1.creation_action=t,this},t.setErrorDetails=function(t){return this.$1.error_details=t,this},t.setErrorType=function(t){return this.$1.error_type=t,this},t.setEvent=function(t){return this.$1.event=t,this},t.setEventDetails=function(t){return this.$1.event_details=n("GeneratedLoggerUtils").serializeMap(t),this},t.setEventFireTimestamp=function(t){return this.$1.event_fire_timestamp=t,this},t.setEventFireTimestampOnClient=function(t){return this.$1.event_fire_timestamp_on_client=t,this},t.setExceptionObject=function(t){return this.$1.exception_object=t,this},t.setExperimentsEnabled=function(t){return this.$1.experiments_enabled=n("GeneratedLoggerUtils").serializeMap(t),this},t.setFalcoBatchSequence=function(t){return this.$1.falco_batch_sequence=t,this},t.setFunnelSessionIDRaw=function(t){return this.$1.funnel_session_id_raw=t,this},t.setGroupID=function(t){return this.$1.group_id=t,this},t.setGroupSize=function(t){return this.$1.group_size=t,this},t.setGuestUserID=function(t){return this.$1.guest_user_id=t,this},t.setKickedUserID=function(t){return this.$1.kicked_user_id=t,this},t.setLinkShareTo=function(t){return this.$1.link_share_to=t,this},t.setLocalCallID=function(t){return this.$1.local_call_id=t,this},t.setMediaDevices=function(t){return this.$1.media_devices=t,this},t.setMicrophoneEnabled=function(t){return this.$1.microphone_enabled=t,this},t.setOpenLinkFrom=function(t){return this.$1.open_link_from=t,this},t.setOpenLinkFromAppVersion=function(t){return this.$1.open_link_from_app_version=t,this},t.setReason=function(t){return this.$1.reason=t,this},t.setReferralSurface=function(t){return this.$1.referral_surface=t,this},t.setRoomIDRaw=function(t){return this.$1.room_id_raw=t,this},t.setServerInfoData=function(t){return this.$1.server_info_data=t,this},t.setSource=function(t){return this.$1.source=t,this},t.setStatus=function(t){return this.$1.status=t,this},t.setSurface=function(t){return this.$1.surface=t,this},t.setTargetedUserIds=function(t){return this.$1.targeted_user_ids=n("GeneratedLoggerUtils").serializeVector(t),this},t.setThreadSyncRoomData=function(t){return this.$1.thread_sync_room_data=n("GeneratedLoggerUtils").serializeMap(t),this},t.setThreadType=function(t){return this.$1.thread_type=t,this},t.setUserIdsToBeRemoved=function(t){return this.$1.user_ids_to_be_removed=n("GeneratedLoggerUtils").serializeVector(t),this},t.setVideoCallLinkHashRaw=function(t){return this.$1.video_call_link_hash_raw=t,this},t.setVideoCallLinkIDRaw=function(t){return this.$1.video_call_link_id_raw=t,this},t.setVideoCallLinkIdentifierRaw=function(t){return this.$1.video_call_link_identifier_raw=t,this},t.setVideoCallLinkURLRaw=function(t){return this.$1.video_call_link_url_raw=t,this},t.updateExtraData=function(t){var e=n("nullthrows")(n("GeneratedLoggerUtils").serializeMap(t));return n("GeneratedLoggerUtils").checkExtraDataFieldNames(e,l),this.$1=babelHelpers.extends({},this.$1,e),this},t.addToExtraData=function(t,n){var e={};return e[t]=n,this.updateExtraData(e)},e})(),l={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};i.default=e}),66);
__d("ZenonProductConnectFunnel",["FBLogger","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return Math.trunc((e||(e=r("performanceNow")))())},u=(function(){function e(){this.$6=null,this.$7=null,this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$8=new Map,this.$9=new Map}var t=e.prototype;return t.$10=function(t){var e=this.$8.get(t);if(e!=null)return e;e={acceptedTs:this.$3,connectedTs:null,connectingTs:null,contactingTs:null,endCallTs:null,permissionsReceivedTs:this.$5,permissionsRequestTs:this.$4,ringingTs:this.$2,triggeredTs:this.$1};var n={cameraPermission:this.$6,microphonePermission:this.$7};return this.clearPreJoinTimings(),this.$8.set(t,e),this.$9.set(t,n),e},t.$11=function(t,n){var e,o=t==null||(e=t.getLogIdentifiers())==null?void 0:e.clientSessionID;if(o==null){r("FBLogger")("rtc_www").warn("ProductConnectFunnel: could not record UI event due to missing signaling ID");return}var a=this.$10(o);a[n]==null&&(a[n]=s())},t.getTimings=function(t){return this.$8.get(t)},t.getPreJoinTimings=function(){return{acceptedTs:this.$3,ringingTs:this.$2,triggeredTs:this.$1}},t.clearPreJoinTimings=function(){this.$3=null,this.$2=null,this.$1=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null},t.setPreJoinTimings=function(t){this.$3=t.acceptedTs,this.$2=t.ringingTs,this.$1=t.triggeredTs},t.getAnnotations=function(t){return this.$9.get(t)},t.remove=function(t){this.clearPreJoinTimings(),this.$8.delete(t),this.$9.delete(t)},t.setUITriggered=function(){var e;(e=this.$1)!=null||(this.$1=s())},t.setUIPermissionsRequest=function(){var e=this;if(!(this.$4!=null||!navigator.permissions)){this.$4=s();var t=navigator.permissions;r("promiseDone")(t.query({name:"microphone"}).then(function(t){e.$7=t.state})),r("promiseDone")(t.query({name:"camera"}).then(function(t){e.$6=t.state}))}},t.setUIPermissionsReceived=function(){var e;this.$4!=null&&((e=this.$5)!=null||(this.$5=s()))},t.setUIAccepted=function(){var e;(e=this.$3)!=null||(this.$3=s())},t.setUIConnected=function(t){this.$11(t,"connectedTs")},t.setUIConnecting=function(t){this.$11(t,"connectingTs")},t.setUIRinging=function(){var e;(e=this.$2)!=null||(this.$2=s())},t.setUIContacting=function(t){this.$11(t,"contactingTs")},t.setUIEnded=function(t){this.$11(t,"endCallTs")},e})(),c=new u;l.default=c}),98);
__d("bs_caml_array",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=new Array(n),o=0,a=t;o<n;)r[o]=e[a],o=o+1|0,a=a+1|0;return r}function l(e,t){for(;;){var n=t,r=e;if(!n)return r;t=n.tl,e=n.hd.length+r|0}}function s(e,t,n){for(;;){var r=n,o=t;if(!r)return;for(var a=r.hd,i=a.length,l=o,s=0;s<i;)e[l]=a[s],l=l+1|0,s=s+1|0;n=r.tl,t=l}}function u(e){var t=l(0,e),n=new Array(t);return s(n,0,e),n}function c(e,t,n){if(t<0||t>=e.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error};e[t]=n}function d(e,t){if(t<0||t>=e.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error};return e[t]}function m(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function p(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function _(e,t,n,r,o){if(r<=t){for(var a=0;a<o;++a)n[a+r|0]=e[a+t|0];return}for(var i=o-1|0;i>=0;--i)n[i+r|0]=e[i+t|0]}function f(e){return e.slice(0)}i.dup=f,i.sub=e,i.concat=u,i.make=m,i.make_float=p,i.blit=_,i.get=d,i.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(t,n,r,o,a,i){"use strict";function e(t,r){for(;;){var o=r,a=t,i=a.length,l=i===0?1:i,s=o.length,u=l-s|0;if(u===0)return a.apply(null,o);if(u>=0)return(function(t,n){return function(r){return e(t,n.concat([r]))}})(a,o);r=n("bs_caml_array").sub(o,l,-u|0),t=a.apply(null,n("bs_caml_array").sub(o,0,l))}}function l(t,n){var r=t.length;if(r===1)return t(n);switch(r){case 1:return t(n);case 2:return function(e){return t(n,e)};case 3:return function(e,r){return t(n,e,r)};case 4:return function(e,r,o){return t(n,e,r,o)};case 5:return function(e,r,o,a){return t(n,e,r,o,a)};case 6:return function(e,r,o,a,i){return t(n,e,r,o,a,i)};case 7:return function(e,r,o,a,i,l){return t(n,e,r,o,a,i,l)};default:return e(t,[n])}}function s(e){var t=e.length;return t===1?e:function(t){return l(e,t)}}function u(t,n,r){var o=t.length;if(o===2)return t(n,r);switch(o){case 1:return e(t(n),[r]);case 2:return t(n,r);case 3:return function(e){return t(n,r,e)};case 4:return function(e,o){return t(n,r,e,o)};case 5:return function(e,o,a){return t(n,r,e,o,a)};case 6:return function(e,o,a,i){return t(n,r,e,o,a,i)};case 7:return function(e,o,a,i,l){return t(n,r,e,o,a,i,l)};default:return e(t,[n,r])}}function c(e){var t=e.length;return t===2?e:function(t,n){return u(e,t,n)}}function d(t,n,r,o){var a=t.length;if(a===3)return t(n,r,o);switch(a){case 1:return e(t(n),[r,o]);case 2:return e(t(n,r),[o]);case 3:return t(n,r,o);case 4:return function(e){return t(n,r,o,e)};case 5:return function(e,a){return t(n,r,o,e,a)};case 6:return function(e,a,i){return t(n,r,o,e,a,i)};case 7:return function(e,a,i,l){return t(n,r,o,e,a,i,l)};default:return e(t,[n,r,o])}}function m(e){var t=e.length;return t===3?e:function(t,n,r){return d(e,t,n,r)}}function p(t,n,r,o,a){var i=t.length;if(i===4)return t(n,r,o,a);switch(i){case 1:return e(t(n),[r,o,a]);case 2:return e(t(n,r),[o,a]);case 3:return e(t(n,r,o),[a]);case 4:return t(n,r,o,a);case 5:return function(e){return t(n,r,o,a,e)};case 6:return function(e,i){return t(n,r,o,a,e,i)};case 7:return function(e,i,l){return t(n,r,o,a,e,i,l)};default:return e(t,[n,r,o,a])}}function _(e){var t=e.length;return t===4?e:function(t,n,r,o){return p(e,t,n,r,o)}}function f(t,n,r,o,a,i){var l=t.length;if(l===5)return t(n,r,o,a,i);switch(l){case 1:return e(t(n),[r,o,a,i]);case 2:return e(t(n,r),[o,a,i]);case 3:return e(t(n,r,o),[a,i]);case 4:return e(t(n,r,o,a),[i]);case 5:return t(n,r,o,a,i);case 6:return function(e){return t(n,r,o,a,i,e)};case 7:return function(e,l){return t(n,r,o,a,i,e,l)};default:return e(t,[n,r,o,a,i])}}function g(e){var t=e.length;return t===5?e:function(t,n,r,o,a){return f(e,t,n,r,o,a)}}function h(t,n,r,o,a,i,l){var s=t.length;if(s===6)return t(n,r,o,a,i,l);switch(s){case 1:return e(t(n),[r,o,a,i,l]);case 2:return e(t(n,r),[o,a,i,l]);case 3:return e(t(n,r,o),[a,i,l]);case 4:return e(t(n,r,o,a),[i,l]);case 5:return e(t(n,r,o,a,i),[l]);case 6:return t(n,r,o,a,i,l);case 7:return function(e){return t(n,r,o,a,i,l,e)};default:return e(t,[n,r,o,a,i,l])}}function y(e){var t=e.length;return t===6?e:function(t,n,r,o,a,i){return h(e,t,n,r,o,a,i)}}function C(t,n,r,o,a,i,l,s){var u=t.length;if(u===7)return t(n,r,o,a,i,l,s);switch(u){case 1:return e(t(n),[r,o,a,i,l,s]);case 2:return e(t(n,r),[o,a,i,l,s]);case 3:return e(t(n,r,o),[a,i,l,s]);case 4:return e(t(n,r,o,a),[i,l,s]);case 5:return e(t(n,r,o,a,i),[l,s]);case 6:return e(t(n,r,o,a,i,l),[s]);case 7:return t(n,r,o,a,i,l,s);default:return e(t,[n,r,o,a,i,l,s])}}function b(e){var t=e.length;return t===7?e:function(t,n,r,o,a,i,l){return C(e,t,n,r,o,a,i,l)}}function v(t,n,r,o,a,i,l,s,u){var c=t.length;if(c===8)return t(n,r,o,a,i,l,s,u);switch(c){case 1:return e(t(n),[r,o,a,i,l,s,u]);case 2:return e(t(n,r),[o,a,i,l,s,u]);case 3:return e(t(n,r,o),[a,i,l,s,u]);case 4:return e(t(n,r,o,a),[i,l,s,u]);case 5:return e(t(n,r,o,a,i),[l,s,u]);case 6:return e(t(n,r,o,a,i,l),[s,u]);case 7:return e(t(n,r,o,a,i,l,s),[u]);default:return e(t,[n,r,o,a,i,l,s,u])}}function S(e){var t=e.length;return t===8?e:function(t,n,r,o,a,i,l,s){return v(e,t,n,r,o,a,i,l,s)}}i.app=e,i._1=l,i.__1=s,i._2=u,i.__2=c,i._3=d,i.__3=m,i._4=p,i.__4=_,i._5=f,i.__5=g,i._6=h,i.__6=y,i._7=C,i.__7=b,i._8=v,i.__8=S}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e!==void 0&&t(n("bs_caml_option").valFromOption(e)))return e}function l(t,r){return e(t,n("bs_curry").__1(r))}function s(e,t){if(e!==void 0)return t(n("bs_caml_option").valFromOption(e))}function u(e,t){return s(e,n("bs_curry").__1(t))}function c(e){if(e!==void 0)return n("bs_caml_option").valFromOption(e);throw{RE_EXN_ID:"Not_found",Error:new Error}}function d(e,t,r){return e!==void 0?r(n("bs_caml_option").valFromOption(e)):t}function m(e,t,r){return d(e,t,n("bs_curry").__1(r))}function p(e,t){if(e!==void 0)return n("bs_caml_option").some(t(n("bs_caml_option").valFromOption(e)))}function _(e,t){return p(e,n("bs_curry").__1(t))}function f(e,t){if(e!==void 0)return t(n("bs_caml_option").valFromOption(e))}function g(e,t){return f(e,n("bs_curry").__1(t))}function h(e,t){return e!==void 0?n("bs_caml_option").valFromOption(e):t}function y(e){return e!==void 0}function C(e){return e===void 0}function b(e,t,r){return e!==void 0?t!==void 0?r(n("bs_caml_option").valFromOption(e),n("bs_caml_option").valFromOption(t)):!1:t===void 0}function v(e,t,r){return b(e,t,n("bs_curry").__2(r))}function S(e,t,r){return e!==void 0?t!==void 0?r(n("bs_caml_option").valFromOption(e),n("bs_caml_option").valFromOption(t)):1:t!==void 0?-1:0}function R(e,t,r){return S(e,t,n("bs_curry").__2(r))}i.keepU=e,i.keep=l,i.forEachU=s,i.forEach=u,i.getExn=c,i.mapWithDefaultU=d,i.mapWithDefault=m,i.mapU=p,i.map=_,i.flatMapU=f,i.flatMap=g,i.getWithDefault=h,i.isSome=y,i.isNone=C,i.eqU=b,i.eq=v,i.cmpU=S,i.cmp=R}),null);
__d("getAssetsByType",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{adAccount:e.filter(function(e){return e.type==="AD_ACCOUNT"}),appAccount:e.filter(function(e){return e.type==="APP"}),igAccount:e.filter(function(e){return e.type==="INSTAGRAM_ACCOUNT_V2"}),pageAccount:e.filter(function(e){return e.type==="PAGE"}),wabAccount:e.filter(function(e){return e.type==="WHATSAPP_BUSINESS_ACCOUNT"})}}i.default=e}),66);
__d("getFirstAssetOfType",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.find(function(e){return e.type===t})}i.default=e}),66);
__d("useBizKitSelectedAssets",["BizKitScopingContext","getAssetsByType","getFirstAssetOfType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e,t,n=s(r("BizKitScopingContext")),o=n.assets,a=n.setAssets,i=(e=(t=r("getFirstAssetOfType")(o,"PAGE"))!=null?t:o[0])!=null?e:null;return{assetID:i==null?void 0:i.id,assets:o,assetsByType:r("getAssetsByType")(o),assetType:i==null?void 0:i.type,setAssets:a,setSelectedLinkedAsset:function(t){a(t.assets)}}}l.default=u}),98);
__d("useGroupCallBlockedUserWarningInterstitial",["I64","JSResourceForInteraction","MAWMiActMappingTableAPI","Promise","ReQL","WAJids","nullthrows","react","react-compiler-runtime","useBlockedUserInterstitial","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useCallback,m=function(t,r,a){return r===!0?t.runInTransaction(function(e){return o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,o("WAJids").unsafeCoerceToChatJid(a+"@g.us"))},"readonly",void 0,void 0,i.id+":41"):(s||(s=n("Promise"))).resolve((u||(u=o("I64"))).of_string(a))};function p(e,t,n){return o("useBlockedUserInterstitial").getBlockedUserQuery(e,t,r("nullthrows")(n)).then(function(e){return e==null?[]:o("ReQL").toArrayAsync(e).then(function(e){return e})})}function _(){var t=o("react-compiler-runtime").c(6),n=(e||(e=r("useReStore")))(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("JSResourceForInteraction")("MWReceivedGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),t[0]=a):a=t[0];var i=r("useMWXLazyDialog")(a),l=i[0],s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=r("JSResourceForInteraction")("MWGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),t[1]=s):s=t[1];var u=r("useMWXLazyDialog")(s),c=u[0],d;return t[2]!==n||t[3]!==c||t[4]!==l?(d=function(t){var e=t.callType,o=t.isE2eeMandated,a=t.onContinue,i=t.threadID,s=t.threadType;m(n,o,i).then(function(t){return t==null?a():p(n,t,r("nullthrows")(s)).then(function(n){if(n.length===0)return a();e==="start"?c({blockedUsers:n,onContinue:a,threadKey:t}):l({blockedUsers:n,onContinue:a,threadKey:t})})})},t[2]=n,t[3]=c,t[4]=l,t[5]=d):d=t[5],d}l.fetchThreadKeyFromID=m,l.getBlockedUsers=p,l.useGroupCallBlockedUserWarningInterstitial=_}),98);/*FB_PKG_DELIM*/
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(){return s._(/*BTDS*/"No people found")}l.default=e}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("div",babelHelpers.extends({},t,{children:s.jsx(r("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:r("getPeopleTypeaheadNullStateText")()})})),e[1]=n):n=e[1],n}l.default=u}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useImperativeHandle,_=c.useRef,f=c.useState;function g(t){var n=t.ref,a=t.context,i=t.dataSource,l=t.inputElement,s=t.layoutStrategyRenderer,c=t.loggingProvider,g=t.onAriaChange,y=t.onEntriesUpdated,C=t.onHighlightEntry,b=t.onSelectedEntry,v=t.onVisibilityChange,S=t.position,R=S===void 0?"above":S,L=t.queryString,E=t.viewStrategyRenderer,k=babelHelpers.objectWithoutPropertiesLoose(t,e),I=_(null),T=f(null),D=T[0],x=T[1],$=_([]),P=f($.current),N=P[0],M=P[1],w=f(!0),A=w[0],F=w[1],O=_(null),B=_(L);m(function(){B.current=L},[L]);var W=d(function(e){C&&C(e),x(e),I.current=e},[C]),q=r("useBaseTypeaheadDataSourceFetch")({dataSource:i,onResolvePayload:d(function(e){var t,n=e.entries;$.current=n,M(n);var o=r("baseTypeaheadFlattenEntries")(n),a=o[0],i=I==null||(t=I.current)==null?void 0:t.key;a!=null&&(i==null||!o.map(function(e){return e.key}).includes(i))&&W(a),y&&y(n.length>0)},[W,y])}),U=q[0].isLoading,V=q[1],H=A&&(N.length>0||U);m(function(){return H?c.startSession(B.current):c.isSessionActive()&&c.maybeEndSession(B.current,r("baseTypeaheadFlattenEntries")($.current)),v(H),function(){c.isSessionActive()&&c.maybeEndSession(B.current,r("baseTypeaheadFlattenEntries")($.current))}},[v,c,H]),m(function(){F(!0),V({query:L})},[V,L,i]),p(n,function(){return{getViewRef:function(){return O},hasSelection:function(){return h(r("baseTypeaheadFlattenEntries")($.current),D)},moveDown:function(){o("cometTypeaheadKeyboardNavigationUtils").moveDown(r("baseTypeaheadFlattenEntries")($.current),D!=null?D.key:null,W,!1)},moveUp:function(){o("cometTypeaheadKeyboardNavigationUtils").moveUp(r("baseTypeaheadFlattenEntries")($.current),D!=null?D.key:null,W,!1)},select:function(){var e=r("baseTypeaheadFlattenEntries")($.current);b&&D!=null&&h(e,D)&&(c.isSessionActive()&&c.maybeEndSession(L,e,D),b(D))}}},[D,W,b,c,L]);var G=d(function(e){var t=r("baseTypeaheadFlattenEntries")($.current);b&&h(t,e)&&(c.isSessionActive()&&c.maybeEndSession(L,t,e),b(e))},[b,c,L]);return m(function(){if(H===!1)return;function e(e,t){for(var n=e.parentElement;n!=null&&n!==t;)n=n.parentElement;return n===t}var t=function(n){var t=n.target;if(t instanceof HTMLElement){var r=O.current,o=r!==null&&(t===r||e(t,r)),a=l!==null&&(t===l||e(t,l));F(o||a)}};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}},[l,H]),H?u.jsx(s,{ariaProps:{role:"listbox"},context:a,entries:N,highlightedEntry:D,isLoading:U,onAriaChange:g,onBlur:k.onBlur,onHighlightEntry:W,onPressEntry:G,onPressEntryIn:G,position:R,queryString:L,viewRef:O,viewStrategyRenderer:E}):null}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){if(t==null)return!1;var n=t.key;return e.find(function(e){return e.key===n})!=null}l.default=g}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.anchor;if(n.type!=="text")return null;var r=n.getNode();if(t!=null&&!t()||t==null&&!r.isSimpleText())return null;var o=n.offset;return r.getTextContent().slice(0,o)}function s(t,n){return t.getEditorState().read(function(){var t=o("Lexical").$getSelection();return o("Lexical").$isRangeSelection(t)?e(t,n):null})}l.default=s}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t){var n=o("react-compiler-runtime").c(4),r=c(!1),a,i;n[0]!==t||n[1]!==e?(a=function(){if(!r.current){var n=e.getRootElement()===document.activeElement;if(n){t(),r.current=!0;return}var a=e.registerCommand(o("Lexical").FOCUS_COMMAND,function(){return t(),r.current=!0,a(),!1},o("Lexical").COMMAND_PRIORITY_LOW);return a}},i=[t,e,r],n[0]=t,n[1]=e,n[2]=a,n[3]=i):(a=n[2],i=n[3]),u(a,i)}l.default=d}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("445"),s=o("FalcoLoggerInternal").create("mentions_session_end_without_click",e),u=s;l.default=u}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("446"),s=o("FalcoLoggerInternal").create("mentions_session_start",e),u=s;l.default=u}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("447"),s=o("FalcoLoggerInternal").create("mentions_suggestion_clicked",e),u=s;l.default=u}),98);
__d("WithTagSuggestionContinueClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3701"),s=o("FalcoLoggerInternal").create("with_tag_suggestion_continue_clicked",e),u=s;l.default=u}),98);
__d("CometMentionsLoggingProvider",["FBLogger","MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","WithTagSuggestionContinueClickedFalcoEvent","guid"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$2=!1,this.$3=null,this.$1=e}var t=e.prototype;return t.getSessionID=function(){return this.$3==null&&r("FBLogger")("search").mustfix("Mentions logging sessionID does not exist."),this.$3},t.isSessionActive=function(){return this.$2},t.startSession=function(t){var e=this;if(t!=null){var n=r("guid")();this.$3=n,this.$2=!0,r("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers.extends({},e.$1,{session_id:n,typed_query:t})})}},t.maybeEndSession=function(t,n,o,a){if(t!=null){var e=n!=null?JSON.stringify(n.map(function(e){return{id:e.key}})):null,i=babelHelpers.extends({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:t});if(o!=null){var l,s=o.key,u=(l=n==null?void 0:n.findIndex(function(e){return e.key===s}))!=null?l:null,c=isNaN(parseInt(o.key,10))?"0":o.key;if(a===!0){r("WithTagSuggestionContinueClickedFalcoEvent").log(function(){return babelHelpers.extends({},i,{selected_position:String(u),selected_result_display_text:o.label,selected_result_id:c,selected_result_id_string:o.key})});return}else r("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers.extends({},i,{selected_position:String(u),selected_result_display_text:o.label,selected_result_id:c,selected_result_id_string:o.key})})}else r("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return i});this.$3=null,this.$2=!1}},e})();l.default=e}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function c(e){var t=o("react-compiler-runtime").c(2),n=e===void 0?u:e,a;return t[0]!==n?(a=new(r("CometMentionsLoggingProvider"))(n),t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.startTransition,c=s.useEffect,d=s.useState;function m(e,t){var n=window.getSelection();if(n===null||!n.isCollapsed||e===null)return!1;var r=n.anchorNode,o=e.leadOffset,a=n.anchorOffset;try{t.setStart(r,o),t.setEnd(r,a)}catch(e){return!1}return!0}function p(e,t,n){var a=o("react-compiler-runtime").c(5),i=d(null),l=i[0],s=i[1],p,_;return a[0]!==n||a[1]!==t||a[2]!==e?(p=function(){var o=document.createRange(),a=null,i=null,l=null,c=function(){var c=o,d=r("getCometComposerMentionsSearchForLexical")(e,n);if(!(d===a||c===null)){a=d;var p=t(d),_=p.dataSource,f=p.searchResult;if(!(_===i&&f===l)){var g=m(f,c);i=_,l=f,u(!g||_===null||f===null?function(){return s(null)}:function(){s({dataSource:_,range:c,searchResult:f})})}}},d=e.registerUpdateListener(c);return c(),(function(){o=null,d()})},_=[n,t,e],a[0]=n,a[1]=t,a[2]=e,a[3]=p,a[4]=_):(p=a[3],_=a[4]),c(p,_),l}l.default=p}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","react-compiler-runtime","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useMemo,p=u.useRef,_=u.useState;function f(e){var t=o("react-compiler-runtime").c(43),n=e.$isValidSelection,a=e.createNodeStrategy,i=e.dataSourceResolverConfig,l=e.editor,u=e.layoutStrategyRenderer,c=e.mentionsHandlerForSelectedEntry,m=e.mentionsLoggerContext,_=e.onMentionsEntrySelected,f=e.position,v=e.viewStrategyRenderer,L=i.bootstrap,E=i.resolver,k=f===void 0?"below":f,I=r("useCometMentionsResolutionForLexical")(l,E,n),T=p(!1),D=b(l),x=D[0],$=D[1],P=p(null),N=R(l);r("useCometMentionsBootstrapForLexical")(l,L);var M,w;t[0]!==l||t[1]!==N?(M=function(){return l.registerCommand(o("Lexical").BLUR_COMMAND,function(){return N(),!1},o("Lexical").COMMAND_PRIORITY_LOW)},w=[l,N],t[0]=l,t[1]=N,t[2]=M,t[3]=w):(M=t[2],w=t[3]),d(M,w);var A;t[4]!==N?(A=function(){N()},t[4]=N,t[5]=A):A=t[5];var F=A,O,B;t[6]!==$||t[7]!==l||t[8]!==N||t[9]!==x?(O=function(){var e,t=[{handler:C,type:(e=o("Lexical")).KEY_ENTER_COMMAND},{handler:y,type:e.KEY_TAB_COMMAND},{handler:h,type:e.KEY_ARROW_UP_COMMAND},{handler:g,type:e.KEY_ARROW_DOWN_COMMAND},{handler:function(){return N(),$(),!0},type:e.KEY_ESCAPE_COMMAND}];return o("LexicalUtils").mergeRegister.apply(void 0,t.map(function(e){var t=e.handler,n=e.type;return l.registerCommand(n,function(e){var n=P.current,r=T.current;if(n===null||!r||x)return!1;if(t(n)){var o=e;return o.preventDefault(),o.stopPropagation(),!0}return!1},o("Lexical").COMMAND_PRIORITY_CRITICAL)}))},B=[$,l,N,x],t[6]=$,t[7]=l,t[8]=N,t[9]=x,t[10]=O,t[11]=B):(O=t[10],B=t[11]),d(O,B);var W;t[12]===Symbol.for("react.memo_cache_sentinel")?(W=function(t){T.current=t},t[12]=W):W=t[12];var q=W,U;t[13]!==N?(U=function(t){t||N()},t[13]=N,t[14]=U):U=t[14];var V=U,H;t[15]!==n||t[16]!==a||t[17]!==E||t[18]!==$||t[19]!==l||t[20]!==N||t[21]!==c||t[22]!==_?(H=function(t){var e=r("getCometComposerMentionsSearchForLexical")(l,n);if(e==null){r("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var o=E(e),i=o.searchResult;if(i==null){r("FBLogger")("CometComposer").mustfix("onPressEntry was called and no search result was found for the query %s",e);return}N();var s=c==null?void 0:c(t);s!=null&&!s.shouldMentionSelectedEntry||(S(l,a,t,i,n),_==null||_(t),$())},t[15]=n,t[16]=a,t[17]=E,t[18]=$,t[19]=l,t[20]=N,t[21]=c,t[22]=_,t[23]=H):H=t[23];var G=H,z=r("useCometMentionsLoggingProvider")(m),j,K;if(t[24]!==x||t[25]!==I?(j=function(){(I===null||x)&&(T.current=!1)},K=[I,x],t[24]=x,t[25]=I,t[26]=j,t[27]=K):(j=t[26],K=t[27]),d(j,K),I===null||x)return N(),null;var Q=I.range,X=I.dataSource,Y;t[28]!==l?(Y=l.getRootElement(),t[28]=l,t[29]=Y):Y=t[29];var J;return t[30]!==N||t[31]!==F||t[32]!==V||t[33]!==G||t[34]!==u||t[35]!==z||t[36]!==k||t[37]!==I.dataSource||t[38]!==I.range||t[39]!==I.searchResult.matchingString||t[40]!==Y||t[41]!==v?(J=s.jsx(r("CometMentions.react"),{context:Q,dataSource:X,inputElement:Y,layoutStrategyRenderer:u,loggingProvider:z,onAriaChange:N,onBlur:F,onEntriesUpdated:V,onFocus:r("emptyFunction"),onSelectedEntry:G,onVisibilityChange:q,position:k,queryString:I.searchResult.matchingString,ref:P,viewStrategyRenderer:v}),t[30]=N,t[31]=F,t[32]=V,t[33]=G,t[34]=u,t[35]=z,t[36]=k,t[37]=I.dataSource,t[38]=I.range,t[39]=I.searchResult.matchingString,t[40]=Y,t[41]=v,t[42]=J):J=t[42],J}function g(e){return e.moveDown(),!0}function h(e){return e.moveUp(),!0}function y(e){return e.hasSelection()?(e.select(),!0):!1}function C(e){return e.hasSelection()?(e.select(),!0):!1}function b(e){var t=o("react-compiler-runtime").c(7),n=_(!1),r=n[0],a=n[1],i,l;t[0]!==e||t[1]!==r?(i=function(){if(r){var t=e.getEditorState().read(o("LexicalText").$rootTextContent);return e.registerTextContentListener(function(e){e!==t&&a(!1),t=e})}},l=[e,r],t[0]=e,t[1]=r,t[2]=i,t[3]=l):(i=t[2],l=t[3]),d(i,l);var s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=function(){return a(!0)},t[4]=s):s=t[4];var u;return t[5]!==r?(u=[r,s],t[5]=r,t[6]=u):u=t[6],u}function v(e,t,n){for(var r=n,o=r;o<=t.length;o++)e.substr(-o)===t.substr(0,o)&&(r=o);return r}function S(e,t,n,r,a){e.update(function(){var e=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(e)||!e.isCollapsed())){var i=e.anchor;if(i.type==="text"){var l=i.getNode();if(!(a!=null&&!a()||a==null&&!l.isSimpleText())){var s=i.offset,u=l.getTextContent().slice(0,s),c=n.label,d=r.replaceableString.length,m=v(u,c,d),p=s-m;p<0||t({anchorNode:l,endOffset:s,selectedEntry:n,startOffset:p})}}}})}function R(e){var t=o("react-compiler-runtime").c(2),n=p(void 0),r=p(void 0),a;return t[0]!==e?(a=function(a,i){var t=n.current,l=r.current;(t!==a||l!==i)&&(n.current=a,r.current=i,e.dispatchCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:a,controlsID:i}))},t[0]=e,t[1]=a):a=t[1],a}l.default=f}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","react-compiler-runtime","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(9),n=e.entries,a=e.highlightedEntry,i=e.onAriaChange,l;t[0]!==n?(l=r("baseTypeaheadFlattenEntries")(n),t[0]=n,t[1]=l):l=t[1];var u;t[2]!==a||t[3]!==l?(u={activeEntries:l,helperText:"",highlightedEntry:a,inputLabel:"",isOpened:!0,viewRole:"listbox"},t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=r("useCometTypeaheadLayoutContextualStrategyARIAProps")(u),d=c.ariaInputProps,m=c.ariaViewProps,p,_;return t[5]!==d||t[6]!==i?(p=function(){return i(d["aria-activedescendant"],d["aria-controls"])},_=[d,i],t[5]=d,t[6]=i,t[7]=p,t[8]=_):(p=t[7],_=t[8]),s(p,_),m}l.default=u}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","react-compiler-runtime","useBaseMentionsLayoutStrategyARIAProps.react"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(21),a,i,l,s,c;n[0]!==t?(i=t.isLoading,c=t.isLoadingIndicatorEnabled,l=t.onAriaChange,a=t.viewStrategyRenderer,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d=c===void 0?!1:c,m;n[6]!==l||n[7]!==s.entries||n[8]!==s.highlightedEntry?(m={entries:s.entries,highlightedEntry:s.highlightedEntry,onAriaChange:l},n[6]=l,n[7]=s.entries,n[8]=s.highlightedEntry,n[9]=m):m=n[9];var p=r("useBaseMentionsLayoutStrategyARIAProps.react")(m),_=d?i:!1,f;n[10]!==a||n[11]!==p||n[12]!==s||n[13]!==_?(f=u.jsx(a,babelHelpers.extends({},s,{ariaProps:p,isLoading:_})),n[10]=a,n[11]=p,n[12]=s,n[13]=_,n[14]=f):f=n[14];var g;n[15]!==i||n[16]!==s.entries?(g=!i&&s.entries.length===0?u.jsx(r("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,n[15]=i,n[16]=s.entries,n[17]=g):g=n[17];var h;return n[18]!==f||n[19]!==g?(h=u.jsxs("div",{children:[f,g]}),n[18]=f,n[19]=g,n[20]=h):h=n[20],h}l.default=c}),98);
__d("CometMentionsLayoutStrategy.react",["fbt","CometContextualLayer.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","FDSPopover.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["ariaProps","context","entries","onBlur","position","viewRef"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(21),a,i,l,u,d,m,p;if(n[0]!==t?(a=t.ariaProps,i=t.context,l=t.entries,u=t.onBlur,d=t.position,p=t.viewRef,m=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=m,n[7]=p):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],m=n[6],p=n[7]),l.length===0)return null;var _;n[8]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Mentions suggestions"),n[8]=_):_=n[8];var f;n[9]!==a||n[10]!==l||n[11]!==m?(f=c.jsx(r("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers.extends({ariaProps:a,entries:l,isLoading:!1},m)),n[9]=a,n[10]=l,n[11]=m,n[12]=f):f=n[12];var g;n[13]!==u||n[14]!==f||n[15]!==p?(g=c.jsx(r("FDSPopover.react"),{"aria-label":_,onBlur:u,ref:p,role:"listbox",children:f}),n[13]=u,n[14]=f,n[15]=p,n[16]=g):g=n[16];var h;return n[17]!==i||n[18]!==d||n[19]!==g?(h=c.jsx(r("CometContextualLayer.react"),{align:"start",context_DEPRECATED:i,position:d,children:g}),n[17]=i,n[18]=d,n[19]=g,n[20]=h):h=n[20],h}l.default=d}),226);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n,a=o("react-compiler-runtime").c(30),i,l,s,c,d;if(a[0]!==t){var m=t.ariaProps,p=t.entries,_=t.extraViewProps,f=t.highlightedEntry,g=t.isLoading,h=t.onAbandonTypeahead_DO_NOT_USE,y=t.viewItemStrategyRenderer,C=babelHelpers.objectWithoutPropertiesLoose(t,e);l=m,s=p,c=f,i=y,d=C,a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d}else i=a[1],l=a[2],s=a[3],c=a[4],d=a[5];var b=l.role,v;if(b!=null){var S;a[6]!==b?(S={role:b},a[6]=b,a[7]=S):S=a[7],v=S}else{var R;a[8]===Symbol.for("react.memo_cache_sentinel")?(R={},a[8]=R):R=a[8],v=R}var L=v,E;a[9]!==b?(E=r("getItemRoleFromCompositeRole")(b),a[9]=b,a[10]=E):E=a[10];var k=E,I;a[11]===Symbol.for("react.memo_cache_sentinel")?(I="x78zum5 xdt5ytf x1iyjqo2",a[11]=I):I=a[11];var T;if(a[12]!==i||a[13]!==s||a[14]!==((n=c)==null?void 0:n.key)||a[15]!==k||a[16]!==d){var D,x,$;if(a[18]!==i||a[19]!==s.length||a[20]!==((D=c)==null?void 0:D.key)||a[21]!==k||a[22]!==d){var P;$=function(t,n){if(t.type==="section"){var e=t.entries,o=t.key,a=t.label;return e.length===0?null:u.jsxs("li",{"aria-selected":"false",role:"option",children:[u.jsx("div",{className:"x889kno x2vl965 x1a8lsjc xe2zdcy",children:u.jsx("label",{htmlFor:o,children:u.jsx(r("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:a})})}),u.jsx("ul",{id:o,role:"listbox",children:e.map(function(e){var t;return u.createElement(i,babelHelpers.extends({},d,{entry:e,isActive:e.key===((t=c)==null?void 0:t.key),key:e.key,role:k}))})})]},"section-"+o)}else{var l;return u.createElement(i,babelHelpers.extends({},d,{entry:t,isActive:t.key===((l=c)==null?void 0:l.key),isFirstItem:n===0,isLastItem:n===s.length-1,key:t.key,role:k}))}},a[18]=i,a[19]=s.length,a[20]=(P=c)==null?void 0:P.key,a[21]=k,a[22]=d,a[23]=$}else $=a[23];T=s.map($),a[12]=i,a[13]=s,a[14]=(x=c)==null?void 0:x.key,a[15]=k,a[16]=d,a[17]=T}else T=a[17];var N;a[24]!==L||a[25]!==T?(N=u.jsx(r("CometCompositeStructureContext").Provider,{value:L,children:T}),a[24]=L,a[25]=T,a[26]=N):N=a[26];var M;return a[27]!==l||a[28]!==N?(M=u.jsx("ul",babelHelpers.extends({},l,{className:I,"data-testid":void 0,children:N})),a[27]=l,a[28]=N,a[29]=M):M=a[29],M}l.default=d}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["onPressEntryIn","queryString"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;if(n[0]!==t){var l=t.onPressEntryIn,s=t.queryString,c=babelHelpers.objectWithoutPropertiesLoose(t,e);a=c,i=function(t,n){n.preventDefault(),l&&l(t,n)},n[0]=t,n[1]=a,n[2]=i}else a=n[1],i=n[2];var d=i,m;return n[3]!==d||n[4]!==a?(m=u.jsx(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},a,{onPressEntryIn:d})),n[3]=d,n[4]=a,n[5]=m):m=n[5],m}l.default=c}),98);
__d("DocumentMentionsRegex",[],(function(t,n,r,o,a,i){"use strict";var e="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",l="\\b[A-Z][^\\s"+e+"]",s={PUNCTUATION:e,NAME:l},u=s;i.default=u}),66);
__d("FBNucleusShopsFilled20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M6.152 1h7.695c.603 0 1.125 0 1.547.054.454.059.89.19 1.261.523.371.334.547.754.653 1.2.099.414.154.933.218 1.532l.605 5.708c.182 1.715.325 3.07.31 4.147-.015 1.103-.195 2.023-.748 2.812-.22.315-.479.602-.769.855-.726.633-1.622.909-2.717 1.04-1.07.129-2.432.129-4.157.129h-.1c-1.725 0-3.088 0-4.157-.128-1.095-.132-1.991-.408-2.718-1.041a4.75 4.75 0 0 1-.768-.855c-.553-.789-.734-1.709-.749-2.812-.015-1.077.129-2.432.31-4.147l.606-5.708c.064-.6.119-1.118.217-1.533.106-.445.283-.865.653-1.199.371-.333.808-.464 1.262-.523C5.028 1 5.55 1 6.152 1zm1.324 3.562a.75.75 0 1 0-1.452.376A4.103 4.103 0 0 0 10 8a4.103 4.103 0 0 0 3.976-3.062.75.75 0 0 0-1.452-.376A2.603 2.603 0 0 1 10 6.5a2.603 2.603 0 0 1-2.524-1.938z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSShopsFilled20Icon",["cr:15667"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15667")}),98);
__d("FDSShopsFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("1664042"),20),u=e;l.default=u}),98);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSChevronLeftFilled16Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(7);r("vulture")("gGHDieg7mm2jsTrKIdPDlmejPMo=");var n=e.entry,a=n.label,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={icon:r("FDSChevronLeftFilled16Icon"),type:"icon"},t[0]=i):i=t[0];var l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x15huedd"},t[1]=l):l=t[1];var c;t[2]!==a?(c=s.jsx(r("CometListCellStrict_DEPRECATED.react"),{addOnStart:i,addOnStartOverrideVerticalStyle:u.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:s.jsx("div",babelHelpers.extends({},l,{children:s.jsx(r("FDSText.react"),{type:"headlineEmphasized4",children:a})})),level:4,paddingHorizontal:0}),t[2]=a,t[3]=c):c=t[3];var d;return t[4]!==e||t[5]!==c?(d=s.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},e,{children:c})),t[4]=e,t[5]=c,t[6]=d):d=t[6],d}l.default=c}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FBLogger","FDSChevronRightFilled16Icon","FDSShopsFilled20Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(12);r("vulture")("Q1EDZhyn9frZO2tJJtSWGW-ofiM=");var n=e.entry,a=n.label,i=n.rawData,l=i.type==="MENTION_TYPE_SELECTION"?i.iconName:null;if(l==null)return r("FBLogger")("comet_composer").mustfix("No icon name found for mention type selection entry"),null;var c=null;e:switch(l){case"shops":{c=r("FDSShopsFilled20Icon");break e}default:}var d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={color:"secondary",icon:r("FDSChevronRightFilled16Icon"),type:"icon"},t[0]=d):d=t[0];var m;t[1]!==c?(m=c!=null?{icon:c,size:40,type:"contained-icon"}:null,t[1]=c,t[2]=m):m=t[2];var p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p={className:"xcqhk00"},t[3]=p):p=t[3];var _;t[4]!==a?(_=s.jsx("div",babelHelpers.extends({},p,{children:s.jsx(r("FDSText.react"),{type:"headlineEmphasized4",children:a})})),t[4]=a,t[5]=_):_=t[5];var f;t[6]!==m||t[7]!==_?(f=s.jsx(r("CometListCellStrict_DEPRECATED.react"),{addOnEnd:d,addOnEndVerticalAlign:"center",addOnStart:m,addOnStartOverrideVerticalStyle:u.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:_,level:4,paddingHorizontal:0}),t[6]=m,t[7]=_,t[8]=f):f=t[8];var g;return t[9]!==e||t[10]!==f?(g=s.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},e,{children:f})),t[9]=e,t[10]=f,t[11]=g):g=t[11],g}l.default=c}),98);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","FBLogger","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","fbicon","gkx","react","react-compiler-runtime","requireDeferred","stylex"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e=["entry"],c,d,m=d||(d=o("react")),p=d.useCallback,_=r("requireDeferred")("cometPushToast").__setRef("FeedComposerCometMentionsViewItem.react"),f={invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(55),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=r("gkx")("608"),d;n[3]!==a.rawData?(d=function(){var e,t,n,r=((e=a)==null||(e=e.rawData)==null?void 0:e.isEligible)==null||((t=a)==null||(t=t.rawData)==null?void 0:t.isEligible)===!0;if(!(!l||r)){var o=((n=a)==null||(n=n.rawData)==null?void 0:n.ineligibleReason)!=null?s._(/*BTDS*/"{ineligible reason}",[s._param("ineligible reason",String(a.rawData.ineligibleReason))]):s._(/*BTDS*/"This person cannot be tagged at this time.");_.onReady(function(e){e.cometPushToast({message:o,testid:"FeedCometMentionHintToast"})})}},n[3]=a.rawData,n[4]=d):d=n[4];var p=d,g=a,y=g.rawData,C=!1,b=!1,v=null,S="circle",R=(y==null?void 0:y.isEligible)===!1&&l,L=R?"disabled":null;if(y.type==="MENTION_SEARCH_RESULT"){var E;C=!!y.isExternal,b=y.isVerified,v=y.subtext,S=(E=y.iconShape)!=null?E:"circle"}var k=a,I=k.label,T=i.addOn,D=f.name;T!=null&&(D=b?f.invitedVerifiedName:f.invitedName);var x=y.type!=="SEE_ALL_ENTRY"&&y.type!=="MENTION_TYPE_RESET"?y.photoURI:null;if(x==null)return r("FBLogger")("comet_composer").mustfix("No profile picture found for mentions entry"),null;var $;n[5]!==x?($={uri:x},n[5]=x,n[6]=$):$=n[6];var P;n[7]!==S||n[8]!==$?(P=m.jsx(r("FDSProfilePhoto.react"),{shape:S,size:40,source:$}),n[7]=S,n[8]=$,n[9]=P):P=n[9];var N=P,M;n[10]!==R||n[11]!==i.onPressEntry?(M=R?h:i.onPressEntry,n[10]=R,n[11]=i.onPressEntry,n[12]=M):M=n[12];var w="CometSearchMentionsBaseViewItem/"+I,A,F;n[13]===Symbol.for("react.memo_cache_sentinel")?(A={className:"x6s0dn4 x78zum5 x1gfrnbc x18ip3f8"},F={className:"x1vqgdyp x100vrsf"},n[13]=A,n[14]=F):(A=n[13],F=n[14]);var O;n[15]!==N?(O=m.jsx("div",babelHelpers.extends({},F,{children:N})),n[15]=N,n[16]=O):O=n[16];var B,W;n[17]===Symbol.for("react.memo_cache_sentinel")?(W={className:"x1iyjqo2 x1diwwjn x6ikm8r x10wlt62 xlyipyv xuxw1ft"},B={className:"x78zum5 x1gslohp x12nagc"},n[17]=B,n[18]=W):(B=n[17],W=n[18]);var q;n[19]!==D?(q=(c||(c=r("stylex"))).props(D),n[19]=D,n[20]=q):q=n[20];var U;n[21]!==I||n[22]!==L?(U=m.jsx(r("FDSText.react"),{color:L,numberOfLines:1,type:"headlineEmphasized4",children:I}),n[21]=I,n[22]=L,n[23]=U):U=n[23];var V;n[24]!==q||n[25]!==U?(V=m.jsx("div",babelHelpers.extends({},q,{children:U})),n[24]=q,n[25]=U,n[26]=V):V=n[26];var H;n[27]!==a.key||n[28]!==b?(H=b&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"x51ohtg"}),m.jsx("div",{className:"x1kpxq89",children:m.jsx(r("CometProfileVerificationBadge.react"),{profileID:a.key,size:"small"})}),m.jsx("div",{className:"x51ohtg"})]}),n[27]=a.key,n[28]=b,n[29]=H):H=n[29];var G;n[30]!==C?(G=C?m.jsx("span",{className:"xaso8d8",children:m.jsx(r("FDSIcon.react"),{alt:s._(/*BTDS*/"Not part of your organization"),color:"primary",icon:o("fbicon")._(u("785426"),12)})}):null,n[30]=C,n[31]=G):G=n[31];var z;n[32]!==V||n[33]!==H||n[34]!==G?(z=m.jsxs("div",babelHelpers.extends({},B,{children:[V,H,G]})),n[32]=V,n[33]=H,n[34]=G,n[35]=z):z=n[35];var j;n[36]!==v||n[37]!==L?(j=v!=null&&m.jsxs("div",{className:"x12nagc",children:[m.jsx("div",{className:"xdk7pt"}),m.jsx(r("FDSText.react"),{color:L,numberOfLines:1,type:"meta3",children:v})]}),n[36]=v,n[37]=L,n[38]=j):j=n[38];var K;n[39]!==z||n[40]!==j?(K=m.jsxs("div",babelHelpers.extends({},W,{children:[z,j]})),n[39]=z,n[40]=j,n[41]=K):K=n[41];var Q;n[42]!==T?(Q=m.jsx("div",{children:T}),n[42]=T,n[43]=Q):Q=n[43];var X;n[44]!==K||n[45]!==Q||n[46]!==O?(X=m.jsxs("div",babelHelpers.extends({},A,{children:[O,K,Q]})),n[44]=K,n[45]=Q,n[46]=O,n[47]=X):X=n[47];var Y;return n[48]!==a||n[49]!==p||n[50]!==i||n[51]!==X||n[52]!==M||n[53]!==w?(Y=m.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,onPressEntry:M,onPressEntryIn:p,testid:void 0,children:X})),n[48]=a,n[49]=p,n[50]=i,n[51]=X,n[52]=M,n[53]=w,n[54]=Y):Y=n[54],Y}function h(){}l.default=g}),226);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.rawData;switch(s.type){case"MENTION_TYPE_SELECTION":{var c;return n[3]!==a||n[4]!==i?(c=u.jsx(r("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers.extends({entry:a},i)),n[3]=a,n[4]=i,n[5]=c):c=n[5],c}case"MENTION_TYPE_RESET":{var d;return n[6]!==a||n[7]!==i?(d=u.jsx(r("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers.extends({entry:a},i)),n[6]=a,n[7]=i,n[8]=d):d=n[8],d}default:{var m;return n[9]!==a||n[10]!==i?(m=u.jsx(r("FeedComposerCometMentionsViewItem.react"),babelHelpers.extends({entry:a},i)),n[9]=a,n[10]=i,n[11]=m):m=n[11],m}}}l.default=c}),98);
__d("TaggingSurface",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["FEED_COMPOSER","STORIES_COMPOSER","GROUP_COMPOSER","COMMENT","NOTES_COMPOSER","GROUP_ALBUM","FEED_ALBUM"]),l=e;i.default=l}),66);
__d("XFBTaggingSurfaceUtils.facebook",["$InternalEnumUtils","TaggingSurface"],(function(t,n,r,o,a,i,l){var e=o("$InternalEnumUtils").createToJSEnum(r("TaggingSurface")),s=o("$InternalEnumUtils").createFromJSEnum(r("TaggingSurface"));l.toJSEnum=e,l.fromJSEnum=s}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.anchorNode,o=t.endOffset,a=t.selectedEntry,i=t.startOffset,l;if(i===0){var s=n.splitText(o);l=s[0]}else{var u=n.splitText(i,o);l=u[1]}if(l==null){r("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+i+", "+o+".");return}var c=e(a);c.setStyle(l.getStyle()),l.replace(c),c.selectNext(0,0)}}l.default=e}),98);
__d("cometMentionsDataEntryText",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;return(t=e.handle)!=null?t:e.label}i.default=e}),66);
__d("cometMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:e.key,text:r("cometMentionsDataEntryText")(e),type:"Actor"})}),s=e;l.default=s}),98);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(t,n,r,o,a,i,l){"use strict";var e="(?:\\.[ |$]| |["+r("DocumentMentionsRegex").PUNCTUATION+"]|)",s=75;function u(e,t,n){var r="[^"+e+t+"\\s]",o=new RegExp("(^|\\s|\\()(["+e+"]((?:"+r+n+"){0,"+s+"}))$"),a=50,i=new RegExp("(^|\\s|\\()(["+e+"]((?:"+r+"){0,"+a+"}))$");return{regex:o,regexAlias:i}}function c(t){var n=t.minMatchLength,o=t.name,a=t.triggers,i=t.disallowedChars,l=i===void 0?r("DocumentMentionsRegex").PUNCTUATION:i,s=t.disallowedTerms,c=t.validJoins,d=c===void 0?e:c,m=u(a,l,d),p=m.regex,_=m.regexAlias;return{findMentionableString:function(t){var e=p.exec(t);if(e===null&&(e=_.exec(t)),e!==null){var r=e[1],o=e[3];if(s!=null&&s.includes(o.toLowerCase()))return null;if(o.length>=n)return{leadOffset:e.index+r.length,matchingString:o,replaceableString:e[2]}}return null},name:o}}l.default=c}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(t,n,r,o,a,i,l){"use strict";var e=["@","\\uff20"].join("");function s(t){var n=t.minMatchLength;return r("createCometMentionMatchStrategy")({minMatchLength:n,name:"AtSignComposerMentionStrategy("+n.toString()+")",triggers:e})}l.default=s}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(t,n,r,o,a,i){"use strict";var e="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",l="\\b[A-Z][^\\s"+e+"]",s="\\b[a-z][^\\s"+e+"]";function u(e){var t=e.commonWordsBlocklist,n=e.minMatchLength,r=e.nameCase,o=r==="capitalized"?l:s,a=new RegExp("(^|[^#])((?:"+o+"{1,})$)");return{findMentionableString:function(r){var e=a.exec(r);if(e===null)return null;var o=e[1],i=e[2];return t.includes(i)?null:i!=null&&i.length>=n?{leadOffset:e.index+o.length,matchingString:i,replaceableString:i}:null},name:"NameMentionStrategy("+n.toString()+", "+r+")"}}i.default=u}),66);
__d("getHashtagRegexStringChars",[],(function(t,n,r,o,a,i){"use strict";function e(){var e="\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF",t="\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC",n=String.fromCharCode,r="\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+n(173824)+"-"+n(177983)+n(177984)+"-"+n(178207)+n(194560)+"-"+n(195103)+"\u3003\u3005\u303B",o=e+t+r,a="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",i="\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE23",l="0-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19",s=a+i+o,u=l+"_",c=s+u,d="#\\uFF03";return{alpha:s,alphanumeric:c,hashChars:d}}i.default=e}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(t,n,r,o,a,i,l){function e(){var e=r("getHashtagRegexStringChars")(),t=e.alpha,n=e.alphanumeric,o=e.hashChars,a="["+t+"]",i="["+n+"]",l="^|$|[^&/"+n+"]",s="["+o+"]",u="("+l+")("+s+")("+i+"*"+a+i+"*)";return u}l.default=e}),98);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],(function(t,n,r,o,a,i,l){"use strict";var e=new RegExp(r("getHashtagRegexString")(),"i");function s(t){if(!t.hasNodes([o("LexicalHashtag").HashtagNode]))throw r("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var n=function(t){return o("LexicalHashtag").$createHashtagNode(t.getTextContent())},a=function(n){var t=e.exec(n);if(t===null)return null;var r=t[3].length+1,o=t.index+t[1].length,a=o+r;return{end:a,start:o}};return o("LexicalUtils").mergeRegister.apply(void 0,o("LexicalText").registerLexicalTextEntity(t,a,o("LexicalHashtag").HashtagNode,n))}l.default=s}),98);
__d("useCometMentionsDataSourceResolverConfig",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useLayoutEffect,d=s.useMemo;function m(e,t){var n=o("react-compiler-runtime").c(12),r;n[0]!==e?(r=function(){e.forEach(p)},n[0]=e,n[1]=r):r=n[1];var a=r,i,l;n[2]!==a||n[3]!==t?(i=function(){t&&a()},l=[t,a],n[2]=a,n[3]=t,n[4]=i,n[5]=l):(i=n[4],l=n[5]),c(i,l);var s;n[6]===Symbol.for("react.memo_cache_sentinel")?(s=new Map,n[6]=s):s=n[6];var u=s,d;n[7]!==e?(d=function(n){var t={dataSource:null,searchResult:null};if(n==null)return t;var r=u.get(n);if(r!=null)return r;for(var o=0;o<e.length;o++){var a=e[o],i=a.dataSource,l=a.matchStrategy,s=l.findMentionableString(n);if(s!=null){var c={dataSource:i,searchResult:s};return u.set(n,c),c}}return u.set(n,t),t},n[7]=e,n[8]=d):d=n[8];var m;return n[9]!==a||n[10]!==d?(m={bootstrap:a,resolver:d},n[9]=a,n[10]=d,n[11]=m):m=n[11],m}function p(e){var t=e.dataSource;t.bootstrap()}l.default=m}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoading"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(2),a=t.viewItemStrategyRenderer,i;return n[0]!==a?(i=function(n){var t=n.isLoading,o=babelHelpers.objectWithoutPropertiesLoose(n,e);return u.jsxs(u.Fragment,{children:[u.jsx(r("CometMentionsViewListStrategy.react"),babelHelpers.extends({},o,{isLoading:!1,viewItemStrategyRenderer:a})),t&&u.jsx(r("CometTypeaheadProgressGlimmer.react"),{})]})},n[0]=a,n[1]=i):i=n[1],i}l.default=d}),98);/*FB_PKG_DELIM*/
__d("TrustedTypesChromecastScriptURLPolicy",["TrustedTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"];function s(t){var n=e.join("|"),r=new RegExp("^chrome-extension://(?:null|"+n+")/cast_sender\\.js$");return r.test(t)}var u={createScriptURL:function(t){if(s(t))return t;throw r("err")("Violated policy TrustedTypesChromecastScriptURLPolicy: "+t+" is not a Chromecast extension URI.")}},c=r("TrustedTypes").createPolicy("chromecast-extension-uri",u),d=c;l.default=d}),98);
__d("CastingChromecastAPI",["TrustedTypesChromecastScriptURLPolicy"],(function(t,n,r,o,a,i,l){"use strict";var e=18e4,s=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],u=null,c=function(t){var e=t.appID,n=t.receiverListener,r=t.sessionListener;return f().then(function(t){var o=new t.ApiConfig(new t.SessionRequest(e),r,n,t.AutoJoinPolicy.ORIGIN_SCOPED,t.DefaultActionPolicy.CAST_THIS_TAB);return new Promise(function(e,n){t.initialize(o,e,n)})})},d=function(t){return f().then(function(e){e.addReceiverActionListener(function(n,r){switch(r){case e.ReceiverAction.CAST:t.onCast(n);break;case e.ReceiverAction.STOP:t.onStop();break}})})},m=function(n){return f().then(function(t){var r=new t.SessionRequest(n,[t.Capability.VIDEO_OUT,t.Capability.AUDIO_OUT],e);return new Promise(function(e,n){t.requestSession(e,n,r)})})},p=function(t){return f().then(function(e){return t===e.ReceiverAvailability.AVAILABLE})},_=function(){return f().then(function(e){return e.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},f=function(){return u||(t.chrome?t.chrome.cast&&t.chrome.cast.isAvailable?(u=Promise.resolve(t.chrome.cast),u):(u=Promise.resolve().then(function(){return g()}).then(function(e){return new Promise(function(n,o){t.chrome.cast=t.chrome.cast||{},t.chrome.cast.extensionId=e,t.__onGCastApiAvailable=function(e,r){r?o(r):n(t.chrome.cast)};var a=document.createElement("script");if(a.onerror=o,e==null){o({code:"extension_not_available",description:null,details:null});return}else a.src=r("TrustedTypesChromecastScriptURLPolicy").createScriptURL(y(e));var i=document.head||document.documentElement;if(i==null){o({code:"extension_no_casting_script",description:null,details:null});return}i.appendChild(a)})}),u):(u=Promise.reject({code:"not_supported",description:null,details:null}),u))};async function g(){for(var e=0;e<s.length;e++){var t=s[e],n=await h(t);if(n)return t}return null}function h(e){return new Promise(function(t,n){var r=y(e),o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===4&&t(o.status===200)},o.onerror=function(){t(!1)},o.open("GET",r,!0),o.send()})}function y(e){return"chrome-extension://"+e+"/cast_sender.js"}var C={addReceiverListener:d,getDefaultAppID:_,getIsAvailable:p,getSession:m,initialize:c},b=C;l.default=b}),98);
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1885117")}),98);
__d("CastingChromecastSession",["FBLogger","Promise","err","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n){var o=this;this.$3=null,this.$4=[],this.$5=[],this.$6=[],this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=function(e,t){if(e===o.$2){var n=o.$4.slice();n.forEach(function(e){e(t)})}else o.$6.slice().forEach(function(t){t(r("err")("Namespace does not match. Expected "+o.$2+" but received "+e),"CastingChromecastSession._onMessageReceived")})},this.$1=e,this.$2=t,this.$3=n,n.addMessageListener(this.$2,this.$12)}var o=t.prototype;return o.destroy=function(){var e=this.$3;e!=null&&(e.status!=null&&e.status!=="disconnected"&&r("FBLogger")("comet_cast_sender").mustfix("Destroying receiver session that is not disconnected. Status, %s",e.status),e.removeMessageListener(this.$2,this.$12)),this.$3=null},o.isCasting=function(){return this.$3!=null},o.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"},o.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"},o.disconnect=function(){var t=this;return this.$5.slice().forEach(function(e){e()}),new(e||(e=n("Promise")))(function(e,n){t.$3!=null?t.$3.stop(e,n):e()}).catch(function(e){if(t.$3!=null&&t.$3.status!=="stopped")throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession.disconnect")}),e}).finally(function(){var e=t.$3;t.$3=null,e&&e.removeMessageListener(t.$2,t.$12),t.$7.slice().forEach(function(e){e()})})},o.getVolume=function(){var e=this.$13();return e?e.level:null},o.getFriendlyName=function(){return this.$14()},o.setVolume=function(o){var t=this,a=this.$3;return new(e||(e=n("Promise")))(function(e,t){if(a==null){t(r("err")("Cannot set volume without a session"));return}a.setReceiverVolumeLevel(o,e,t)}).catch(function(e){throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession.setVolume")}),e})},o.isMuted=function(){var e=this.$13();return e?e.muted:null},o.mute=function(){return this.$15(!0)},o.unmute=function(){return this.$15(!1)},o.sendMessage=function(o){var t=this;return new(e||(e=n("Promise")))(function(e,n){var a=t.$3;if(a==null){n(r("err")("The message can not be sent without a session"));return}a.sendMessage(t.$2,o,e,n)}).catch(function(e){throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession.sendMessage")}),e})},o.$13=function(){var e,t=(e=this.$3)==null||(e=e.receiver)==null?void 0:e.volume;return t==null?null:t},o.$14=function(){var e,t;return(e=(t=this.$3)==null?void 0:t.receiver.friendlyName)!=null?e:null},o.$15=function(o){var t=this;return new(e||(e=n("Promise")))(function(e,n){var a=t.$3;if(a==null){n(r("err")("The muted state can not be set without a session"));return}a.setReceiverMuted(o,e,n)}).catch(function(e){throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession._setIsMuted")}),e})},o.onMessage=function(t){var e=this.$4;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onDisconnecting=function(t){var e=this.$5;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onError=function(t){var e=this.$6;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onDisconnected=function(t){var e=this.$7;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoLoading=function(t){var e=this.$8;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoLoaded=function(t){var e=this.$9;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoPlaying=function(t){var e=this.$10;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoPaused=function(t){var e=this.$11;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},t})();l.default=s}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e!=null&&typeof e=="object"&&typeof e.code=="string"&&e.code===t}function s(e){return e!=null&&typeof e=="object"&&typeof e.code=="string"?r("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:e.code})):r("getErrorSafe")(e)}function u(e,t){e.metadata==null&&(e.metadata=new(r("ErrorMetadata")));var n=e.metadata,o=t==null?void 0:t.videoID;return o!=null&&n.addEntries(["COMET_VIDEO","VIDEO_ID",o]),e}l.isChromecastError=e,l.getCastingErrorSafe=s,l.appendCastingMetadataToExpandedError=u}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1843753"),s=o("FalcoLoggerInternal").create("connected_tv_logging",e),u=s;l.default=u}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e,t){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=e,this.$2=t,this.$4=!1,this.$3=!1,this.$5=new Set}var a=t.prototype;return a.init=function(){return this.$6!=null?(s||(s=n("Promise"))).reject(r("err")("Scanner can only be initialized once.")):(this.$6=this.$16(),this.$6)},a.ready=function(){return this.$6==null?(s||(s=n("Promise"))).reject(r("err")("Scanner should be initialized.")):this.$6},a.hasSupport=function(){return this.$3},a.hasFoundReceiver=function(){return this.$4},a.getSession=function(){var e=this;return this.$4?(this.$13.slice().forEach(function(e){e()}),this.$17().then(function(t){var n=e.$18(t);return e.$5.add(n),e.$14.slice().forEach(function(e){e(n)}),n}).catch(function(t){throw e.$10.slice().forEach(function(e){e()}),e.$11.slice().forEach(function(e){e()}),t})):(s||(s=n("Promise"))).reject(r("err")("No receivers found"))},a.$16=function(){var e=this;return this.$3=!0,this.$19().then(function(t){return e.$20()}).then(function(t){e.$9.slice().forEach(function(e){e()})}).then(function(t){return e.$21()}).catch(function(t){throw!o("CastingErrorUtils").isChromecastError(t,"not_supported")&&!o("CastingErrorUtils").isChromecastError(t,"extension_not_available")&&!o("CastingErrorUtils").isChromecastError(t,"extension_no_casting_script")&&e.$8.slice().forEach(function(e){e(t,"CastingChromecastScanner._init")}),t})},a.$21=function(){var e=this,t=this.$1;if(t==null)return(s||(s=n("Promise"))).reject(r("err")("App ID is not defined"));var o=function(n){var t=e.$18(n);e.$14.slice().forEach(function(e){e(t)})},a=function(n){r("promiseDone")(r("CastingChromecastAPIWrapper").getIsAvailable(n).then(function(t){e.$4=t,e.$15.slice().forEach(function(t){t({foundReceiver:e.$4})})}))};return r("CastingChromecastAPIWrapper").initialize({appID:t,receiverListener:a,sessionListener:o}).then(function(){}).catch(function(t){throw e.$8.slice().forEach(function(e){e(t,"CastingChromecastScanner._initializeApi")}),t})},a.$19=function(){var e=this;return this.$1!=null?(s||(s=n("Promise"))).resolve():r("CastingChromecastAPIWrapper").getDefaultAppID().then(function(t){e.$1=t})},a.$17=function(){var t=this.$1;if(t==null)return(s||(s=n("Promise"))).reject(r("err")("App ID is not defined"));var o=(e||(e=r("performanceAbsoluteNow")))();return r("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}}),r("CastingChromecastAPIWrapper").getSession(t).then(function(t){return r("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((e||(e=r("performanceAbsoluteNow")))()-o)}}),t}).catch(function(t){throw r("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((e||(e=r("performanceAbsoluteNow")))()-o),session_failure_code:typeof t.code=="string"?t.code:null,session_failure_description:t.description}}),t})},a.$18=function(t){var e=this,n=new(r("CastingChromecastSession"))(this.$1||"",this.$2||"",t),o=n.onDisconnecting(function(){e.$12.slice().forEach(function(e){e()})}),a=n.onError(function(t,n){e.$8.slice().forEach(function(e){e(t,n)})}),i=n.onDisconnected(function(){e.$11.slice().forEach(function(e){e()}),e.$5.delete(n),o.remove(),a.remove(),i.remove()});return n},a.$20=function(){var e=this;return r("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(n){e.$7.slice().forEach(function(e){e(n)})},onStop:function(){e.$5.forEach(function(e){return e.disconnect()})}})},a.onCast=function(t){var e=this.$7;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onError=function(t){var e=this.$8;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onInit=function(t){var e=this.$9;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionCancelled=function(t){var e=this.$10;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionDisconnected=function(t){var e=this.$11;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionDisconnecting=function(t){var e=this.$12;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionRequested=function(t){var e=this.$13;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionStarted=function(t){var e=this.$14;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onStatusChanged=function(t){var e=this.$15;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},t})();l.default=u}),98);
__d("CastingState",[],(function(t,n,r,o,a,i){"use strict";function e(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function l(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function s(){return{type:"photo"}}function u(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}i.initialCastingState=e,i.initialVideoChannelExperienceState=l,i.initialPhotoExperienceState=s,i.initialPhotoAlbumExperienceState=u}),66);
__d("TV2PhotoAlbumReportedState",[],(function(t,n,r,o,a,i){"use strict";function e(e){return m(JSON.parse(e),y("TV2PhotoAlbumReportedState"))}function l(e){return JSON.stringify(p(e,y("TV2PhotoAlbumReportedState")),null,2)}function s(e,t,n){throw n===void 0&&(n=""),Error(n?'Invalid value for key "'+n+'". Expected type '+JSON.stringify(e)+" but got "+JSON.stringify(t):"Invalid value "+JSON.stringify(t)+" for type "+JSON.stringify(e))}function u(e){if(e.jsonToJS===void 0){var t={};e.props.forEach(function(e){return t[e.json]={key:e.js,typ:e.typ}}),e.jsonToJS=t}return e.jsonToJS}function c(e){if(e.jsToJSON===void 0){var t={};e.props.forEach(function(e){return t[e.js]={key:e.json,typ:e.typ}}),e.jsToJSON=t}return e.jsToJSON}function d(e,t,n,r){r===void 0&&(r="");function o(e,t){return typeof e==typeof t?t:s(e,t,r)}function a(e,t){for(var r=e.length,o=0;o<r;o++){var a=e[o];try{return d(t,a,n)}catch(e){}}return s(e,t)}function i(e,t){return e.indexOf(t)!==-1?t:s(e,t)}function l(e,t){return Array.isArray(t)?t.map(function(t){return d(t,e,n)}):s("array",t)}function u(e){if(e===null)return null;var t=new Date(e);return isNaN(t.valueOf())?s("Date",e):t}function c(e,t,r){if(r===null||typeof r!="object"||Array.isArray(r))return s("object",r);var o={};return Object.getOwnPropertyNames(e).forEach(function(t){var a=e[t],i=Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;o[a.key]=d(i,a.typ,n,a.key)}),Object.getOwnPropertyNames(r).forEach(function(a){Object.prototype.hasOwnProperty.call(e,a)||(o[a]=d(r[a],t,n,a))}),o}if(t==="any")return e;if(t===null)return e===null?e:s(t,e);if(t===!1)return s(t,e);for(;typeof t=="object"&&t.ref!==void 0;)t=C[t.ref];return Array.isArray(t)?i(t,e):typeof t=="object"?Object.prototype.hasOwnProperty.call(t,"unionMembers")?a(t.unionMembers,e):Object.prototype.hasOwnProperty.call(t,"arrayItems")?l(t.arrayItems,e):Object.prototype.hasOwnProperty.call(t,"props")?c(n(t),t.additional,e):s(t,e):t===Date&&typeof e!="number"?u(e):o(t,e)}function m(e,t){return d(e,t,u)}function p(e,t){return d(e,t,c)}function _(e){return{arrayItems:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function g(e,t){return{props:e,additional:t}}function h(e){return{props:[],additional:e}}function y(e){return{ref:e}}var C={TV2PhotoAlbumReportedState:g([{json:"media_parameters",js:"media_parameters",typ:y("MediaParameters")},{json:"media_state",js:"media_state",typ:y("MediaState")}],"any"),MediaParameters:g([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:g([{json:"photo_state",js:"photo_state",typ:f(void 0,y("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:f(void 0,y("VideoMediaState"))}],"any"),PhotoMediaState:g([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:y("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:g([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:y("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};a.exports={TV2PhotoAlbumReportedStateToJson:l,toTV2PhotoAlbumReportedState:e}}),null);
__d("TV2UniqueIDs",["guid"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){var n,r=(n=e.get(t))!=null?n:0;return e.set(t,r+1),""+t+r.toString(36)}function u(){return s("id_tv2_vcr_")}function c(){return s("id_tv2_veqe_")}function d(){return s("id_tv2_toast_")}function m(){return s("id_tv2_rvr_")}function p(){return r("guid")()}l.makeTV2VideoCastRequestID=u,l.makeTV2VideoExperienceQueueEntryID=c,l.makeTV2ToastID=d,l.makeTV2RelatedVideosRequestID=m,l.makeTV2ChainingSessionID=p}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(t,n,r,o,a,i){"use strict";function e(e){try{var n=new RegExp("\\b"+e+"=([^&]*)"),r=n.exec(t.location.search);return!r||r[1]==null?null:r[1]}catch(e){return null}}i.default=e}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(t,n,r,o,a,i,l){"use strict";function e(e){try{return r("getTV2QueryStringCheatcodeValue")(e)==="1"}catch(e){return!1}}l.default=e}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("getTV2QueryStringCheatcode")("debugging")}l.default=e}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getErrorSafe","getTV2DebuggingEnabled"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===null?"null":e===""?"empty string":Array.isArray(e)?"array":typeof e=="object"?"object with keys: "+JSON.stringify(Object.keys(e).sort()):typeof e}function s(t,n,o){if(typeof t!="string"||t===""){var a=r("err")("Message parse error: %s expected JSON string, got %s",o,e(t));throw a}var i;try{return i=JSON.parse(t),n(i,o)}catch(e){if(typeof e=="object"&&e!=null&&"messageFormat"in e&&typeof e.messageFormat=="string"&&"messageParams"in e&&Array.isArray(e.messageParams))throw e;var l=r("getErrorSafe")(e),s=r("err")("Message parse error: %s expected JSON string, got error: %s",o,l.message);throw s}}function u(t,n){if(typeof t!="object"||t==null){var o=r("err")("Message parse error: %s expected object, got %s",n,e(t));throw o}return t}function c(t,n){if(t==null)return null;if(typeof t!="object"||t==null){var o=r("err")("Message parse error: %s expected object, got %s",n,e(t));throw o}return t}function d(t,n){if(!Array.isArray(t)){var o=r("err")("Message parse error: %s expected array, got %s",n,e(t));throw o}return t}function m(t,n){if(!Array.isArray(t)){var o=r("err")("Message parse error: %s expected array, got %s",n,e(t));throw o}return t.map(function(e){return _(e,n)})}function p(t,n){if(!Array.isArray(t)){var o=r("err")("Message parse error: %s expected array, got %s",n,e(t));throw o}return t.filter(Boolean).map(function(e){return _(e,n)})}function _(t,n){if(typeof t!="string"||t===""){var o=r("err")("Message parse error: %s expected non-empty string, got %s",n,e(t));throw o}return t}function f(t,n){if(t==null)return null;if(typeof t!="string"||t===""){var o=r("err")("Message parse error: %s expected optional non-empty string, got %s",n,e(t));throw o}return t}function g(t,n){if(t==null)return null;if(typeof t!="string"){var o=r("err")("Message parse error: %s expected optional string, got %s",n,e(t));throw o}return t}function h(t,n){if(t==null)return null;if(!(typeof t=="number"&&Number.isFinite(t)||typeof t=="string"&&t!=="")){var o=r("err")("Message parse error: %s expected optional non-empty string or number, got %s",n,e(t));throw o}return t}function y(t,n){if(typeof t!="number"||!Number.isFinite(t)){var o=r("err")("Message parse error: %s expected finite number, got %s",n,e(t));throw o}return t}function C(t,n){if(t==null)return null;if(typeof t!="number"||!Number.isFinite(t)){var o=r("err")("Message parse error: %s expected optional finite number, got %s",n,e(t));throw o}return t}function b(e,t){return e==="true"||e===!0}function v(e,t,n){return n===void 0&&(n=!1),e==null?n:e===!0}function S(t,n){if(typeof t!="boolean"){var o=r("err")("Parse error: %s expected boolean, got %s",n,e(t));throw o}return t}function R(e,t){var n=e!=null?u(e,t):null;if(n==null)return null;var r=_(n.uri,t+".uri"),o=y(n.width,t+".width"),a=y(n.height,t+".height");return{height:a,uri:r,width:o}}function L(e,t){var n=e!=null?u(e,t):null;if(n==null)return null;var r=u(n.image,t+".image"),o=_(r.uri,t+".image.uri");return{uri:o}}function E(e,t){if(e==null)return null;var n=d(e,t);return n.map(function(e,t){return _(e,"["+t+"]")})}function k(e,t){return s(e,function(e,t){var n=d(e,t);return n.map(function(e,n){var r=t+"."+n;return T(u(e,r),r)})},t)}function I(e,t){return s(e,function(e,t){return T(u(e,t),t)},t)}function T(e,n){var a=_(e.access_token,n+".access_token"),i=String(h(e.app_id,n+".app_id")),l=g(e.app_version,n+".app_version"),s=R(e.background_image,n+".background_image"),u=f(e.channel_token,n+".channel_token"),c=f(e.channel_session_id,n+".channel_session_id"),d=g(e.end_cursor,n+".end_cursor")||null,m=v(e.from_next_video_query,n+".from_next_video_query"),y=v(e.is_ad,n+".is_ad"),C=E(e.dash_prefetched_representation_ids,n+".dash_prefetched_representation_ids"),b=f(e.entry_point,n+".entry_point"),S=f(e.player_origin===""?null:e.player_origin,n+".player_origin"),k=f(e.player_suborigin===""?null:e.player_suborigin,n+".player_suborigin"),I=L(e.preferred_thumbnail,n+".preferred_thumbnail"),T=f(e.video_channel_id,n+".video_channel_id"),D=_(e.root_video_id,n+".root_video_id"),x=r("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(t.location.search):null,$=x&&x[1]?x[1]:_(e.video_id,n+".video_id"),P=e.tracking_codes!=null?p(e.tracking_codes,n+".tracking_codes"):null;return{accessToken:a,appID:i,appVersion:l,backgroundImage:s,chainingEnabled:!1,channelSessionID:c,channelToken:u,dashPrefetchedRepresentationIDs:C,endCursor:d,entryPoint:b,fromNextVideoQuery:m,isAd:y,playerOrigin:S,playerSuborigin:k,preferredThumbnail:I,rootVideoID:D,startTimestamp:0,trackingCodes:P,videoCastRequestID:o("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:T,videoID:$}}function D(t,n){var o=u(t,n),a=_(o.type,n+".type");switch(a){case"version_response":return o;case"version_launch_response":return o;case"experience_state":return o;case"command_result":return o;case"duration_change":return o;case"status_update":return o;case"experience_status_update":return o}var i=r("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",e(o));throw i}function x(e){return s(e,D,".")}function $(t){var n=x(t);switch(n.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return n}var o=r("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",e(n));throw o}function P(e){return o("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(e)}l.parseJSONString=s,l.parseObject=u,l.parseOptionalObject=c,l.parseArray=d,l.parseStringArray=m,l.parseTrackingCodes=p,l.parseNonEmptyString=_,l.parseOptionalNonEmptyString=f,l.parseOptionalString=g,l.parseNumber=y,l.parseOptionalNumber=C,l.parseOptionalStringishBoolean=b,l.parseOptionalBoolean=v,l.parseBoolean=S,l.parseVideoCastingPayloadBackgroundImage=R,l.parseVideoCastingPayloadPreferredThumbnail=L,l.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=k,l.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=I,l.parseVideoCastingPayloadAsTV2VideoCastRequest=T,l.parseTV2CommsFBAppOutboundMessageFromJSON=x,l.parseCastingReceiverResponseMessageFromJSON=$,l.parseCastingReceiverPhotoAlbumReportedState=P}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},t={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},r={defaultValue:null,kind:"LocalArgument",name:"requestID"},o=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:0x5bc08d3f803b9},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[e,t,r],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:o,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,r,t],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:o},params:{id:n("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("fetchCtvCastPayloadQuery.graphql");function u(e){var t=e.castSessionID,n=e.environment;return o("CometRelay").fetchQuery(n,s,{castSessionID:t,mediaParameters:"{}",requestID:r("guid")()}).toPromise().then(function(e){return e!=null&&e.ctv_cast_payload!=null&&typeof e.ctv_cast_payload=="string"?{payload:e.ctv_cast_payload,type:"loaded"}:{error:r("err")("Payload was not string"),type:"error"}}).catch(function(e){var t=r("getErrorSafe")(e);return{error:t,type:"error"}})}function c(e){var t=e.albumID,n=e.castSessionID,a=e.environment;return o("CometRelay").fetchQuery(a,s,{castSessionID:n,mediaParameters:JSON.stringify({album_id:t}),requestID:r("guid")()}).toPromise().then(function(e){return typeof(e==null?void 0:e.ctv_cast_payload)=="string"?{payload:e.ctv_cast_payload,type:"loaded"}:{error:r("err")("Payload was not string"),type:"error"}}).catch(function(e){var t=r("getErrorSafe")(e);return{error:t,type:"error"}})}l.fetchPhotoCastPayload=u,l.fetchAlbumCastPayload=c}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},t={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},r={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},o={defaultValue:null,kind:"LocalArgument",name:"videoID"},a=[{kind:"Variable",name:"id",variableName:"videoID"}],i={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:a,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[i],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,t,r,e],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:a,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("fetchVideoCastPayload",["CometRelay","Promise","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("fetchVideoCastPayloadQuery.graphql");function c(e){var t=e.castSessionID,a=e.environment,i=e.playerOrigin,l=e.playerSubOrigin,c=e.videoID;return r("gkx")("20113")?(s||(s=n("Promise"))).resolve({type:"video_cannot_be_casted"}):o("CometRelay").fetchQuery(a,u,{castSessionID:t,playerOrigin:i,playerSubOrigin:l,videoID:c}).toPromise().then(function(e){return e==null||e.video==null||e.video.video_cast_payload==null?{type:"video_cannot_be_casted"}:typeof e.video.video_cast_payload=="string"?{payload:e.video.video_cast_payload,type:"loaded"}:{error:r("err")("Payload was not string"),type:"error"}}).catch(function(e){var t=r("getErrorSafe")(e);return{error:t,type:"error"}})}l.default=c}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","removeFromArray","uuidv4","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="PhotoAlbum",c="ChannelVideo",d="Photo",m=(function(){function t(e,t){var n=this;this.$5=[],this.$6=[],this.$7=[],this.$9=function(){var e=o("CastingState").initialCastingState();n.$12(e),n.$13(null)},this.$10=function(e){switch(e.type){case"status_update":n.$16(e);break;case"experience_status_update":n.$17(e);break;default:break}},this.$11=function(e,t){var a;if(o("CastingErrorUtils").isChromecastError(e,"cancel"))r("FBLogger")("fbtv").warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((a=n.$2)==null?void 0:a.type)==="video_channel"){var i,l=(i=n.$2)==null?void 0:i.currentVideoID,s=o("CastingErrorUtils").appendCastingMetadataToExpandedError(o("CastingErrorUtils").getCastingErrorSafe(e),babelHelpers.extends({},l!=null?{videoID:l}:{}));r("FBLogger")("comet_cast_sender").catching(s).mustfix("Receiver error at %s while playing video channel",t),r("promiseDone")(n.$4.stopCasting())}else{var u,c=o("CastingErrorUtils").appendCastingMetadataToExpandedError(o("CastingErrorUtils").getCastingErrorSafe(e),{}),d=((u=n.$2)==null?void 0:u.type)||"";r("FBLogger")("comet_cast_sender").catching(c).mustfix("Receiver error at %s while playing in experience %s",t,d),r("promiseDone")(n.$4.stopCasting())}},this.$1=o("CastingState").initialCastingState(),this.$2=null,this.$3=t,this.$4=e,this.$8=new(r("SubscriptionsHandler")),this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var a=t.prototype;return a.destroy=function(){this.$8.release()},a.getCastingState=function(){return this.$1},a.getCastingExperienceState=function(){return this.$2},a.setCastingState=function(t){this.$1=t},a.setCastingExperienceState=function(t){this.$2=t},a.subscribeToCastingStateChange=function(t){var e=this;return this.$5.push(t),function(){r("removeFromArray")(e.$5,t)}},a.subscribeToCastingExperienceStateChange=function(t){var e=this;return this.$6.push(t),function(){r("removeFromArray")(e.$6,t)}},a.subscribeToCastingEvent=function(t){var e=this;return this.$7.push(t),function(){r("removeFromArray")(e.$7,t)}},a.startPlayVideoNow=function(a){var t=this,i=a.environment,l=a.origin,u=a.position,d=a.subOrigin,m=a.videoID;this.$1.isCastPending||(this.$12(babelHelpers.extends({},this.$1,{isCastPending:!0})),this.$13(null),this.$14({data:{type:"cast_requested",videoID:m},timestamp:(s||(s=r("performanceAbsoluteNow")))()}),r("promiseDone")((e||(e=n("Promise"))).all([r("fetchVideoCastPayload")({castSessionID:this.$3,environment:i,playerOrigin:l,playerSubOrigin:d,videoID:m}),this.$4.getSession().then(function(e){return t.$12(babelHelpers.extends({},t.$1,{receiverIsConnected:!0})),e})]).then(function(a){var i=a[0],l=a[1];if(i.type==="video_cannot_be_casted")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("err")("video_cannot_be_casted"),{videoID:m})).mustfix("The video is not eligible to be casted. The cast request is ignored."),(e||(e=n("Promise"))).resolve();if(i.type==="error")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(i.error,{videoID:m})).mustfix("There was a failure retrieving video cast payload. Video failed to play."),(e||(e=n("Promise"))).resolve();var s=t.$4.isCasting(c),d=null;return s?d=t.$4.playVideoNow({position:u},i.payload):d=t.$4.startCasting(c,{position:u},i.payload),d.then(function(){var e=babelHelpers.extends({},t.$1,t.$15());t.$12(e);var n=o("CastingState").initialVideoChannelExperienceState();t.$13(n)})}).catch(function(e){t.$14({data:{type:"cast_failed",videoID:m},timestamp:(s||(s=r("performanceAbsoluteNow")))()}),o("CastingErrorUtils").isChromecastError(e,"cancel")||r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("getErrorSafe")(e),{videoID:m})).mustfix("Failed to cast video.")}).finally(function(){var e=babelHelpers.extends({},t.$1,{isCastPending:!1});t.$12(e)})))},a.startPhotoCasting=function(a){var t=this,i=a.environment;this.$1.isCastPending||(this.$12(babelHelpers.extends({},this.$1,{isCastPending:!0})),this.$13(null),this.$14({data:{type:"photo_cast_requested"},timestamp:(s||(s=r("performanceAbsoluteNow")))()}),r("promiseDone")((e||(e=n("Promise"))).all([o("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:i}),this.$4.getSession().then(function(e){return t.$12(babelHelpers.extends({},t.$1,{receiverIsConnected:!0})),e})]).then(function(a){r("vulture")("qPXMZG0PSaH9Vn1iXFlpU3QuEMY=");var i=a[0],l=a[1];if(i.type==="error")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(i.error,{})).mustfix("There was a failure retrieving photo cast payload."),(e||(e=n("Promise"))).resolve();var s=t.$4.startCasting(d,{},i.payload);return s.then(function(){var e=babelHelpers.extends({},t.$1,t.$15());t.$12(e),t.$13(o("CastingState").initialPhotoExperienceState())})}).catch(function(e){o("CastingErrorUtils").isChromecastError(e,"cancel")||r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("getErrorSafe")(e),{})).mustfix("Failed to start photo casting session.")}).finally(function(){var e=babelHelpers.extends({},t.$1,{isCastPending:!1});t.$12(e)})))},a.startAlbumSlideshow=function(a){var t=this,i=a.albumID,l=a.environment;this.$1.isCastPending||(this.$12(babelHelpers.extends({},this.$1,{isCastPending:!0})),this.$13(null),r("promiseDone")((e||(e=n("Promise"))).all([o("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:i,castSessionID:this.$3,environment:l}),this.$4.getSession().then(function(e){return t.$12(babelHelpers.extends({},t.$1,{receiverIsConnected:!0})),e})]).then(function(a){var i=a[0],l=a[1];if(i.type==="error")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(i.error,{})).mustfix("There was a failure retrieving album cast payload."),(e||(e=n("Promise"))).resolve();var s=t.$4.startCasting(u,{},i.payload);return s.then(function(){var e=babelHelpers.extends({},t.$1,t.$15());t.$12(e);var n=o("CastingState").initialPhotoAlbumExperienceState();t.$13(n)})}).catch(function(e){o("CastingErrorUtils").isChromecastError(e,"cancel")||r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("getErrorSafe")(e),{})).mustfix("Failed to cast album.")}).finally(function(){var e=babelHelpers.extends({},t.$1,{isCastPending:!1});t.$12(e)})))},a.disconnect=function(){r("promiseDone")(this.$4.stopCasting())},a.play=function(){r("promiseDone")(this.$4.playVideo())},a.pause=function(){r("promiseDone")(this.$4.pauseVideo())},a.setVolume=function(t){r("promiseDone")(this.$4.setVolume(t))},a.mute=function(){r("promiseDone")(this.$4.mute())},a.unmute=function(){r("promiseDone")(this.$4.unmute())},a.seek=function(t){r("promiseDone")(this.$4.seekVideo(t))},a.showSingleMedia=function(t){var e=null;switch(t.type){case"photo":e={photo_id:t.photoID};break;case"video":e={video_id:t.videoID};break;default:t.type;return}r("promiseDone")(this.$4.showPhoto({media_parameters:e,request_id:r("uuidv4")()}))},a.playAlbumSlideshow=function(){r("promiseDone")(this.$4.playAlbumSlideshow())},a.pauseAlbumSlideshow=function(){r("promiseDone")(this.$4.pauseAlbumSlideshow())},a.nextPhotoAlbumSlideshow=function(){r("promiseDone")(this.$4.nextPhotoAlbumSlideshow())},a.previousPhotoAlbumSlideshow=function(){r("promiseDone")(this.$4.previousPhotoAlbumSlideshow())},a.$12=function(t){t!==this.$1&&(this.$1=t,this.$5.slice().forEach(function(e){e(t)}))},a.$13=function(t){t!==this.$2&&(this.$2=t,this.$6.slice().forEach(function(e){e(t)}))},a.$14=function(t){this.$7.slice().forEach(function(e){e(t)})},a.$16=function(t){var e=this.$1,n=this.$2;if(n!=null&&n.type==="video_channel"){var o=t.data.video_id,a=this.$4.getVolume()||0,i=this.$4.isMuted()||!1;o!=null&&this.$14({data:{playbackState:t.data.state,playerInfo:(t==null?void 0:t.player_info)||null,receiverInfo:(t==null?void 0:t.receiver_info)||null,type:"video_status_update",videoID:o},timestamp:(s||(s=r("performanceAbsoluteNow")))()});var l={receiverIsConnected:!0,receiverIsMuted:i,receiverVolume:a};if(o==null)this.$12(babelHelpers.extends({},e,l)),this.$13(babelHelpers.extends({},n,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{var u=babelHelpers.extends({},e,l);this.$12(u),this.$13(babelHelpers.extends({},n,{currentDuration:t.data.duration!=null?t.data.duration:n.currentDuration,currentPlaybackState:t.data.state,currentPosition:t.data.position,currentVideoID:o}))}}},a.$17=function(t){var e=this.$2;if(e!=null&&e.type==="photo_album"&&t.data.name==="PhotoAlbum"){var n,r,a,i=o("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(t.data.payload),l=i.media_state,s=((n=(r=l.photo_state)==null?void 0:r.photo_id)!=null?n:(a=l.video_state)==null?void 0:a.video_id)||null,u=this.$18(l);this.$13(babelHelpers.extends({},e,{currentAssetID:s,currentPlaybackState:u}))}},a.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}},a.$18=function(t){return t.photo_state!=null?t.photo_state.photo_playback_state==="play"?"play":"paused":t.video_state!=null?["play","seeking"].includes(t.video_state.video_playback_state)?"play":"paused":null},t})();l.default=m}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$4=function(e){switch(e.data.type){case"cast_requested":t.logWithAvailableContext({event:"cast_requested",video_id_override:e.data.videoID}),t.$5(e);break;case"photo_cast_requested":t.logWithAvailableContext({event:"photo_cast_requested"}),t.$5(e);break;case"cast_failed":t.$5(e);break;case"video_status_update":{t.$6(e.data.receiverInfo,e.data.playerInfo),t.$5(e);break}default:break}},this.$1=null,this.$2=null,this.$3={cast_session_id:e,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var t=e.prototype;return t.destroy=function(){this.$1!=null&&this.$1(),this.$1=null},t.bindToCastingController=function(t){this.$1=t.subscribeToCastingEvent(this.$4)},t.logWithAvailableContext=function(t){var e=this;r("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers.extends({},e.$3,t)})},t.$5=function(t){var e=t.data;switch(e.type){case"cast_requested":this.$2={data:e,timestamp:t.timestamp};break;case"cast_failed":{var n=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(n!=null?t.timestamp-n.timestamp:0),video_id_override:e.videoID}),this.$2=null;break}case"video_status_update":{var r=this.$2;if(r==null)break;var o=r.data.videoID;e.videoID===o&&e.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(t.timestamp-r.timestamp)}),this.$2=null):e.videoID!==o&&(this.$2=null);break}}},t.$6=function(t,n){var e,r,o,a,i,l,s=(e=t==null?void 0:t.third_party_app_id)!=null?e:null,u=(t==null?void 0:t.cast_receiver_logger_session_id)||null,c=(r=t==null?void 0:t.is_google_cast_bg)!=null?r:null,d=(o=t==null?void 0:t.os_version)!=null?o:null,m=(a=t==null?void 0:t.web_client_revision)!=null?a:null,p=(i=n==null?void 0:n.player_instance_key)!=null?i:null,_=(l=n==null?void 0:n.player_version)!=null?l:null;this.$3=babelHelpers.extends({},this.$3,{is_google_cast_bg:c,third_party_app_id:s,tv_os_version:d,tv_player_instance_key:p,tv_player_version:_,tv_session_id:u,tv_web_client_revision:m})},e})();l.default=e}),98);
__d("TV2MessageTypes",[],(function(t,n,r,o,a,i){"use strict";var e="urn:x-cast:com.facebook.fb",l="urn:x-cast:com.google.cast.media";i.FBAPP_CAST_PROTOCOL_NAMESPACE=e,i.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=l}),66);
__d("TV2PhotoShowRequest",[],(function(t,n,r,o,a,i){"use strict";function e(e){return m(JSON.parse(e),y("TV2PhotoShowRequest"))}function l(e){return JSON.stringify(p(e,y("TV2PhotoShowRequest")),null,2)}function s(e,t,n){throw n===void 0&&(n=""),Error(n?'Invalid value for key "'+n+'". Expected type '+JSON.stringify(e)+" but got "+JSON.stringify(t):"Invalid value "+JSON.stringify(t)+" for type "+JSON.stringify(e))}function u(e){if(e.jsonToJS===void 0){var t={};e.props.forEach(function(e){return t[e.json]={key:e.js,typ:e.typ}}),e.jsonToJS=t}return e.jsonToJS}function c(e){if(e.jsToJSON===void 0){var t={};e.props.forEach(function(e){return t[e.js]={key:e.json,typ:e.typ}}),e.jsToJSON=t}return e.jsToJSON}function d(e,t,n,r){r===void 0&&(r="");function o(e,t){return typeof e==typeof t?t:s(e,t,r)}function a(e,t){for(var r=e.length,o=0;o<r;o++){var a=e[o];try{return d(t,a,n)}catch(e){}}return s(e,t)}function i(e,t){return e.indexOf(t)!==-1?t:s(e,t)}function l(e,t){return Array.isArray(t)?t.map(function(t){return d(t,e,n)}):s("array",t)}function u(e){if(e===null)return null;var t=new Date(e);return isNaN(t.valueOf())?s("Date",e):t}function c(e,t,r){if(r===null||typeof r!="object"||Array.isArray(r))return s("object",r);var o={};return Object.getOwnPropertyNames(e).forEach(function(t){var a=e[t],i=Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;o[a.key]=d(i,a.typ,n,a.key)}),Object.getOwnPropertyNames(r).forEach(function(a){Object.prototype.hasOwnProperty.call(e,a)||(o[a]=d(r[a],t,n,a))}),o}if(t==="any")return e;if(t===null)return e===null?e:s(t,e);if(t===!1)return s(t,e);for(;typeof t=="object"&&t.ref!==void 0;)t=C[t.ref];return Array.isArray(t)?i(t,e):typeof t=="object"?Object.prototype.hasOwnProperty.call(t,"unionMembers")?a(t.unionMembers,e):Object.prototype.hasOwnProperty.call(t,"arrayItems")?l(t.arrayItems,e):Object.prototype.hasOwnProperty.call(t,"props")?c(n(t),t.additional,e):s(t,e):t===Date&&typeof e!="number"?u(e):o(t,e)}function m(e,t){return d(e,t,u)}function p(e,t){return d(e,t,c)}function _(e){return{arrayItems:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function g(e,t){return{props:e,additional:t}}function h(e){return{props:[],additional:e}}function y(e){return{ref:e}}var C={TV2PhotoShowRequest:g([{json:"media_parameters",js:"media_parameters",typ:y("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:g([{json:"photo_id",js:"photo_id",typ:f(void 0,"")},{json:"video_id",js:"video_id",typ:f(void 0,"")}],"any")};a.exports={TV2PhotoShowRequestToJson:l,toTV2PhotoShowRequest:e}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","FBLogger","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","getErrorSafe","promiseDone","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";var e,s="1.2.0",u=(function(){function t(e){var t=this;this.$5=null,this.$6=null,this.$10=null,this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$16=[],this.$17=[],this.$18=[],this.$19=[],this.$4=new(r("CastingChromecastScanner"))(e,o("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE),this.$2=null,this.$1=!1,this.$3=0,this.$6=null,this.$9=new Map,this.$20=new(r("SubscriptionsHandler")),this.$20.addSubscriptions(this.$4.onStatusChanged(function(e){var n=e.foundReceiver;t.$15.slice().forEach(function(e){e(!!n)})}),this.$4.onSessionDisconnected(function(){t.$21(),t.$14.slice().forEach(function(e){e()})}),this.$4.onSessionStarted(function(e){t.$22(e)}),this.$4.onError(function(e,n){t.$11.slice().forEach(function(t){t(e,n)})})),this.$7=this.$4.init(),r("promiseDone")(this.$7.then(function(){t.$2=!0,t.$1=!0,t.$13.slice().forEach(function(e){e()})},function(e){t.$2=!1,t.$12.slice().forEach(function(t){t(e)})}))}var a=t.prototype;return a.ready=function(){return this.$7},a.hasSupport=function(){return this.$2},a.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()},a.isCasting=function(t){var e=!!this.$5&&this.$5.isCasting();return e&&t!=null&&(e=this.$6!=null&&this.$6.indexOf(t)>=0),e},a.getSession=function(){var e=this;return this.ready().then(function(){var t=e.$5;t!=null&&!t.isConnected()&&e.$21()}).then(function(){return e.$5?e.$5:(e.$8||(e.$8=e.$23()),e.$8)}).catch(function(t){throw e.$11.slice().forEach(function(e){e(t,"CastingReceiverManager.getSession")}),t}).finally(function(){e.$8=null})},a.startCasting=function(t,n,r){var e=this;return this.$24(t,n,r).then(function(t){t.success?e.$6=t.target:e.$6=null})},a.stopCasting=function(){var t=this;return this.isCasting()?this.ready().then(function(){var e=t.$5;return e!=null&&e.isDisconnected()&&t.$21(),t.$5}).then(function(t){return t==null?(e||(e=n("Promise"))).resolve(null):t.disconnect()}).then(function(){t.$21()}):(e||(e=n("Promise"))).resolve()},a.playVideoNow=function(r,o){return this.isCasting()?this.$25("next_video",babelHelpers.extends({},r,{auto_advance:!0}),o).then(function(){}):(e||(e=n("Promise"))).resolve()},a.skipToNextVideo=function(){return this.isCasting()?this.$25("skip_video").then(function(){}):(e||(e=n("Promise"))).resolve()},a.playVideo=function(r){return this.isCasting()?this.$25("play_video",{position:r||0}).then(function(){}):(e||(e=n("Promise"))).resolve()},a.pauseVideo=function(){return this.isCasting()?this.$25("pause_video").then(function(){}):(e||(e=n("Promise"))).resolve()},a.seekVideo=function(r){return this.isCasting()?this.$25("seek_video",{position:r}).then(function(){}):(e||(e=n("Promise"))).resolve()},a.showPhoto=function(r){return this.isCasting()?this.$25("show_photo",void 0,o("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(r),"Photo").then(function(){}):(e||(e=n("Promise"))).resolve()},a.stopVideo=function(){return this.isCasting()?this.$25("stop_video").then(function(){}):(e||(e=n("Promise"))).resolve()},a.playAlbumSlideshow=function(){return this.isCasting()?this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.pauseAlbumSlideshow=function(){return this.isCasting()?this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.nextPhotoAlbumSlideshow=function(){return this.isCasting()?this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.previousPhotoAlbumSlideshow=function(){return this.isCasting()?this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()},a.getVolume=function(){return this.$5==null?null:this.$5.getVolume()},a.setVolume=function(r){return!this.isCasting()||this.$5==null?(e||(e=n("Promise"))).resolve():this.$5.setVolume(r)},a.isMuted=function(){return!this.isCasting()||this.$5==null?null:this.$5.isMuted()},a.mute=function(){return!this.isCasting()||this.$5==null?(e||(e=n("Promise"))).resolve():this.$5.mute()},a.unmute=function(){return!this.isCasting()||this.$5==null?(e||(e=n("Promise"))).resolve():this.$5.unmute()},a.$26=function(){var e=this,t=this.$27();return this.$28(function(e){return{data:{client_cast_session:t,version:s},num:e,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(t){var n=t.messageNum;return e.$29(function(e){return e.response_num===n})}).then(function(e){if(e.type!=="version_response")throw r("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_response"');if(e.data==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Version response is missing data");return e.data})},a.$24=function(t,n,o){var e=this,a=this.$27();return this.$28(function(e){return{data:{client_cast_session:a,name:t,params:n,payload:o,version:s},num:e,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(t){var n=t.messageNum;return e.$29(function(e){return e.response_num===n})}).then(function(e){if(e.type!=="version_launch_response")throw r("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_launch_response"');if(e.data==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Version launch response is missing data");return e.data})},a.$30=function(){var t=this;return this.$6!=null?(e||(e=n("Promise"))).resolve(this.$6):this.getSession().then(function(e){return t.$26()}).then(function(e){var n=null;if(typeof e.currently_running_experience=="object"&&(n=e.currently_running_experience),n==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Session has no target");return t.$6=n,t.$6})},a.$27=function(){var e=null;return localStorage&&(e=localStorage.getItem("CastingSessionKey")),e==null&&(e=r("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",e)),e},a.$28=function(t){var e=this.$3+=2;return this.getSession().then(function(n){if(n==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("The message can not be sent without a session");var o=t(e);return n.sendMessage(o)}).then(function(){return{messageNum:e}})},a.$29=function(a){return this.getSession().then(function(t){if(t==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("The message cannot be received without a session");return new(e||(e=n("Promise")))(function(e,n){var r=t.onMessage(function(t){try{var i=o("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(t);if(i.type==="version_response"||i.type==="version_launch_response"||i.type==="experience_state"||i.type==="command_result"){var l=!a||a(i);l&&(r.remove(),e(i))}}catch(e){r.remove(),n(e)}})})})},a.$25=function(t,n,o,a){var e=this;return this.$30().then(function(r){return e.$28(function(e){return{data:{cmd:t,name:a,params:n,payload:o},num:e,target:r,timestamp:Date.now(),type:"experience_command"}})}).then(function(t){var n=t.messageNum;return e.$29(function(e){return e.response_num===n})}).then(function(e){if(e.type!=="command_result")throw r("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "command_result"');return e.data})},a.$23=function(){var e=this;return this.$4.getSession().then(function(t){return e.$5==null&&(e.$5=t),e.$5})},a.$22=function(t){var e=this;this.$5=t;var n="extension";this.$8&&(n="site"),r("promiseDone")(this.$26().then(function(a){var i=null;typeof a.currently_running_experience=="object"&&(i=a.currently_running_experience),i!=null&&(e.$6=i),e.$18.slice().forEach(function(r){r(t,{session:t,source:n,success:!0,target:e.$6})}),e.$10=t.onMessage(function(t){try{var n=o("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(t);e.$17.slice().forEach(function(e){e(n)})}catch(t){var a=r("getErrorSafe")(t);e.$11.slice().forEach(function(e){e(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))},a.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var e=this.$5;e!=null&&e.destroy(),this.$5=null,this.$6=null},a.onError=function(t){var e=this.$11;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onExperienceNotSupported=function(t){var e=this.$12;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onExperienceReady=function(t){var e=this.$13;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onReceiverDisconnected=function(t){var e=this.$14;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onReceiverStatusChanged=function(t){var e=this.$15;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionDisconnected=function(t){var e=this.$16;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionMessage=function(t){var e=this.$17;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionStarted=function(t){var e=this.$18;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onStopView=function(t){var e=this.$19;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},t})();l.default=u}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","FBLogger","Promise","guid","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useContext,m=c.useEffect,p=c.useState,_=null;function f(){if(_!=null)return _;var e=new(r("CastingReceiverManager"))("AAF8F49E"),t=r("guid")(),n=new(r("CastingController"))(e,t),o=new(r("CastingEventReporter"))(t);return o.bindToCastingController(n),_={castingController:n,castingEventReporter:o,castingReceiverManager:e},_}function g(){var e=h(),t=e.castingReceiverManager;return t}function h(){var t=o("react-compiler-runtime").c(1);if((s||(s=r("ExecutionEnvironment"))).canUseDOM&&r("CurrentUser").isLoggedIn()){var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=f(),t[0]=a):a=t[0],a}throw new(e||(e=n("Promise")))(y)}function y(){}function C(){var e=h(),t=e.castingController;return t}function b(){var e=o("react-compiler-runtime").c(6),t=g(),n=d(o("CastingContext").SetCastingControllerContext),r=p(!1),a=r[0],i=r[1],l=p(!1),s=l[0],u=l[1],c,_;e[0]!==t?(c=function(){var e=t.onExperienceReady(function(){i(t.hasSupport()||!1)});return i(t.hasSupport()||!1),(function(){return e.remove()})},_=[t],e[0]=t,e[1]=c,e[2]=_):(c=e[1],_=e[2]),m(c,_);var f,h;return e[3]!==t?(f=function(){var e=t.onReceiverStatusChanged(function(){u(t.hasFoundReceiver()||!1)});return u(t.hasFoundReceiver()||!1),(function(){return e.remove()})},h=[t],e[3]=t,e[4]=f,e[5]=h):(f=e[4],h=e[5]),m(f,h),!(n==null||!a||!s)}function v(){var e=o("react-compiler-runtime").c(4),t=C(),n=d(o("CastingContext").SetCastingControllerContext);if(n==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Casting has to be initialized inside CastingProvider.");var a,i;e[0]!==t||e[1]!==n?(a=function(){n(t)},i=[n,t],e[0]=t,e[1]=n,e[2]=a,e[3]=i):(a=e[2],i=e[3]),m(a,i)}l.useCastingController=C,l.useIsCastAvailable=b,l.useCastingInitializeIfNecessary=v}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","FBLogger","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","useCometLazyDialog"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=r("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function g(e){var t,n=o("react-compiler-runtime").c(14),a=e.subOrigin;o("CastingControllerHooks").useCastingInitializeIfNecessary();var i=(t=(c||(c=o("VideoPlayerHooks"))).useVideoFbid())!=null?t:"",l=(c||(c=o("VideoPlayerHooks"))).useController(),m=o("CometRelay").useRelayEnvironment(),p=o("CastingControllerHooks").useCastingController(),g=_(r("CometWatchAndScrollVideoContext")),h=r("useCometLazyDialog")(f),y=h[0],C=g==null?void 0:g.videoID,b;n[0]!==p||n[1]!==m||n[2]!==a||n[3]!==l||n[4]!==i?(b=function(){if(i!=null){var e=l.getPlayheadPosition();p.startPlayVideoNow({environment:m,origin:"video_home",position:e,subOrigin:a,videoID:i})}else r("FBLogger")("comet_video_player").mustfix("Could not transition to Cast player because videoID was null")},n[0]=p,n[1]=m,n[2]=a,n[3]=l,n[4]=i,n[5]=b):b=n[5];var v=b,S;n[6]!==v||n[7]!==y||n[8]!==C?(S=function(){C!=null?y({onContinue:v,startingVideoType:"cast"},r("emptyFunction")):v()},n[6]=v,n[7]=y,n[8]=C,n[9]=S):S=n[9];var R=S,L;n[10]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Cast video to your TV"),n[10]=L):L=n[10];var E=L,k;n[11]===Symbol.for("react.memo_cache_sentinel")?(k=o("fbicon")._(u("788899"),20),n[11]=k):k=n[11];var I;return n[12]!==R?(I=d.jsx(r("VideoPlayerControlIcon.react"),{color:"white",icon:k,label:E,onPress:R,tooltip:E}),n[12]=R,n[13]=I):I=n[13],I}l.default=g}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.subOrigin,a=o("CastingControllerHooks").useIsCastAvailable()&&!r("gkx")("20113");if(!a)return null;var i;return t[0]!==n?(i=s.jsx(r("VideoPlayerCastControlIcon.react"),{subOrigin:n}),t[0]=n,t[1]=i):i=t[1],i}l.default=u}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["ix","CometImage.react","CometPressable.react","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={pressableOption:{width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(30),n=e.setPane,a=e.targetAudioTrack,i,l,d,m,p,_,f,g;if(t[0]!==n||t[1]!==(a==null?void 0:a.lang)||t[2]!==(a==null?void 0:a.role)){var h=o("VideoPlayerAudioTrackUtils").getIntlDisplayName(r("CurrentLocale").get(),a==null?void 0:a.lang);i=r("CometPressable.react"),t[11]!==n?(p=function(){n(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},t[11]=n,t[12]=p):p=t[12],_="VideoPlayerSettingsMenu/mainPaneAudioTrackItem",f=c.pressableOption,t[13]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx("div",{className:"x1ypdohk x1s688f",children:o("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM}),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j xn80e1m"},t[13]=m,t[14]=g):(m=t[13],g=t[14]),l="VideoPlayerSettingsMenu/mainPaneAudioTrackItemLabelManuallySelected",d=(a==null?void 0:a.role)===null?o("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_OFF:(a==null?void 0:a.role)==="dub"&&h!=null?o("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(h):null,t[0]=n,t[1]=a==null?void 0:a.lang,t[2]=a==null?void 0:a.role,t[3]=i,t[4]=l,t[5]=d,t[6]=m,t[7]=p,t[8]=_,t[9]=f,t[10]=g}else i=t[3],l=t[4],d=t[5],m=t[6],p=t[7],_=t[8],f=t[9],g=t[10];var y;t[15]!==l||t[16]!==d?(y=u.jsx("span",{"data-testid":void 0,children:d}),t[15]=l,t[16]=d,t[17]=y):y=t[17];var C;t[18]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x3nfvp2 xmgb6t1 xwklpps"},t[18]=C):C=t[18];var b;t[19]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx("span",babelHelpers.extends({},C,{children:u.jsx(r("CometImage.react"),{isDecorative:!0,src:s("480587")})})),t[19]=b):b=t[19];var v;t[20]!==m||t[21]!==y?(v=u.jsxs("div",babelHelpers.extends({},m,{children:[y,b]})),t[20]=m,t[21]=y,t[22]=v):v=t[22];var S;return t[23]!==i||t[24]!==v||t[25]!==p||t[26]!==_||t[27]!==f||t[28]!==g?(S=u.jsxs(i,{onPress:p,testid:void 0,xstyle:f,children:[g,v]}),t[23]=i,t[24]=v,t[25]=p,t[26]=_,t[27]=f,t[28]=g,t[29]=S):S=t[29],S}l.default=d}),98);/*FB_PKG_DELIM*/
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var o;return o=e.call(this)||this,o.$CrossWindowEventEmitter$p_2=t,o.$CrossWindowEventEmitter$p_1=new(r("CacheStorage"))("localstorage",t+":"),o.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(t,r,a){var i=t.split(":")[1],l;try{l=n("cr:8958").parse(a)}catch(e){l=void 0}if(l&&l.__v){var s;(s=e.prototype.emit).call.apply(s,[o,i].concat(l.__v))}}),o}babelHelpers.inheritsLoose(t,e);var o=t.prototype;return o.emit=function(n){for(var t,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];this.emitRemote.apply(this,[n].concat(o)),(t=e.prototype.emit).call.apply(t,[this,n].concat(o))},o.emitRemote=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.$CrossWindowEventEmitter$p_1.set(t,n)},t})(r("EventEmitter"));l.default=e}),98);
__d("IrisSubscribeCheckerUtils",[],(function(t,n,r,o,a,i){"use strict";function e(){if(typeof window!="undefined"){var e,t=(e=window.location)==null?void 0:e.hostname;if(t==="m.facebook.com"||t==="mobile.facebook.com"||t==="mtouch.facebook.com")return!1}return!0}i.getIrisSubscribeCheckerInitialRunningState=e}),66);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=o("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=o("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=e}var t=e.prototype;return t.start=function(){this.$6=!0},t.stop=function(){this.$6=!1,this.$9()},t.onConnectAttempt=function(){},t.onConnectFailure=function(){this.$9()},t.onConnected=function(){var e=this;this.$7++,this.$9(),this.$3=!1,this.$4=!1,this.$5=!1,this.$6&&(this.$2=o("MqttEnv").Env.setTimeout(function(){e.$10()},8e3))},t.onConnectSuccess=function(){},t.onConnectionLost=function(){this.$9()},t.onConnectionDisconnect=function(){},t.onSubscribe=function(t){t==="/t_ms"&&(this.$3=!0)},t.onUnsubscribe=function(t){},t.onPublish=function(t){(t==="/messenger_sync_get_diffs"||t==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))},t.onMessage=function(t){},t.onWSFatal=function(){},t.$9=function(){this.$2&&(o("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)},t.$10=function(){if(this.$4===!1){var e=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(e),this.$8()?this.$1.bumpCounter(e+".withProvider"):this.$1.bumpCounter(e+".withoutProvider"),this.$3===!0?this.$1.bumpCounter(e+".withTopicSubscribe"):this.$1.bumpCounter(e+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe"),this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")},e})();l.default=e}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){var e=this;this.isTabClosed=!1,this.otherTabs=new Map,this.thisTab={totalConnectionStreams:0},this.broadcastChannel=new(r("CrossWindowEventEmitter"))("MqttGlobalStreamCounter"),this.broadcastChannel.addListener("count-updated",function(t){var n=JSON.parse(String(t)),r=!1;e.otherTabs.has(n.key)||(r=!0),n.event==="DELETE"?e.otherTabs.delete(n.key):n.event==="UPDATE"&&n.value!=null&&(e.otherTabs.set(n.key,n.value),r&&e.$1())}),this.tabID=r("uuidv4")()}var t=e.prototype;return t.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()},t.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())},t.tabClosed=function(){if(!this.isTabClosed){this.isTabClosed=!0;var e={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(e))}},t.getGlobalState=function(){var e={totalConnectionStreams:this.thisTab.totalConnectionStreams};return this.otherTabs.forEach(function(t){e.totalConnectionStreams+=t.totalConnectionStreams}),e},t.$1=function(){var e={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(e))},t.isEnabled=function(){return!0},e})(),s=o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new e:{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}},u=function(){return s};l.getInstance=u}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=o("MqttEnv").Env.getLoggerInstance(),this.$2=o("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),o("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var t=e.prototype;return t.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()},t.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()},t.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")},t.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")},t.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")},t.onConnectionDisconnect=function(){this.$2.streamClosed()},t.onSubscribe=function(t){},t.onUnsubscribe=function(t){},t.onPublish=function(t){this.$1.bumpCounter("ws_publish."+t)},t.onMessage=function(t){this.$1.bumpCounter("message_arrived."+t)},t.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")},t.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()},t.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++},t.onPollResponse=function(t){this.$1.bumpCounter("lp.message_arrived."+t)},t.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()},t.onPollRequestFailed=function(t){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+t),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()},t.onPollShutdownAbort=function(){this.$2.streamClosed()},t.onTabClose=function(){this.$2.tabClosed()},e})();l.default=e}),98);
__d("MqttConnectionHookCollection",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Set}var t=e.prototype;return t.addHook=function(t){this.$1.add(t)},t.removeHook=function(t){this.$1.delete(t)},t.onConnectAttempt=function(){this.$1.forEach(function(e){e.onConnectAttempt==null||e.onConnectAttempt()})},t.onConnectFailure=function(){this.$1.forEach(function(e){e.onConnectFailure==null||e.onConnectFailure()})},t.onConnected=function(){this.$1.forEach(function(e){e.onConnected==null||e.onConnected()})},t.onConnectSuccess=function(){this.$1.forEach(function(e){e.onConnectSuccess==null||e.onConnectSuccess()})},t.onConnectionLost=function(){this.$1.forEach(function(e){e.onConnectionLost==null||e.onConnectionLost()})},t.onConnectionDisconnect=function(){this.$1.forEach(function(e){e.onConnectionDisconnect==null||e.onConnectionDisconnect()})},t.onSubscribe=function(t){this.$1.forEach(function(e){e.onSubscribe==null||e.onSubscribe(t)})},t.onUnsubscribe=function(t){this.$1.forEach(function(e){e.onUnsubscribe==null||e.onUnsubscribe(t)})},t.onPublish=function(t){this.$1.forEach(function(e){e.onPublish==null||e.onPublish(t)})},t.onMessage=function(t){this.$1.forEach(function(e){e.onMessage==null||e.onMessage(t)})},t.onWSFatal=function(){this.$1.forEach(function(e){e.onWSFatal==null||e.onWSFatal()})},e})();i.default=e}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=20,s=6e4,u=(function(){function t(e){var t=this;this.$12=function(e,n,r){n===void 0&&(n=null),t.$9.bumpCounter("protocol.debug.disconnect.internal."+e.errorName),t.$9.bumpCounter("protocol.debug.disconnect.internal");var a=t.$5,i=t.$2,l=i.onConnectFailure,s=i.onConnectionLost;t.setConnected(!1),t.$14(),a?o("MqttEnv").Env.scheduleCallback(function(){s(e,n)}):o("MqttEnv").Env.scheduleCallback(function(){l(t.$11,new(o("MqttTypes")).ConnectFailure(e,r!=null?r:-1),n)})},this.$13=function(e){var n=t.$6;if(n==null)return t.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>"),0;if(n.readyState!==n.OPEN)return t.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>"),0;var r=e.encode(),o=r.byteLength;return n.send(r),o},this.$3=e,this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(t,n,r){},onConnection:function(){},onConnectionLost:function(t,n){},onConnectSuccess:function(t){},onMessageArrived:function(t,n,r){},onMessageDelivered:function(t){},userName:""},this.$1="mqttwsclient",this.$4=0,this.$5=!1,this.$9=o("MqttEnv").Env.getLoggerInstance(),this.$11=0}var n=t.prototype;return n.connect=function(n){var t=this;if(this.$5)throw r("err")("Invalid state: connect - already connected");this.$2=n,this.setConnected(!1),this.$7!=null&&(o("MqttEnv").Env.clearTimeout(this.$7),this.$7=null),this.$7=o("MqttEnv").Env.setTimeout(function(){t.$9.bumpCounter("protocol.error.connect.timeout"),t.$12(o("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},e*1e3),this.$6=o("MqttEnv").Env.createSocket(this.$3),this.$6.binaryType="arraybuffer",this.$6.onopen=function(){t.setConnected(!0),t.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),t.$11=t.$13(new(o("MqttProtocolCodec")).WireMessage.Connect(t.$1,n)),n.onConnection()},this.$6.onmessage=function(e){var n=e.data;if(!(n instanceof ArrayBuffer)){t.$9.bumpCounter("protocol.error.onmessage.type"),t.$12(o("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{var a=new Uint8Array(n);t.$10!=null&&(a=o("MqttProtocolUtils").concatBuffers(t.$10,a),t.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete t.$10,t.$10=null);var i=o("MqttProtocolCodec").decodeByteMessages(a),l=i.messages;t.$10=i.remaining;for(var s=0;s<l.length;s++)t.handleMessage(l[s])}catch(e){var u=r("getErrorSafe")(e);t.$10=null,t.$9.logError(u,o("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),t.$9.bumpCounter("protocol.error.onmessage.parse"),t.$12(o("MqttTypes").MqttErrors.SOCKET_MESSAGE,u.message)}},this.$6.onerror=function(e){t.$9.bumpCounter("protocol.error.socket"),t.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");var n=typeof e=="object"&&e!=null&&"error"in e&&!("message"in e)?e.error:e;t.$12(o("MqttTypes").MqttErrors.SOCKET_ERROR,r("ErrorSerializer").toReadableMessage(r("getErrorSafe")(n)))},this.$6.onclose=function(e){t.$9.bumpCounter("protocol.socket.close"),e.wasClean||t.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+e.code+" reason: "+e.reason),t.$12(o("MqttTypes").MqttErrors.SOCKET_CLOSE,e.code+" : "+e.reason)},this.$8!=null&&this.$8.cancel(),this.$8=new(o("MqttProtocolUtils")).Pinger(n.getKeepAliveIntervalSeconds,n.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(o("MqttProtocolCodec")).WireMessage.Ping("PINGREQ")),function(e,n){return t.$12(o("MqttTypes").MqttErrors.PING_TIMEOUT,e,n)})},n.$14=function(){var e=this;this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(o("MqttEnv").Env.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(t){e.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(e){},this.$6.onerror=function(e){},this.$6.onclose=function(t){e.$9.debugTrace("Socket Close After Teardown","code: "+t.code+", reason: "+t.reason)},this.$6.close(),this.$6=null),this.$2.onConnectSuccess=function(e){},this.$2.onConnectFailure=function(e,t){},this.$2.onConnection=function(){},this.$2.onConnectionLost=function(e){},this.$2.onMessageArrived=function(e,t,n){},this.$2.onMessageDelivered=function(e){}},n.disconnect=function(t){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(o("MqttProtocolCodec")).WireMessage.Disconnect),this.$9.bumpCounter("protocol.debug.disconnect"),this.$12(t)},n.isConnected=function(){return this.$5},n.setConnected=function(t){this.$5=t},n.subscribe=function(t){if(!this.$5)throw this.$9.bumpCounter("protocol.error.subscribe.notconnected"),r("err")("Invalid state: subscribe - not connected");this.$9.bumpCounter("protocol.subscribe."+t);var e=new(o("MqttProtocolCodec")).WireMessage.Subscription("SUBSCRIBE",t,0,this.$15());this.$13(e)},n.unsubscribe=function(t){if(!this.$5)throw this.$9.bumpCounter("protocol.error.unsubscribe.notconnected"),r("err")("Invalid state: unsubscribe - not connected");this.$9.bumpCounter("protocol.unsubscribe."+t);var e=new(o("MqttProtocolCodec")).WireMessage.Subscription("UNSUBSCRIBE",t,0,this.$15());this.$13(e)},n.publish=function(t,n,r){return this.$16(t,o("MqttProtocolCodec").createMessageWithString(n),r)},n.publishBinary=function(t,n,r){return this.$16(t,o("MqttProtocolCodec").createMessageWithBytes(n),r)},n.$16=function(t,n,r){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected"),this.$9.bumpCounter("protocol.publish."+t);var e=this.$15(),a=new(o("MqttProtocolCodec")).WireMessage.Publish(t,n,r,e);return this.$13(a),e},n.$15=function(){return++this.$4===s&&(this.$4=1),this.$4},n.handleMessage=function(t){var e=this;switch(t.messageType){case o("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:if(this.$7!=null&&(o("MqttEnv").Env.clearTimeout(this.$7),this.$7=null),t instanceof o("MqttProtocolCodec").WireMessage.ConnAck){var n=t;if(n.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode"),this.setConnected(!1),this.$12(o("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+n.returnCode,n.returnCode);return}o("MqttEnv").Env.scheduleCallback(function(){e.$2.onConnectSuccess(e.$11)}),this.$8!=null&&this.$8.reset()}break;case o("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(t instanceof o("MqttProtocolCodec").WireMessage.Publish){var a=t;o("MqttEnv").Env.scheduleCallback(function(){e.$2.onMessageArrived(a.topic,a.payloadMessage,a.qos)});var i=a.messageIdentifier;if(this.$9.bumpCounter("protocol.publish.received"),a.qos===1&&i!=null){var l=new(o("MqttProtocolCodec")).WireMessage.PubAckUnsubAck("PUBACK",i);this.$13(l)}}break;case o("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(t instanceof o("MqttProtocolCodec").WireMessage.PubAckUnsubAck){var s=t,u=s.messageIdentifier;this.$9.bumpCounter("protocol.puback.received"),o("MqttEnv").Env.scheduleCallback(function(){e.$2.onMessageDelivered(u)})}break;case o("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case o("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(o("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case o("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case o("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(r("err")("MqttProtocolClient: Received unhandled message type: "+t.messageType),"Received unhandled message type"),this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}},t})();l.default=u}),98);
__d("MqttPublishListener",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});i.MqttPublishEvent=e}),66);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=15,u=15,c=1,d=1,m=64,p="publish",_="subscribe",f="unsubscribe",g=function(t){},h=18e4,y=5*1e3,C=15,b=21,v=(function(){function t(){var e=this;this.$38=function(){return e.$20},this.$39=function(){return e.$21},this.$8=!1,this.$10=o("MqttEnv").Env.getLoggerInstance(),this.$11="Disconnected",this.$17=new Set,this.$24=new Map,this.$12=0,this.$13=0,this.$14=0,this.$15=0,this.$16=0,this.$8=!1,this.$5="",this.$6=new(r("MqttUserName"))("",0,1,"",0,!0),this.$9=0,this.$18=0,this.$19=!1,this.$7=null;var t=function(){};this.$1=t,this.$2=t,this.$3=t,this.$25=!1,this.$26=!1,this.$27=new(r("MqttConnectionHookCollection")),this.$4=function(){return[]},this.$20=s,this.$21=u,this.$22=null,this.$23=0}var a=t.prototype;return a.run=function(t){var e=this,n=t.endpoint,r=t.extraConnectMessageProvider,o=t.mqttUserName,a=t.onJSError,i=t.onMessageReceived,l=t.onStateChange,c=t.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=l,this.$3=i,this.$5=n,this.$6=o,this.$8=!0,this.$18=Date.now(),this.$12=0,this.$13=0,this.$2=a||g,c&&c.forEach(function(t){return e.$17.add(t)}),this.$4=r,this.$20=s,this.$21=u,this.$28()},a.shutdown=function(t){this.$29(t),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")},a.subscribe=function(t){return this.$17.add(t),this.ensureConnected(_)&&this.$31(t),!0},a.publish=function(t,n,r,o){return this.$32(t,n,r,o)},a.publishBinary=function(t,n,r,o){return this.$32(t,n,r,o)},a.$32=function(a,i,l,s){var t={reject:function(t){},resolve:function(){}};s!=null&&(t.listener=s);var u=new(e||(e=n("Promise")))(function(e,n){t.resolve=e,t.reject=n}),c=this.ensureConnected(p);return c?this.$33(a,i,l,t):(s==null||s.onEvent(o("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),t.reject(r("err")("Client disconnected"))),u},a.unsubscribe=function(t){return this.$17.delete(t),this.ensureConnected(f)&&this.$34(t),!0},a.addHook=function(t){this.$27.addHook(t)},a.removeHook=function(t){this.$27.removeHook(t)},a.isRunning=function(){return this.$8},a.getSessionId=function(){return this.$9},a.hasFatal=function(){return this.$25},a.hasConnectSuccess=function(){return this.$26},a.canPublish=function(){return this.ensureConnected("canPublish")},a.ensureConnected=function(t){return!(!this.$8||this.$7==null||!this.$7.isConnected())},a.connectionState=function(){return this.$11},a.mqttStateFromConnectionState=function(t){switch(t){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw r("err")("Unknown state "+t)},a.testOnlyGetSubscribedTopics=function(){return this.$17},a.getDisconnectCount=function(){return this.$23},a.$29=function(t){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(t),this.$27.onConnectionDisconnect()),this.$7=null)},a.$36=function(t){if(this.$11==="Connected"&&t==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(t==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted"),this.$19=!0;return}if(t==="Connected"&&this.$18!==0){var e=Date.now()-this.$18;switch(Math.floor(e/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0,this.$19=!1;return}},a.$35=function(t){t!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+t),this.$36(t),this.$11=t,this.$1(t))},a.$28=function(){var e=this;if(this.$8){this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11),this.$35("Connecting");var t=Date.now(),n=this.$10.getBrowserConnectivity();this.$9=o("MqttUtils").generateSessionId();var a=Array.from(this.$17),i=o("MqttUtils").endpointWithSessionId(this.$5,this.$9),l=o("MqttUtils").endpointWithExtraParameter(i,"cid",this.$6.getDeviceId());try{this.$7=new(r("MqttProtocolClient"))(l);var s=this.$37(),u=s.map(function(e){return e.topic}),c=this.$6.gen(this.$9,a,s);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(o,i,l){return e.$40(i,t,e.$18,a,u,n,o,l)},onConnection:function(){return e.$41(s,a)},onConnectionLost:function(n,r){return e.$42(n,r)},onConnectSuccess:function(o){return e.$43(t,e.$18,a,u,n,o)},onMessageArrived:function(n,r,o){return e.$44(n,r,o)},onMessageDelivered:function(n){return e.$45(n)},userName:c}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(e){var d=r("getErrorSafe")(e);this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,t,this.$18,a,[],n,null,14,"init error - "+d.message),e!=null&&this.$10.logErrorWarn(d,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(o("MqttTypes")).MqttChannelError(!1,"ws_js_error",d),"client_init")}}},a.$37=function(){var e=this.$4(),t=65536;return e.map(function(e){return e.messageId=t--,e})},a.$31=function(t){try{if(this.$7!=null)return this.$7.subscribe(t),this.$10.debugTrace("#doSubscribe","Subscribing to "+t),this.$27.onSubscribe(t),this.$10.bumpCounter("protocol.subscribe"),!0}catch(n){var e=r("getErrorSafe")(n);this.$10.logError(e,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+t),this.$10.bumpCounter("protocol.subscribe.error")}return!1},a.$34=function(t){try{if(this.$7!=null)return this.$7.unsubscribe(t),this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+t),this.$27.onUnsubscribe(t),this.$10.bumpCounter("protocol.unsubscribe"),!0}catch(n){var e=r("getErrorSafe")(n);this.$10.logError(e,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+t),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1},a.$33=function(t,n,a,i){if(this.$7!=null)try{var e,l;typeof n=="string"?l=this.$7.publish(t,n,a):l=this.$7.publishBinary(t,n,a),this.$10.bumpCounter("protocol.publish");var s=l!=null?l:"null";return this.$10.debugTrace("#doPublish","publish "+t+" with messageId:"+s+" qos:"+a),this.$27.onPublish(t),(e=i.listener)==null||e.onEvent(o("MqttPublishListener").MqttPublishEvent.SENT),l!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(l,i)):i.resolve(),!0}catch(e){var u=r("getErrorSafe")(e);return this.$10.logError(u,"Exception publishing"),this.$10.bumpCounter("publish_exception."+t),i.reject(u),this.$10.bumpCounter("protocol.publish.error"),!1}else return!1},a.$48=function(t){var e=this;if(t===void 0&&(t=null),!!this.$8){this.$29(o("MqttTypes").MqttErrors.RECONNECT),this.$30("reconnect"),this.$49(),this.$9=-1,this.$16=0;var n=t;n==null&&(n=c*Math.pow(2,this.$12)),n=Math.max(n,d),n=Math.min(n,m);var r=n*(1e3+o("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+r+" ms"),this.$22=o("MqttEnv").Env.setTimeout(function(){e.$28()},r),this.$12+=1}},a.$49=function(){var e=Date.now()-this.$16,t=this.$16!==0&&e>y,n=this.$12>C;(t||n)&&(this.$12=0),this.$16!==0&&e<=y&&this.$10.bumpCounter("short_lived_session"),n&&this.$10.bumpCounter("connection_attempt_limit")},a.$46=function(t,n,r,o,a,i,l,s,u,c){t?this.$14++:this.$15++;var e=Date.now();this.$10.eventLogConnect({ackReceived:n,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:t,disconnectCount:this.$23,duration:e-r,errorCode:u,errorMessage:c,failTotal:this.$15,hostname:this.$5,messageSizeBytes:s,osConnectivity:l,publishes:i,sessionID:this.$9,subscribedTopics:a,successTotal:this.$14,total_duration:e-o}),t&&(this.$13=0)},a.$40=function(t,n,r,o,a,i,l,s){var e=t.mqttError,u=s!=null?e.errorMessage+" - "+s:e.errorMessage;if(this.$10.debugTrace("connect","Connect failed "+u),this.$10.bumpCounter("protocol.onconnectfailure"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure"),this.$27.onConnectFailure(),this.$46(!1,t.connAck!==-1,n,r,o,a,i,l,e.errorCode,u),t.connAck!=null&&(this.$10.bumpCounter("protocol.connect_failure."+t.connAck),t.connAck===b)){this.$48(h);return}this.$48()},a.$41=function(t,n){var e=this;this.$10.bumpCounter("protocol.onconnection"),this.$10.debugTrace("Connect","Socket established"),this.$27.onConnected(),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection"),n.forEach(function(t){e.$27.onSubscribe(t)}),t.forEach(function(t){e.$27.onPublish(t.topic)}),this.$35("TransportConnected")},a.$43=function(t,n,r,o,a,i){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,t,n,r,o,a,i),this.$50(r),this.$16=Date.now()},a.$42=function(t,n){if(this.$10.bumpCounter("protocol.onconnectionlost"),this.$23++,t.errorCode){var e=n!=null?t.errorMessage+" - "+n:t.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:t.errorCode,errorMessage:e,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost"),this.$27.onConnectionLost(),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost"),this.$48()},a.$44=function(t,n,o){this.$10.bumpCounter("protocol.onmessagearrived"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived"),this.$10.debugTrace("onMessageArrived","Message received on "+t),this.$27.onMessage(t);try{this.$3(t,n,o)}catch(n){var e=r("getErrorSafe")(n);this.$10.logError(e,"Listener threw error"),this.$10.bumpCounter("listener_error."+t)}},a.$45=function(t){var e;this.$10.bumpCounter("protocol.onmessagedelivered");var n=t!=null?t:"null";if(this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+n+"}"),t!=null){var r=this.$24.get(t);if(r==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24.delete(t),(e=r.listener)==null||e.onEvent(o("MqttPublishListener").MqttPublishEvent.ACKED),r.resolve(),this.$10.bumpCounter("publish.ack_received")}},a.$30=function(t){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+t),this.$24.forEach(function(e,n,a){var i;(i=e.listener)==null||i.onEvent(o("MqttPublishListener").MqttPublishEvent.NOT_ACKED),e.reject(r("err")(t))}),this.$24.clear()},a.$50=function(t){var e=this,n=new Set(t);n.forEach(function(t){e.$17.has(t)||e.unsubscribe(t)});var r=new Set(this.$17);r.forEach(function(t){n.has(t)||e.subscribe(t)})},a.$47=function(t,n){try{this.$10.bumpCounter("js_error_in_init"),this.$10.bumpCounter(n+".error"),this.$25=!0;var e=t?t.message:"error";this.$10.debugTrace("onError",n+": "+e),this.$2(t)}catch(e){var o=r("getErrorSafe")(e);this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(o,"JS error while trying to log previous error")}},a.setRunning_OnlyForTests=function(t){this.$8=t},t})();l.default=v}),98);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","getErrorSafe","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=29125,u=(function(){function t(e){var t=this,n=e.endpoint,a=e.pollingEndpoint,i=e.userFbid,l=e.appId,s=e.initialSubscribedTopics,u=e.capabilities,c=e.clientCapabilities,d=e.chatVisibility,m=d===void 0?!0:d,p=e.guestAuthString,_=p===void 0?null:p,f=e.phpOverride,g=f===void 0?"":f,h=e.clientType,y=h===void 0?"websocket":h,C=e.deviceId,b=C===void 0?r("ChannelClientID").getID():C,v=e.pageId,S=v===void 0?null:v,R=e.assetIds,L=R===void 0?null:R,E=e.appSpecificInfo,k=E===void 0?null:E;if(this.$11=o("MqttEnv").Env.getLoggerInstance(),this.$11.setAppId(l),this.$12=new(r("MqttUserName"))(i,u,c,b,l,m,_,g,y,S,L,k),this.$1=n,this.$2=a,this.$5="Disconnected",this.$7="LPInactive",this.$6="Disconnected",this.$3=[],this.$4=new Set,this.$8=new Map,this.$9=new Map,this.$10=new(r("MqttConnection")),this.$13=null,this.$16=new(r("MqttAnalyticsHook")),this.$15=new Map,this.$14=[],!o("MqttEnv").Env.isUserLoggedInNow()&&!r("isFastRefreshEnabledForCurrentDomain")()&&(_==null||_=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16),this.$10.addHook(new(r("IrisSubscribeChecker"))(function(){return t.$4.size>0})),this.$17(s),this.$18()}var a=t.prototype;return a.$17=function(t){var e=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){if(r("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!o("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only"),this.$11.bumpCounter("ws_unavailable_polling");return}}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return e.$20()},mqttUserName:this.$12,onJSError:function(n){e.$21(n)},onMessageReceived:function(n,r,o){e.$22(n,r,o)},onStateChange:function(n){e.$23(n)},subscribedTopics:t}),this.$24()},a.$24=function(){var e=this,t=o("Run").onUnload(function(){e.$25(o("MqttTypes").MqttErrors.BROWSER_CLOSE)})},a.shutdown=function(){this.$25(o("MqttTypes").MqttErrors.APP_DISCONNECT)},a.$25=function(t){this.$10&&this.$10.shutdown(t),this.$13&&this.$13.shutdown(),this.$16.onTabClose()},a.publish=function(t,n,r){return this.$26(t,n,r!=null?r:{qos:1,skipBuffer:!1})},a.publishBinary=function(t,n,r){return r===void 0&&(r={qos:1,skipBuffer:!1}),this.$26(t,n,r)},a.$26=function(t,n,r){r===void 0&&(r={qos:1,skipBuffer:!1});var e;return r.qos===0?e=this.$27(t,n,r.listener):e=this.$28(t,n,r),o("MqttUtils").promiseDone(e,function(){},function(e){var t;(t=r.listener)==null||t.onEvent(o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)}),e},a.$27=function(t,n,r){return this.$29(t,n,0,r,1,null)},a.$28=function(r,a,i){var t={reject:function(t){},resolve:function(){}},l=new(e||(e=n("Promise")))(function(e,n){t.resolve=e,t.reject=n}),s=o("MqttEnv").Env.random(),u={ack:t,attempt:0,options:i,payload:a,publishToken:s,startTime:Date.now(),timeoutId:null,topic:r};if(i.skipBuffer)if(this.$10.connectionState()==="Connecting"){var c;this.$14.push(u),(c=i.listener)==null||c.onEvent(o("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(u);else{var d;u.timeoutId=this.$31(s),this.$15.set(s,u),(d=i.listener)==null||d.onEvent(o("MqttPublishListener").MqttPublishEvent.QUEUED),this.$32(u)}return l},a.$30=function(t){t.attempt+=1,o("MqttUtils").promiseDone(this.$29(t.topic,t.payload,t.options.qos,t.options.listener,t.attempt,t.startTime),function(){t.ack.resolve()},function(e){t.ack.reject(e)})},a.$32=function(t){var e=this;t.attempt+=1,o("MqttUtils").promiseDone(this.$29(t.topic,t.payload,t.options.qos,t.options.listener,t.attempt,t.startTime),function(){return e.$33(t)},function(e){})},a.$29=function(t,n,a,i,l,s){var e=this,u,c,d=this.getConnectionState(),m=Date.now();return!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof n=="string"?u=this.$13.publish(t,n,a):u=this.$13.publishBinary(t,n,a),c="lp",i!=null&&(u=u.then(function(){return i.onEvent(o("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof n=="string"?u=this.$10.publish(t,n,a,i):u=this.$10.publishBinary(t,n,a,i),c="ws",this.$11.bumpCounter("try_publish_ws")),r("promiseDone")(u,function(){e.$11.eventLogOutgoingPublish({attempt:l,connectionState:d,disconnectCount:e.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:s,payloadSizeBytes:n.length*2,protocol:c,qos:a,sessionID:e.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:t})},function(r){e.$11.eventLogOutgoingPublish({attempt:l,connectionState:d,disconnectCount:e.$10.getDisconnectCount(),errorMessage:r!=null?r.toString():null,firstAttemptStartTime:s,payloadSizeBytes:n.length*2,protocol:c,qos:a,sessionID:e.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:t})}),u},a.subscribe=function(t,n){var e=this;this.$10.subscribe(t);var r=this.$8.get(t);return r?r.push(n):(r=[n],this.$8.set(t,r)),function(){var r=e.$8.get(t)||[],o=r.filter(function(e){return e!==n});e.$8.set(t,o),o.length===0&&e.unsubscribeAll(t)}},a.subscribeBinary=function(t,n){var e=this;this.$10.subscribe(t);var r=this.$9.get(t);return r?r.push(n):(r=[n],this.$9.set(t,r)),function(){var r=e.$9.get(t)||[],o=r.filter(function(e){return e!==n});e.$9.set(t,o),o.length===0&&e.unsubscribeAll(t)}},a.subscribeChannelEvents=function(t){var e=this;return this.$3.push(t),function(){e.unsubscribeChannelEvents(t)}},a.unsubscribeChannelEvents=function(t){var e=this.$3.indexOf(t);e>-1&&this.$3.splice(e,1)},a.registerExtraConnectPayloadProvider=function(t){var e=this;if(this.$19("MqttChannel","registerExtraConnectPayloadProvider called"),this.$4.add(t),this.$10.isRunning()){var n=t.getPublishMessages();n.forEach(function(t){typeof t.payload=="string"?e.publish(t.topic,t.payload,{qos:t.qos,skipBuffer:!0}):e.publishBinary(t.topic,t.payload,{qos:t.qos,skipBuffer:!0})})}},a.unregisterExtraConnectPayloadProvider=function(t){this.$4.delete(t)},a.unsubscribeAll=function(t){this.$10.unsubscribe(t),this.$8.delete(t),this.$9.delete(t)},a.getConnectionState=function(){return this.$5},a.getLongPollingStatus=function(){return this.$7},a.getEndpoint=function(){return this.$1},a.addHook=function(t){this.$10.addHook(t)},a.removeHook=function(t){this.$10.removeHook(t)},a.testOnlyMessageReceived=function(t,n){this.$22(t,n,-1)},a.$34=function(t){var e=this.$15.get(t);e!=null&&e.timeoutId!=null&&o("MqttEnv").Env.clearTimeout(e.timeoutId),this.$15.delete(t)},a.$31=function(t){var e=this;return o("MqttEnv").Env.setTimeout(function(t){var n=e.$15.get(t);if(n){var o=n.topic;e.$11.bumpCounter("publish_timeout."+o),e.$11.debugTrace("publish_timeout","Timeout publishing topic: "+o+" publishToken: "+t),e.$34(t),n.ack.reject(r("err")("Publish Timed Out"))}},s,t)},a.$33=function(t){var e=t.publishToken,n=this.$15.get(e);n&&(this.$34(e),t.ack.resolve(),this.$11.debugTrace("publish_success","Topic: "+t.topic+" publishToken: "+t.publishToken),this.$11.bumpCounter("publish_success."+t.topic))},a.$22=function(t,n,o){var e=this.$8.get(t);if(this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:n.payloadString.length*2,qos:o,sessionID:this.$10.getSessionId(),topic:t}),!e)this.$11.debugTrace("_onMessageReceived",t+" being dropped, no listeners");else for(var a of e)try{a(n.payloadString)}catch(e){this.$11.logError(r("getErrorSafe")(e),"Listener exception"),this.$11.bumpCounter("listener_error")}var i=this.$9.get(t);if(this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:n.payloadBytes.length,qos:o,sessionID:this.$10.getSessionId(),topic:t}),!i)this.$11.debugTrace("_onMessageReceived",t+" being dropped, no binary listeners");else for(var l of i)try{l(n.payloadBytes)}catch(e){this.$11.logError(r("getErrorSafe")(e),"Binary Listener exception"),this.$11.bumpCounter("listener_error")}},a.$21=function(t){if(o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){t.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}t.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped"),this.$35(t)},a.$36=function(t){this.$35(t)},a.$35=function(t){for(var e of this.$3)e.onJSError&&e.onJSError(t)},a.$37=function(){var e=this;this.$14.forEach(function(t){e.$30(t),e.$11.bumpCounter("publish_from_temp_buffer."+t.topic)}),this.$14=[],this.$15.forEach(function(t,n,r){e.$32(t),e.$11.bumpCounter("publish_from_buffer."+t.topic)})},a.$23=function(t){t==="Connecting"?(this.$14.forEach(function(e){e.ack.reject(r("err")("Client Reconnecting - "+e.topic))}),this.$14=[]):t==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+t),this.$38(t,this.$7)},a.$39=function(t,n){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+t+", LP Request status = "+n),this.$38(this.$6,t)},a.$38=function(t,n){var e=this.$10.mqttStateFromConnectionState(t);this.$13&&this.$13.canPublish()&&(e="Connected"),this.$6=t,(e!==this.$5||n!=this.$7)&&(this.$5=e,this.$7=n,this.$40(e))},a.$40=function(t){for(var e of this.$3)e.onMQTTStateChanged(t)},a.$20=function(){var e=this,t=[];return this.$4.forEach(function(n){try{var o=n.getPublishMessages();t.push.apply(t,o)}catch(t){e.$11.logError(r("getErrorSafe")(t),"ConnectPayload provider exception"),e.$11.bumpCounter("connectPayloadProvider_error")}}),t},a.$18=function(){var e=this;o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&!r("MetaConfig")._("262")&&this.$2&&this.$2!=""&&r("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(t){var n=new t(e.$2,e.$12,e.$10.hasFatal(),e.$10.hasConnectSuccess(),function(t,n,r){return e.$22(t,n,r)},function(){var t=Array.from(e.$8.keys()),n=Array.from(e.$9.keys());return Array.from(new Set(t.concat(n)))},function(){return e.$20()},function(t){e.$36(t)},function(t,n){e.$39(t,n)});n.start(),e.$10.addHook(n),n.addHook(e.$16),e.$13=n,e.$11.debugTrace("MqttChannel","longPollingRunner loaded")})},a.$19=function(t,n){this.$11.debugTrace(t,"Mqtt channel: "+n)},a.setForegroundState=function(t){this.$12&&this.$12.setForegroundState(t)},a.setChatVisibility=function(t){this.$12&&this.$12.setChatVisibility(t)},a.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()},a.setEndpointCapabilities=function(t){this.$12.setEndpointCapabilities(t)},a.getConnection_OnlyForTests=function(){return this.$10},t})();l.default=u}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mqtt:";function u(t,n){var o=(e||(e=r("WebStorage"))).getLocalStorage();if(o){var a=o.getItem(s+t);if(a!=null)return a}return n}function c(t,n){var o=(e||(e=r("WebStorage"))).getLocalStorage();if(o)if(n==null)o.removeItem(s+t);else var a=(e||(e=r("WebStorage"))).setItemGuarded(o,s+t,n)}l.configRead=u,l.configWrite=c}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744057"),s=o("FalcoLoggerInternal").create("mqtt_unified_client_connect",e),u=s;l.default=u}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744058"),s=o("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",e),u=s;l.default=u}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744059"),s=o("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",e),u=s;l.default=u}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744060"),s=o("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",e),u=s;l.default=u}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("MetaConfig")._("99"),u="mqtt_client",c=100,d="WEBSOCKET",m=typeof window!="undefined"?window:self,p=null,_={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},f={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"},g=(function(){function t(e){this.$1=o("LogHistory").getInstance(u),this.$2=0,this.$3=Date.now(),this.$4=r("ChannelClientID").getID(),this.$7(),this.$5=o("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=e}t.getInstance=function(n){return p||(p=new t(n)),p};var n=t.prototype;return n.setAppId=function(t){this.$2===0&&(this.$2=t)},n.eventLogConnect=function(t){var e,n,o=t.ackReceived,a=t.attemptNumber,i=t.connectionState,l=t.connectionStatus,s=t.disconnectCount,u=t.duration,c=t.errorMessage,m=t.failTotal,p=t.hostname,g=t.messageSizeBytes,h=t.osConnectivity,y=t.sessionID,C=t.successTotal,b=t.total_duration,v=l?"success":"failed";this.bumpCounter(_.CONNECT+"."+v);var S=C/(C+m),R=h&&this.getBrowserConnectivity(),L={acked:o,attempt_number:a.toString(),client_type:d,connection_state:i,disconnect_count:s.toString(),duration:u.toString(),error:c,event_type:f.CONNECT,extra_data:{connect_success_rate:S.toString(),device_id:this.$4,hostname:p,connectionStatus:l.toString(),exposure:(e=this.$6)!=null?e:""},os_connectivity:R,payload_size:g==null?void 0:g.toString(),session_id:y.toString(),total_duration:b.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){r("MqttUnifiedClientConnectFalcoEvent").log(function(){return L})})},n.eventLogPull=function(t){var e=t.duration,n=t.errorMessage,r=t.hostname,a=t.pullEventName,i=t.sessionID,l=t.status,s={connection_status:l,device_id:this.$4,duration:e,error_message:n,hostname:r,href:m.location.hostname,logged_in:o("MqttEnv").Env.isUserLoggedInNow(),session_id:i};this.$9(a,s)},n.eventLogPullFinish=function(t){var e=t.duration,n=t.errorMessage,r=t.publishReceived,a=t.publishSent,i=t.pullEventName,l=t.sessionID,s={device_id:this.$4,duration:e,error_message:n,href:m.location.hostname,logged_in:o("MqttEnv").Env.isUserLoggedInNow(),publish_received:r,publish_sent:a,session_id:l};this.$9(i,s)},n.eventLogDisconnect=function(t){var e,n,o=t.disconnectCount,a=t.duration,i=t.errorMessage,l=t.sessionID;this.bumpCounter(_.DISCONNECT);var s={client_type:d,connection_state:"Disconnected",disconnect_count:o.toString(),duration:a.toString(),error:i,event_type:f.DISCONNECT,extra_data:{device_id:this.$4,exposure:(e=this.$6)!=null?e:""},os_connectivity:this.getBrowserConnectivity(),session_id:l.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){r("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return s})})},n.eventLogOutgoingPublish=function(t){var e=t.attempt,n=t.connectionState,o=t.disconnectCount,a=t.errorMessage,i=t.firstAttemptStartTime,l=t.payloadSizeBytes,s=t.protocol,u=t.qos,c=t.sessionID,m=t.success,p=t.thisAttemptStartTime,g=t.topic;this.bumpCounter(_.PUBLISH+"."+g);var h=Date.now(),y={acked:u===1?m:null,attempt_number:e.toString(),client_type:d,connection_state:n,disconnect_count:o.toString(),duration:(h-p).toString(),error:a,event_type:f.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:s},os_connectivity:this.getBrowserConnectivity(),payload_size:l.toString(),qos:u.toString(),session_id:c.toString(),topic:g,total_duration:i!=null?(h-i).toString():null};this.$8(function(){r("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return y})})},n.eventLogIncomingPublish=function(t){var e=t.connectionState,n=t.disconnectCount,o=t.payloadSizeBytes,a=t.qos,i=t.sessionID,l=t.topic,s={client_type:d,connection_state:e,disconnect_count:n.toString(),event_type:f.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:o.toString(),qos:a.toString(),session_id:i.toString(),topic:l},u=l=="/webrtc"||l=="/rtc_multi";this.$10(function(){r("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return s})},50,u)},n.logError=function(t,n){o("MqttEnv").Env.scheduleLoggingCallback(function(){try{r("FBLogger")(u).catching(t).mustfix(n)}catch(e){}})},n.logErrorWarn=function(t,n){o("MqttEnv").Env.scheduleLoggingCallback(function(){try{r("FBLogger")(u).catching(t).warn(n)}catch(e){}})},n.logWarn=function(t,n){var e=this;o("MqttEnv").Env.scheduleLoggingCallback(function(){try{e.$1.warn(t,n)}catch(e){}})},n.debugTrace=function(t,n){var e=this;o("MqttEnv").Env.scheduleLoggingCallback(function(){try{e.$1.debug(t,n)}catch(e){}})},n.bumpCounter=function(n){var t=this;o("Random").coinflip(c)&&o("MqttEnv").Env.scheduleLoggingCallback(function(){t.$2!==0&&(e||(e=o("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",t.$2+"."+n,c),(e||(e=o("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",n,c)})},n.$9=function(t,n,a){var e=this;o("MqttEnv").Env.scheduleLoggingCallback(function(){n.event_type=t,n.app_id=e.$2,n.online=e.$11();var o=JSON.stringify(n);e.$1.log(t,o,{weight:a}),t!==_.DISCONNECT&&r("MqttWsClientTypedLoggerLite").log(n)})},n.$10=function(t,n,r){var e;s&&n!==0?e=r||o("Random").coinflip(n):e=!0,e&&o("MqttEnv").Env.scheduleCallback(t)},n.$8=function(t){this.$10(t,0,!1)},n.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1},n.getBrowserConnectivity=function(){return r("NetworkStatus").isOnline()},n.$7=function(){var e=this;if(m.navigator&&m.navigator.onLine!==void 0){var t=function(n){var t=n.online;t||e.bumpCounter("browser_disconnect")};r("NetworkStatus").onChange(t)}},t})();l.default=g}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case o("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return r("gkx")("21119");case o("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case o("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return r("gkx")("21120");case o("MqttEnv").MqttGkNames.mqtt_fast_lp:return!1;case o("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return r("gkx")("21122");case o("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return r("gkx")("21123");case o("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return r("gkx")("21124");default:return r("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+e),!1}}l.default=e}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";function e(e){o("MqttEnv").Env.initialize(r("Random").random,o("CurrentMessengerUser").isLoggedInNow,r("clearTimeout"),r("setTimeoutAcrossTransitions"),function(){return r("MqttLogger").getInstance()},r("MqttEnvGk"),e!=null?e:null,null,null,o("MqttEnvConfigStorage").configRead,o("MqttEnvConfigStorage").configWrite)}var s={genGk:r("MqttEnvGk"),initialize:e};l.default=s}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(t,n,r,o,a,i,l){"use strict";var e;r("MqttEnvInitializer").initialize();var s=new(r("MqttChannel"))({appId:(e=r("MqttConfig")).appID,capabilities:e.capabilities,chatVisibility:!1,clientCapabilities:e.clientCapabilities,endpoint:e.endpoint,initialSubscribedTopics:e.subscribedTopics,phpOverride:e.hostNameOverride,pollingEndpoint:e.pollingEndpoint,userFbid:e.fbid});l.default=s}),98);/*FB_PKG_DELIM*/
__d("EBMinosWasm.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={},d={},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={},G={},z={},j={},K={},Q={},X={},Y={},J={},Z={},ee={},te={},ne={},re={},oe={},ae={},ie={},le={},se={};s.name="MinosMessageMetadata",s.internalSpec={mekId:[1,(e=o("WAProtoConst")).FLAGS.REQUIRED|e.TYPES.BYTES],timestamp:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],messageId:[3,e.FLAGS.REQUIRED|e.TYPES.STRING],threadId:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES]},u.name="MinosClientConfig",u.internalSpec={preferredMessageEncryptionVersion:[1,e.FLAGS.REQUIRED|e.TYPES.INT32],preferredMekEncryptionVersion:[2,e.FLAGS.REQUIRED|e.TYPES.INT32]},c.name="MinosEncryptAndSignMessageInput",c.internalSpec={transportSigningSk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mek:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],plaintext:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],metadata:[4,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,s],transportSigningPk:[5,e.TYPES.BYTES],conf:[6,e.TYPES.MESSAGE,u]},d.name="MinosEncryptAndSignMessageResult",d.internalSpec={ciphertext:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],signature:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[3,e.FLAGS.REQUIRED|e.TYPES.INT32]},m.name="MinosDecryptAndVerifyMessageInput",m.internalSpec={transportSigningPk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mek:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],encryptedMessageCiphertext:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],encryptedMessageSignature:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],metadata:[5,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,s],messageEncryptionVersion:[6,e.TYPES.INT32],conf:[7,e.TYPES.MESSAGE,u]},p.name="MinosDecryptAndVerifyMessageResult",p.internalSpec={success:[1,e.TYPES.MESSAGE,_],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["success","errorMessage"]}},_.name="MinosDecryptAndVerifyMessageSuccess",_.internalSpec={plaintext:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},f.name="MekBundle",f.internalSpec={key:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mekId:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],rosterHash:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},g.name="GenerateMekInput",g.internalSpec={epochHeads:[1,e.FLAGS.REPEATED|e.TYPES.BYTES]},h.name="GenerateMekResult",h.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,f]},y.name="GenerateMekRosterHashInput",y.internalSpec={epochHeads:[1,e.FLAGS.REPEATED|e.TYPES.BYTES]},C.name="GenerateMekRosterHashResult",C.internalSpec={rosterHash:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},b.name="EncryptMekForDistributionInput",b.internalSpec={senderEpochHead:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],toMailboxPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],fromKeypair:[3,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,v],mek:[4,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,f],toEpochHead:[5,e.TYPES.BYTES],conf:[6,e.TYPES.MESSAGE,u]},v.name="EncryptMekForDistributionInput$MailboxAuthKP",v.internalSpec={sk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],pk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},S.name="EncryptMekForDistributionResult",S.internalSpec={ciphertext:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},R.name="DecryptMekForDistributionInput",R.internalSpec={toMailboxSk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],fromPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],mekId:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],senderEpochHead:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],rosterHash:[5,e.FLAGS.REQUIRED|e.TYPES.BYTES],ciphertext:[6,e.FLAGS.REQUIRED|e.TYPES.BYTES],toEpochHead:[7,e.TYPES.BYTES],mekEncryptionVersion:[8,e.TYPES.INT32],conf:[9,e.TYPES.MESSAGE,u]},L.name="DecryptMekForDistributionResult",L.internalSpec={success:[1,e.TYPES.MESSAGE,E],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["success","errorMessage"]}},E.name="DecryptMekForDistributionSuccess",E.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},k.name="EncryptMeksForDistributionFromTransportSenderInput",k.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,f],transportSigningKp:[2,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,I],recipientMailboxEncryptionPks:[3,e.FLAGS.REPEATED|e.TYPES.BYTES],recipientEpochHeads:[4,e.FLAGS.REPEATED|e.TYPES.BYTES],conf:[5,e.TYPES.MESSAGE,u]},I.name="EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKP",I.internalSpec={sk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],pk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},T.name="EncryptMeksForDistributionFromTransportSenderResult",T.internalSpec={encryptedMeks:[1,e.FLAGS.REPEATED|e.TYPES.BYTES],ephemeralEncryptionPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],signingPk:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],signature:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[5,e.FLAGS.REQUIRED|e.TYPES.UINT64]},D.name="DecryptMekForDistributionFromTransportSenderInput",D.internalSpec={mekDistribution:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,x],mekId:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],rosterHash:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],recipientEncSk:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[5,e.FLAGS.REQUIRED|e.TYPES.UINT64],conf:[6,e.TYPES.MESSAGE,u]},x.name="DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipient",x.internalSpec={encryptedMek:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],ephemeralEncryptionPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],signingPk:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],signature:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],recipientEpochHead:[5,e.TYPES.BYTES]},$.name="DecryptMekForDistributionFromTransportSenderResult",$.internalSpec={success:[1,e.TYPES.MESSAGE,P],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["success","errorMessage"]}},P.name="DecryptMekForDistributionFromTransportSenderSuccess",P.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},N.name="WrapTransportSigningPublicKeyInput",N.internalSpec={keyBytes:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},M.name="WrapTransportSigningPublicKeyResult",M.internalSpec={prefixedKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},w.name="WrapTransportSigningSecretKeyInput",w.internalSpec={keyBytes:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},A.name="WrapTransportSigningSecretKeyResult",A.internalSpec={prefixedKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},F.name="DeriveMailboxSigningKeypairInput",F.internalSpec={exportRootKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},O.name="DeriveMailboxSigningKeypairResult",O.internalSpec={mailboxSigningPublicKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxSigningPrivateKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},B.name="DeriveMailboxEncryptionKeypairInput",B.internalSpec={exportRootKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},W.name="DeriveMailboxEncryptionKeypairResult",W.internalSpec={mailboxEncryptionPublicKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxEncryptionPrivateKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},q.name="DeriveMailboxAuthKeypairInput",q.internalSpec={exportRootKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},U.name="DeriveMailboxAuthKeypairResult",U.internalSpec={mailboxAuthPublicKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxAuthPrivateKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},V.name="DeriveAttachmentAccessTokenSecretInput",V.internalSpec={mediaKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},H.name="DeriveAttachmentAccessTokenSecretResult",H.internalSpec={attachmentAccessTokenSecret:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},G.name="DeriveAttachmentPrimaryKeySecretInput",G.internalSpec={mediaKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},z.name="DeriveAttachmentPrimaryKeySecretResult",z.internalSpec={attachmentPrimaryKeySecret:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},j.name="EpochPublicData",j.internalSpec={epochNumber:[1,e.FLAGS.REQUIRED|e.TYPES.UINT64],userFbid:[2,e.FLAGS.REQUIRED|e.TYPES.STRING],mailboxSigningPk:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxEncryptionPk:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxAuthPk:[5,e.FLAGS.REQUIRED|e.TYPES.BYTES],previousEpochHead:[6,e.TYPES.BYTES]},K.name="EpochSignatures",K.internalSpec={selfSignature:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],prevSignature:[2,e.TYPES.BYTES]},Q.name="MinosSignedEpoch",Q.internalSpec={epochPublicData:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],signatures:[2,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,K],epochHead:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},X.name="MinosOpenInitialEpochInput",X.internalSpec={userFbid:[1,e.FLAGS.REQUIRED|e.TYPES.STRING],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],exportRootKey:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},Y.name="MinosOpenInitialEpochResult",Y.internalSpec={minosSignedEpoch:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,Q]},J.name="MinosOpenEpochInput",J.internalSpec={userFbid:[1,e.FLAGS.REQUIRED|e.TYPES.STRING],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],exportRootKey:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],previousExportRootKey:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],previousEpochNumber:[5,e.FLAGS.REQUIRED|e.TYPES.UINT64],previousEpochHead:[6,e.FLAGS.REQUIRED|e.TYPES.BYTES]},Z.name="MinosOpenEpochResult",Z.internalSpec={minosSignedEpoch:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,Q]},ee.name="MinosValidateEpochInput",ee.internalSpec={epochPublicData:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],previousEpochPublicData:[2,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],signatures:[3,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,K]},te.name="MinosValidateEpochResult",te.internalSpec={valid:[1,e.TYPES.BOOL],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["valid","errorMessage"]}},ne.name="MinosVerifySingleEpochInput",ne.internalSpec={epochPublicData:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],signature:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},re.name="MinosVerifySingleEpochResult",re.internalSpec={valid:[1,e.FLAGS.REQUIRED|e.TYPES.BOOL]},oe.name="MinosThreadIdFromOneToOneThreadInput",oe.internalSpec={actThreadId:[1,e.FLAGS.REQUIRED|e.TYPES.STRING],selfFbid:[2,e.FLAGS.REQUIRED|e.TYPES.STRING]},ae.name="MinosThreadIdFromOneToOneThreadResult",ae.internalSpec={threadId:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},ie.name="MinosThreadIdFromActThreadIdInput",ie.internalSpec={actThreadId:[1,e.FLAGS.REQUIRED|e.TYPES.STRING]},le.name="MinosThreadIdFromActThreadIdResult",le.internalSpec={threadId:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},se.name="MinosCommand",se.internalSpec={encryptAndSignMessage:[1,e.TYPES.MESSAGE,c],decryptAndVerifyMessage:[2,e.TYPES.MESSAGE,m],generateMek:[3,e.TYPES.MESSAGE,g],generateMekRosterHash:[4,e.TYPES.MESSAGE,y],encryptMekForDistribution:[5,e.TYPES.MESSAGE,b],decryptMekForDistribution:[6,e.TYPES.MESSAGE,R],encryptMeksForDistributionFromTransportSender:[7,e.TYPES.MESSAGE,k],decryptMekForDistributionFromTransportSender:[8,e.TYPES.MESSAGE,D],wrapTransportSigningPublicKey:[9,e.TYPES.MESSAGE,N],wrapTransportSigningSecretKey:[10,e.TYPES.MESSAGE,w],deriveMailboxSigningKeypair:[11,e.TYPES.MESSAGE,F],deriveMailboxEncryptionKeypair:[12,e.TYPES.MESSAGE,B],deriveMailboxAuthKeypair:[13,e.TYPES.MESSAGE,q],deriveAttachmentAccessTokenSecret:[14,e.TYPES.MESSAGE,V],deriveAttachmentPrimaryKeySecret:[15,e.TYPES.MESSAGE,G],minosOpenInitialEpoch:[16,e.TYPES.MESSAGE,X],minosOpenEpoch:[17,e.TYPES.MESSAGE,J],minosValidateEpoch:[18,e.TYPES.MESSAGE,ee],minosVerifySingleEpoch:[19,e.TYPES.MESSAGE,ne],minosThreadIdFromOneToOneThread:[20,e.TYPES.MESSAGE,oe],minosThreadIdFromActThreadId:[21,e.TYPES.MESSAGE,ie],__oneofs__:{commandInput:["encryptAndSignMessage","decryptAndVerifyMessage","generateMek","generateMekRosterHash","encryptMekForDistribution","decryptMekForDistribution","encryptMeksForDistributionFromTransportSender","decryptMekForDistributionFromTransportSender","wrapTransportSigningPublicKey","wrapTransportSigningSecretKey","deriveMailboxSigningKeypair","deriveMailboxEncryptionKeypair","deriveMailboxAuthKeypair","deriveAttachmentAccessTokenSecret","deriveAttachmentPrimaryKeySecret","minosOpenInitialEpoch","minosOpenEpoch","minosValidateEpoch","minosVerifySingleEpoch","minosThreadIdFromOneToOneThread","minosThreadIdFromActThreadId"]}},l.MinosMessageMetadataSpec=s,l.MinosClientConfigSpec=u,l.MinosEncryptAndSignMessageInputSpec=c,l.MinosEncryptAndSignMessageResultSpec=d,l.MinosDecryptAndVerifyMessageInputSpec=m,l.MinosDecryptAndVerifyMessageResultSpec=p,l.MinosDecryptAndVerifyMessageSuccessSpec=_,l.MekBundleSpec=f,l.GenerateMekInputSpec=g,l.GenerateMekResultSpec=h,l.GenerateMekRosterHashInputSpec=y,l.GenerateMekRosterHashResultSpec=C,l.EncryptMekForDistributionInputSpec=b,l.EncryptMekForDistributionInput$MailboxAuthKPSpec=v,l.EncryptMekForDistributionResultSpec=S,l.DecryptMekForDistributionInputSpec=R,l.DecryptMekForDistributionResultSpec=L,l.DecryptMekForDistributionSuccessSpec=E,l.EncryptMeksForDistributionFromTransportSenderInputSpec=k,l.EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKPSpec=I,l.EncryptMeksForDistributionFromTransportSenderResultSpec=T,l.DecryptMekForDistributionFromTransportSenderInputSpec=D,l.DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipientSpec=x,l.DecryptMekForDistributionFromTransportSenderResultSpec=$,l.DecryptMekForDistributionFromTransportSenderSuccessSpec=P,l.WrapTransportSigningPublicKeyInputSpec=N,l.WrapTransportSigningPublicKeyResultSpec=M,l.WrapTransportSigningSecretKeyInputSpec=w,l.WrapTransportSigningSecretKeyResultSpec=A,l.DeriveMailboxSigningKeypairInputSpec=F,l.DeriveMailboxSigningKeypairResultSpec=O,l.DeriveMailboxEncryptionKeypairInputSpec=B,l.DeriveMailboxEncryptionKeypairResultSpec=W,l.DeriveMailboxAuthKeypairInputSpec=q,l.DeriveMailboxAuthKeypairResultSpec=U,l.DeriveAttachmentAccessTokenSecretInputSpec=V,l.DeriveAttachmentAccessTokenSecretResultSpec=H,l.DeriveAttachmentPrimaryKeySecretInputSpec=G,l.DeriveAttachmentPrimaryKeySecretResultSpec=z,l.EpochPublicDataSpec=j,l.EpochSignaturesSpec=K,l.MinosSignedEpochSpec=Q,l.MinosOpenInitialEpochInputSpec=X,l.MinosOpenInitialEpochResultSpec=Y,l.MinosOpenEpochInputSpec=J,l.MinosOpenEpochResultSpec=Z,l.MinosValidateEpochInputSpec=ee,l.MinosValidateEpochResultSpec=te,l.MinosVerifySingleEpochInputSpec=ne,l.MinosVerifySingleEpochResultSpec=re,l.MinosThreadIdFromOneToOneThreadInputSpec=oe,l.MinosThreadIdFromOneToOneThreadResultSpec=ae,l.MinosThreadIdFromActThreadIdInputSpec=ie,l.MinosThreadIdFromActThreadIdResultSpec=le,l.MinosCommandSpec=se}),98);
__d("EBGetMinosWasm",["WAWasmModuleCache","bx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("bx").getURL(r("bx")("31853")),s=function(){return o("WAWasmModuleCache").loadWasmModule(e)};l.getMinosWasm=s}),98);
__d("WASIContext",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e,n,r,o,a,i;this.fs=(e=t==null?void 0:t.fs)!=null?e:{},this.args=(n=t==null?void 0:t.args)!=null?n:[],this.env=(r=t==null?void 0:t.env)!=null?r:{},this.stdin=(o=t==null?void 0:t.stdin)!=null?o:function(){return null},this.stdout=(a=t==null?void 0:t.stdout)!=null?a:function(){},this.stderr=(i=t==null?void 0:t.stderr)!=null?i:function(){},this.debug=t==null?void 0:t.debug,this.isTTY=!!(t!=null&&t.isTTY)};i.WASIContext=e}),66);
__d("WASISnapshotPreview1",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=Object.freeze({SUCCESS:0,E2BIG:1,EACCESS:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EAGAIN:6,EALREADY:7,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTSUP:58,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75,ENOTCAPABLE:76}),s=(e=n("$InternalEnum"))({REALTIME:0,MONOTONIC:1,PROCESS_CPUTIME_ID:2,THREAD_CPUTIME_ID:3}),u=e({SET:0,CUR:1,END:2}),c=e({UNKNOWN:0,BLOCK_DEVICE:1,CHARACTER_DEVICE:2,DIRECTORY:3,REGULAR_FILE:4,SOCKET_DGRAM:5,SOCKET_STREAM:6,SYMBOLIC_LINK:7}),d=e({DIR:0}),m=e({CLOCK:0,FD_READ:1,FD_WRITE:2}),p={SYMLINK_FOLLOW:1},_={CREAT:1,DIRECTORY:2,EXCL:4,TRUNC:8},f={APPEND:1,DSYNC:2,NONBLOCK:4,RSYNC:8,SYNC:16},g={FD_DATASYNC:BigInt(1)<<BigInt(0),FD_READ:BigInt(1)<<BigInt(1),FD_SEEK:BigInt(1)<<BigInt(2),FD_FDSTAT_SET_FLAGS:BigInt(1)<<BigInt(3),FD_SYNC:BigInt(1)<<BigInt(4),FD_TELL:BigInt(1)<<BigInt(5),FD_WRITE:BigInt(1)<<BigInt(6),FD_ADVISE:BigInt(1)<<BigInt(7),FD_ALLOCATE:BigInt(1)<<BigInt(8),PATH_CREATE_DIRECTORY:BigInt(1)<<BigInt(9),PATH_CREATE_FILE:BigInt(1)<<BigInt(10),PATH_LINK_SOURCE:BigInt(1)<<BigInt(11),PATH_LINK_TARGET:BigInt(1)<<BigInt(12),PATH_OPEN:BigInt(1)<<BigInt(13),FD_READDIR:BigInt(1)<<BigInt(14),PATH_READLINK:BigInt(1)<<BigInt(15),PATH_RENAME_SOURCE:BigInt(1)<<BigInt(16),PATH_RENAME_TARGET:BigInt(1)<<BigInt(17),PATH_FILESTAT_GET:BigInt(1)<<BigInt(18),PATH_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(19),PATH_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(20),FD_FILESTAT_GET:BigInt(1)<<BigInt(21),FD_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(22),FD_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(23),PATH_SYMLINK:BigInt(1)<<BigInt(24),PATH_REMOVE_DIRECTORY:BigInt(1)<<BigInt(25),PATH_UNLINK_FILE:BigInt(1)<<BigInt(26),POLL_FD_READWRITE:BigInt(1)<<BigInt(27),SOCK_SHUTDOWN:BigInt(1)<<BigInt(28),SOCK_ACCEPT:BigInt(1)<<BigInt(29)},h={ATIM:1,ATIM_NOW:2,MTIM:4,MTIM_NOW:8},y={SUBSCRIPTION_CLOCK_ABSTIME:1},C={FD_READWRITE_HANGUP:1},b=64,v=48,S=32;i.RESULT=l,i.Clock=s,i.Whence=u,i.FileType=c,i.PreopenType=d,i.EventType=m,i.LookupFlags=p,i.OpenFlags=_,i.FileDescriptorFlags=f,i.RightsFlags=g,i.FileStatTimestampFlags=h,i.SubscriptionClockFlags=y,i.EventReadWriteFlags=C,i.FILESTAT_SIZE=b,i.SUBSCRIPTION_SIZE=v,i.EVENT_SIZE=S}),66);
__d("WATextEncoding",[],(function(t,n,r,o,a,i){"use strict";var e=TextEncoder,l=TextDecoder,s=e,u=l;function c(){return new s}function d(){return new u}function m(e){s=e}function p(e){u=e}i.newTextEncoder=c,i.newTextDecoder=d,i.setTextEncoderClass=m,i.setTextDecoderClass=p}),66);
__d("WASIDrive",["WASISnapshotPreview1","WATextEncoding"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.nextFD=10,this.openMap=new Map,this.fs=babelHelpers.extends({},e),this.openMap.set(3,new c(this.fs,"/"))}var t=e.prototype;return t.$1=function(t,n,r){var e=new s(t,r);n&&(e.buffer=new Uint8Array(new ArrayBuffer(1024),0,0));var a=this.nextFD;return this.openMap.set(a,e),this.nextFD++,[o("WASISnapshotPreview1").RESULT.SUCCESS,a]},t.$2=function(t,n){var e=new c(t,n),r=this.nextFD;return this.openMap.set(r,e),this.nextFD++,[o("WASISnapshotPreview1").RESULT.SUCCESS,r]},t.$3=function(t,n){return n==="."?!0:t.containsDirectory(n)},t.open=function(t,n,r,a){var e,i=!!(r&(e=o("WASISnapshotPreview1")).OpenFlags.CREAT),l=!!(r&e.OpenFlags.DIRECTORY),s=!!(r&e.OpenFlags.EXCL),u=!!(r&e.OpenFlags.TRUNC),d=this.openMap.get(t);if(!(d instanceof c))return[o("WASISnapshotPreview1").RESULT.EBADF];if(d.containsFile(n)){if(l)return[o("WASISnapshotPreview1").RESULT.ENOTDIR];if(s)return[o("WASISnapshotPreview1").RESULT.EEXIST];var m=d.get(n);return this.$1(m,u,a)}else if(this.$3(d,n)){if(n===".")return this.$2(this.fs,"/");var p="/"+n+"/",_=Object.entries(this.fs).filter(function(e){var t=e[0];return t.startsWith(p)});return this.$2(Object.fromEntries(_),p)}else{if(i){var f=d.fullPath(n);return this.fs[f]={path:f,mode:"binary",content:new Uint8Array(0),timestamps:{access:new Date,modification:new Date,change:new Date}},this.$1(this.fs[f],u,a)}return[o("WASISnapshotPreview1").RESULT.ENOTCAPABLE]}},t.close=function(t){if(!this.openMap.has(t))return o("WASISnapshotPreview1").RESULT.EBADF;var e=this.openMap.get(t);return e instanceof s&&e.sync(),this.openMap.delete(t),o("WASISnapshotPreview1").RESULT.SUCCESS},t.read=function(t,n){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.read(n)]},t.pread=function(t,n,r){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.pread(n,r)]},t.write=function(t,n){var e=this.openMap.get(t);return!e||e instanceof c?o("WASISnapshotPreview1").RESULT.EBADF:(e.write(n),o("WASISnapshotPreview1").RESULT.SUCCESS)},t.pwrite=function(t,n,r){var e=this.openMap.get(t);return!e||e instanceof c?o("WASISnapshotPreview1").RESULT.EBADF:(e.pwrite(n,r),o("WASISnapshotPreview1").RESULT.SUCCESS)},t.sync=function(t){var e=this.openMap.get(t);return!e||e instanceof c?o("WASISnapshotPreview1").RESULT.EBADF:(e.sync(),o("WASISnapshotPreview1").RESULT.SUCCESS)},t.seek=function(t,n,r){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.seek(n,r)]},t.tell=function(t){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.tell()]},t.renumber=function(t,n){if(!this.exists(t)||!this.exists(n))return o("WASISnapshotPreview1").RESULT.EBADF;if(t===n)return o("WASISnapshotPreview1").RESULT.SUCCESS;this.close(n);var e=this.openMap.get(t);return this.openMap.set(n,e),o("WASISnapshotPreview1").RESULT.SUCCESS},t.unlink=function(t,n){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;if(!e.contains(n))return o("WASISnapshotPreview1").RESULT.ENOENT;for(var r of Object.keys(this.fs))(r===e.fullPath(n)||r.startsWith(e.fullPath(n)+"/"))&&delete this.fs[r];return o("WASISnapshotPreview1").RESULT.SUCCESS},t.rename=function(t,n,r,a){var e=this.openMap.get(t),i=this.openMap.get(r);if(!(e instanceof c)||!(i instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;if(!e.contains(n))return o("WASISnapshotPreview1").RESULT.ENOENT;if(i.contains(a))return o("WASISnapshotPreview1").RESULT.EEXIST;var l=e.fullPath(n),s=i.fullPath(a);for(var u of Object.keys(this.fs))if(u.startsWith(l)){var d=u.replace(l,s);this.fs[d]=this.fs[u],this.fs[d].path=d,delete this.fs[u]}return o("WASISnapshotPreview1").RESULT.SUCCESS},t.list=function(t){var e=this.openMap.get(t);return e instanceof c?[o("WASISnapshotPreview1").RESULT.SUCCESS,e.list()]:[o("WASISnapshotPreview1").RESULT.EBADF]},t.stat=function(t){var e=this.openMap.get(t);return e instanceof s?[o("WASISnapshotPreview1").RESULT.SUCCESS,e.stat()]:[o("WASISnapshotPreview1").RESULT.EBADF]},t.pathStat=function(t,n){var e=this.openMap.get(t);if(!(e instanceof c))return[o("WASISnapshotPreview1").RESULT.EBADF];if(e.containsFile(n)){var r=e.fullPath(n),a=new s(this.fs[r],0).stat();return[o("WASISnapshotPreview1").RESULT.SUCCESS,a]}else if(this.$3(e,n)){if(n===".")return[o("WASISnapshotPreview1").RESULT.SUCCESS,new c(this.fs,"/").stat()];var i="/"+n+"/",l=Object.entries(this.fs).filter(function(e){var t=e[0];return t.startsWith(i)}),u=new c(Object.fromEntries(l),i).stat();return[o("WASISnapshotPreview1").RESULT.SUCCESS,u]}else return[o("WASISnapshotPreview1").RESULT.ENOTCAPABLE]},t.setFlags=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setFlags(n),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.setSize=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setSize(Number(n)),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.setAccessTime=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setAccessTime(n),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.setModificationTime=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setModificationTime(n),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.pathSetAccessTime=function(t,n,r){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;var a=e.get(n);if(a==null)return o("WASISnapshotPreview1").RESULT.ENOTCAPABLE;var i=new s(a,0);return i.setAccessTime(r),i.sync(),o("WASISnapshotPreview1").RESULT.SUCCESS},t.pathSetModificationTime=function(t,n,r){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;var a=e.get(n);if(a==null)return o("WASISnapshotPreview1").RESULT.ENOTCAPABLE;var i=new s(a,0);return i.setModificationTime(r),i.sync(),o("WASISnapshotPreview1").RESULT.SUCCESS},t.pathCreateDir=function(t,n){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;if(e.contains(n))return o("WASISnapshotPreview1").RESULT.ENOTCAPABLE;var r=e.fullPath(n)+"/.runno";return this.fs[r]={path:r,timestamps:{access:new Date,modification:new Date,change:new Date},mode:"string",content:""},o("WASISnapshotPreview1").RESULT.SUCCESS},t.exists=function(t){return this.openMap.has(t)},t.fileType=function(t){var e=this.openMap.get(t);return e?e instanceof s?o("WASISnapshotPreview1").FileType.REGULAR_FILE:o("WASISnapshotPreview1").FileType.DIRECTORY:o("WASISnapshotPreview1").FileType.UNKNOWN},t.fileFdflags=function(t){var e=this.openMap.get(t);return e instanceof s?e.fdflags:0},e})(),s=(function(){function e(e,t){if(this.$1=BigInt(0),this.isDirty=!1,this.file=e,this.file.mode==="string"){var n=this.file.content,r=o("WATextEncoding").newTextEncoder();this.buffer=r.encode(n)}else this.buffer=this.file.content;this.fdflags=t,this.flagAppend=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.APPEND),this.flagDSync=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.DSYNC),this.flagNonBlock=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.NONBLOCK),this.flagRSync=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.RSYNC),this.flagSync=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.SYNC)}var t=e.prototype;return t.getOffset=function(){return Number(this.$1)},t.read=function(t){var e=this.buffer.subarray(this.getOffset(),this.getOffset()+t);return this.$1+=BigInt(e.length),e},t.pread=function(t,n){return this.buffer.subarray(n,n+t)},t.write=function(t){if(this.isDirty=!0,this.flagAppend){var e=this.buffer.length;this.$2(e+t.byteLength),this.buffer.set(t,e)}else{var n=Math.max(this.getOffset()+t.byteLength,this.buffer.byteLength);this.$2(n),this.buffer.set(t,this.getOffset()),this.$1+=BigInt(t.byteLength)}(this.flagDSync||this.flagSync)&&this.sync()},t.pwrite=function(t,n){if(this.isDirty=!0,this.flagAppend){var e=this.buffer.length;this.$2(e+t.byteLength),this.buffer.set(t,e)}else{var r=Math.max(n+t.byteLength,this.buffer.byteLength);this.$2(r),this.buffer.set(t,n)}(this.flagDSync||this.flagSync)&&this.sync()},t.sync=function(){if(this.isDirty){if(this.isDirty=!1,this.file.mode==="binary"){this.file.content=new Uint8Array(this.buffer);return}var e=o("WATextEncoding").newTextDecoder();this.file.content=e.decode(this.buffer)}},t.seek=function(t,n){switch(n){case o("WASISnapshotPreview1").Whence.SET:this.$1=t;break;case o("WASISnapshotPreview1").Whence.CUR:this.$1+=t;break;case o("WASISnapshotPreview1").Whence.END:this.$1=BigInt(this.buffer.length)+t;break}return this.$1},t.tell=function(){return this.$1},t.stat=function(){return{path:this.file.path,timestamps:this.file.timestamps,type:o("WASISnapshotPreview1").FileType.REGULAR_FILE,byteLength:this.buffer.length}},t.setFlags=function(t){this.fdflags=t},t.setSize=function(t){this.$2(t)},t.setAccessTime=function(t){this.file.timestamps.access=t},t.setModificationTime=function(t){this.file.timestamps.modification=t},t.$2=function(t){if(t<=this.buffer.buffer.byteLength){this.buffer=new Uint8Array(this.buffer.buffer,0,t);return}var e;this.buffer.buffer.byteLength===0?e=new ArrayBuffer(t<1024?1024:t*2):t>this.buffer.buffer.byteLength*2?e=new ArrayBuffer(t*2):e=new ArrayBuffer(this.buffer.buffer.byteLength*2);var n=new Uint8Array(e,0,t);n.set(this.buffer),this.buffer=n},e})();function u(e,t){var n=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp("^"+n);return e.replace(r,"")}var c=(function(){function e(e,t){this.dir=e,this.prefix=t}var t=e.prototype;return t.containsFile=function(t){for(var e of Object.keys(this.dir)){var n=u(e,this.prefix);if(n===t)return!0}return!1},t.containsDirectory=function(t){for(var e of Object.keys(this.dir)){var n=u(e,this.prefix);if(n.startsWith(t+"/"))return!0}return!1},t.contains=function(t){for(var e of Object.keys(this.dir)){var n=u(e,this.prefix);if(n===t||n.startsWith(t+"/"))return!0}return!1},t.get=function(t){return this.dir[this.fullPath(t)]},t.fullPath=function(t){return""+this.prefix+t},t.list=function(){var e=[],t=new Set;for(var n of Object.keys(this.dir)){var r=u(n,this.prefix);if(r.includes("/")){var a=r.split("/")[0];if(t.has(a))continue;t.add(a),e.push({name:a,type:o("WASISnapshotPreview1").FileType.DIRECTORY})}else e.push({name:r,type:o("WASISnapshotPreview1").FileType.REGULAR_FILE})}return e},t.stat=function(){return{path:this.prefix,timestamps:{access:new Date,modification:new Date,change:new Date},type:o("WASISnapshotPreview1").FileType.DIRECTORY,byteLength:0}},e})();l.WASIDrive=e}),98);
__d("WASMMemoryLogger",["FBLogger","QPLFlow","WAHashStringToNumber","justknobx","qpl","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=r("justknobx")._("168"),s=(function(){function e(){var e=this;this.$1=new FinalizationRegistry(function(t){e.$3-=t.numBytes;var n=t.wasmModule;if(n!=null){var r=e.$2.get(n);if(r!=null){var o=r-t.numBytes;o<=0?e.$2.delete(n):e.$2.set(n,o)}}}),this.$3=0,this.$2=new Map}var t=e.prototype;return t.addWasmInstanceToSet=function(t,n){var e=t.buffer.byteLength;if(this.$1.register(t,{numBytes:e,wasmModule:n}),this.$3+=e,n!=null){var r,o=(r=this.$2.get(n))!=null?r:0;this.$2.set(n,o+e)}},t.getCurrentWasmMemoryUsage=function(){return this.$3},t.getWasmMemoryUsagePerModuleAnnotationsObject=function(){var e={};return this.$2.forEach(function(t,n){e["wasm_memory_usage_"+n]=t}),e},e})(),u;function c(){if(u==null){if(typeof FinalizationRegistry!="function"){r("FBLogger")("wmi").warn("unable to run wasm memory logger - finalization registry not supported in browser");return}u=new s,window.setInterval(function(){var e=r("qpl")._(994782764,"418"),t=o("WAHashStringToNumber").hashStringToNumber(r("uuidv4")()),n=u.getWasmMemoryUsagePerModuleAnnotationsObject(),a=o("QPLFlow").startQPLFlow(e,{annotations:{int:babelHelpers.extends({},n,{wasm_total_memory_usage:u.getCurrentWasmMemoryUsage()})},instanceKey:t});a.endSuccess()},e)}return u}l.getOrInitWasmMemoryLogger=c}),98);
__d("WASI",["WACryptoDependencies","WASIContext","WASIDrive","WASISnapshotPreview1","WASMMemoryLogger","WATextEncoding","err","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t,n=new(o("WASIContext")).WASIContext(e),a=new(o("WASIDrive")).WASIDrive(n.fs);function i(){return Object.entries(n.env).map(function(e){var t=e[0],n=e[1];return t+"="+n})}var l={args_get:function(r,a){var e=r,i=a,l=new DataView(t.buffer);for(var s of n.args){l.setUint32(e,i,!0),e+=4;var u=o("WATextEncoding").newTextEncoder().encode(s+"\0"),c=new Uint8Array(t.buffer,i,u.byteLength);c.set(u),i+=u.byteLength}return o("WASISnapshotPreview1").RESULT.SUCCESS},args_sizes_get:function(r,a){var e=n.args,i=e.reduce(function(e,t){return e+o("WATextEncoding").newTextEncoder().encode(t+"\0").byteLength},0),l=new DataView(t.buffer);return l.setUint32(r,e.length,!0),l.setUint32(a,i,!0),o("WASISnapshotPreview1").RESULT.SUCCESS},clock_res_get:function(){throw r("err")("clock_res_get is not implemented")},clock_time_get:function(n,r,a){var e=o("WASISnapshotPreview1").Clock.cast(n);if(e==null)return o("WASISnapshotPreview1").RESULT.EINVAL;switch(e){case o("WASISnapshotPreview1").Clock.REALTIME:case o("WASISnapshotPreview1").Clock.MONOTONIC:case o("WASISnapshotPreview1").Clock.PROCESS_CPUTIME_ID:case o("WASISnapshotPreview1").Clock.THREAD_CPUTIME_ID:{var i=new DataView(t.buffer);return i.setBigUint64(a,f(new Date),!0),o("WASISnapshotPreview1").RESULT.SUCCESS}}},environ_get:function(n,r){var e=n,a=r,l=new DataView(t.buffer);for(var s of i()){l.setUint32(e,a,!0),e+=4;var u=o("WATextEncoding").newTextEncoder().encode(s+"\0"),c=new Uint8Array(t.buffer,a,u.byteLength);c.set(u),a+=u.byteLength}return o("WASISnapshotPreview1").RESULT.SUCCESS},environ_sizes_get:function(n,r){var e=i().reduce(function(e,t){return e+o("WATextEncoding").newTextEncoder().encode(t+"\0").byteLength},0),a=new DataView(t.buffer);return a.setUint32(n,i().length,!0),a.setUint32(r,e,!0),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_advise:function(){throw r("err")("fd_advise is not implemented")},fd_allocate:function(){throw r("err")("fd_allocate is not implemented")},fd_close:function(t){return a.close(t)},fd_datasync:function(){throw r("err")("fd_datasync is not implemented")},fd_fdstat_get:function(r,i){if(r<3){var e;if(n.isTTY){var l=c^o("WASISnapshotPreview1").RightsFlags.FD_SEEK^o("WASISnapshotPreview1").RightsFlags.FD_TELL;e=p(o("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0,l)}else e=p(o("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0);var s=new Uint8Array(t.buffer,i,e.byteLength);return s.set(e),o("WASISnapshotPreview1").RESULT.SUCCESS}if(!a.exists(r))return o("WASISnapshotPreview1").RESULT.EBADF;var u=a.fileType(r),d=a.fileFdflags(r),m=p(u,d),_=new Uint8Array(t.buffer,i,m.byteLength);return _.set(m),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_fdstat_set_flags:function(t,n){return a.setFlags(t,n)},fd_fdstat_set_rights:function(){return o("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_get:function(n,r){if(n<3){var e;switch(n){case 0:e="/dev/stdin";break;case 1:e="/dev/stdout";break;case 2:e="/dev/stderr";break;default:e="/dev/undefined";break}var i=m({path:e,byteLength:0,timestamps:{access:new Date,modification:new Date,change:new Date},type:o("WASISnapshotPreview1").FileType.CHARACTER_DEVICE}),l=new Uint8Array(t.buffer,r,i.byteLength);return l.set(i),o("WASISnapshotPreview1").RESULT.SUCCESS}var s=a.stat(n);if(s.length===1)return s[0];var u=s[1],c=m(u),d=new Uint8Array(t.buffer,r,c.byteLength);return d.set(c),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_set_size:function(){throw r("err")("fd_filestat_set_size is not implemented")},fd_filestat_set_times:function(){throw r("err")("fd_filestat_set_times is not implemented")},fd_pread:function(){throw r("err")("fd_pread is not implemented")},fd_prestat_dir_name:function(n,r,a){if(n!==3)return o("WASISnapshotPreview1").RESULT.EBADF;var e=o("WATextEncoding").newTextEncoder().encode("/"),i=new Uint8Array(t.buffer,r,a);return i.set(e.subarray(0,a)),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_prestat_get:function(n,r){if(n!==3)return o("WASISnapshotPreview1").RESULT.EBADF;var e=o("WATextEncoding").newTextEncoder().encode("."),a=new DataView(t.buffer,r);return a.setUint8(0,o("WASISnapshotPreview1").PreopenType.DIR),a.setUint32(4,e.byteLength,!0),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_pwrite:function(){throw r("err")("fd_pwrite is not implemented")},fd_read:function(r,i,l,s){if(r===1||r===2)return o("WASISnapshotPreview1").RESULT.ENOTSUP;var e=new DataView(t.buffer),u=d(e,i,l),c=o("WATextEncoding").newTextEncoder(),m=0,p=o("WASISnapshotPreview1").RESULT.SUCCESS;for(var _ of u){var f=void 0;if(r===0){var g=n.stdin(_.byteLength);if(g==null)break;f=c.encode(g)}else{var h=a.read(r,_.byteLength);if(h.length===1){p=h[0];break}else f=h[1]}var y=Math.min(_.byteLength,f.byteLength);_.set(f.subarray(0,y)),m+=y}return e.setUint32(s,m,!0),p},fd_readdir:function(){throw r("err")("fd_readdir is not implemented")},fd_renumber:function(){throw r("err")("fd_renumber is not implemented")},fd_seek:function(n,i,l,s){var e=o("WASISnapshotPreview1").Whence.cast(l);if(e==null)throw r("err")("fd_seek: invalid whence");var u=a.seek(n,i,e);if(u.length===1)return u[0];var c=u[0],d=u[1],m=new DataView(t.buffer);return m.setBigUint64(s,d,!0),c},fd_sync:function(){throw r("err")("fd_sync is not implemented")},fd_tell:function(n,r){var e=a.tell(n);if(e.length===1)return e[0];var o=e[0],i=e[1],l=new DataView(t.buffer);return l.setBigUint64(r,i,!0),o},fd_write:function(r,i,l,s){if(r===0)return o("WASISnapshotPreview1").RESULT.ENOTSUP;var e=new DataView(t.buffer),u=d(e,i,l),c=o("WATextEncoding").newTextDecoder(),m=0,p=o("WASISnapshotPreview1").RESULT.SUCCESS;for(var _ of u)if(_.byteLength!==0){if(r===1||r===2){var f=r===1?n.stdout:n.stderr,g=c.decode(_);f(g)}else if(p=a.write(r,_),p!==o("WASISnapshotPreview1").RESULT.SUCCESS)break;m+=_.byteLength}return e.setUint32(s,m,!0),p},path_create_directory:function(){throw r("err")("path_create_directory is not implemented")},path_filestat_get:function(){throw r("err")("path_filestat_get is not implemented")},path_filestat_set_times:function(){throw r("err")("path_filestat_set_times is not implemented")},path_link:function(){throw r("err")("path_link is not implemented")},path_open:function(n,r,o,i,l,s,u,c,d){var e=new DataView(t.buffer),m=_(t,o,i),p=a.open(n,m,l,c);if(p.length===1)return p[0];var f=p[0],g=p[1];return e.setUint32(d,g,!0),f},path_readlink:function(){throw r("err")("path_readlink is not implemented")},path_remove_directory:function(){throw r("err")("path_remove_directory is not implemented")},path_rename:function(){throw r("err")("path_rename is not implemented")},path_symlink:function(){throw r("err")("path_symlink is not implemented")},path_unlink_file:function(){throw r("err")("path_unlink_file is not implemented")},poll_oneoff:function(){throw r("err")("poll_oneoff is not implemented")},proc_exit:function(t){throw new u(t)},proc_raise:function(){throw r("err")("proc_raise is not implemented")},random_get:function(n,r){var e=new Uint8Array(t.buffer,n,r);return o("WACryptoDependencies").getCrypto().getRandomValues(e),o("WASISnapshotPreview1").RESULT.SUCCESS},sched_yield:function(){throw r("err")("sched_yield is not implemented")},sock_accept:function(){throw r("err")("sock_accept is not implemented")},sock_recv:function(){throw r("err")("sock_recv is not implemented")},sock_send:function(){throw r("err")("sock_send is not implemented")},sock_shutdown:function(){throw r("err")("sock_shutdown is not implemented")}};return{getImportObject:function(){return{wasi_snapshot_preview1:l}},start:function(i){var n=i.exports.memory;if(n instanceof WebAssembly.Memory){if(t=n,r("gkx")("4444")){var l=o("WASMMemoryLogger").getOrInitWasmMemoryLogger();l!=null&&l.addWasmInstanceToSet(t,e.moduleName)}}else throw r("err")("Expected memory object");var s=i.exports._start;try{s()}catch(e){if(e instanceof u)return{exitCode:e.code,fs:a.fs};if(e instanceof WebAssembly.RuntimeError)return{exitCode:134,fs:a.fs};throw e}return{exitCode:0,fs:a.fs}},initialize:function(n){var e=n.exports.memory;if(e instanceof WebAssembly.Memory)t=e;else throw r("err")("Expected memory object");var o=n.exports;if("_initialize"in o){var i=o._initialize;i()}return{exports:o,drive:a}}}}var u=(function(e){function t(t){var n;return n=e.call(this)||this,n.code=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),c=(e=o("WASISnapshotPreview1")).RightsFlags.FD_DATASYNC|e.RightsFlags.FD_READ|e.RightsFlags.FD_SEEK|e.RightsFlags.FD_FDSTAT_SET_FLAGS|e.RightsFlags.FD_SYNC|e.RightsFlags.FD_TELL|e.RightsFlags.FD_WRITE|e.RightsFlags.FD_ADVISE|e.RightsFlags.FD_ALLOCATE|e.RightsFlags.PATH_CREATE_DIRECTORY|e.RightsFlags.PATH_CREATE_FILE|e.RightsFlags.PATH_LINK_SOURCE|e.RightsFlags.PATH_LINK_TARGET|e.RightsFlags.PATH_OPEN|e.RightsFlags.FD_READDIR|e.RightsFlags.PATH_READLINK|e.RightsFlags.PATH_RENAME_SOURCE|e.RightsFlags.PATH_RENAME_TARGET|e.RightsFlags.PATH_FILESTAT_GET|e.RightsFlags.PATH_FILESTAT_SET_SIZE|e.RightsFlags.PATH_FILESTAT_SET_TIMES|e.RightsFlags.FD_FILESTAT_GET|e.RightsFlags.FD_FILESTAT_SET_SIZE|e.RightsFlags.FD_FILESTAT_SET_TIMES|e.RightsFlags.PATH_SYMLINK|e.RightsFlags.PATH_REMOVE_DIRECTORY|e.RightsFlags.PATH_UNLINK_FILE|e.RightsFlags.POLL_FD_READWRITE|e.RightsFlags.SOCK_SHUTDOWN|e.RightsFlags.SOCK_ACCEPT;function d(e,t,n){for(var r=new Array(n),o=t,a=0;a<n;a++){var i=e.getUint32(o,!0);o+=4;var l=e.getUint32(o,!0);o+=4,r[a]=new Uint8Array(e.buffer,i,l)}return r}function m(e){var t=new Uint8Array(o("WASISnapshotPreview1").FILESTAT_SIZE),n=new DataView(t.buffer);return n.setBigUint64(0,BigInt(0),!0),n.setBigUint64(8,BigInt(g(e.path)),!0),n.setUint8(16,e.type),n.setBigUint64(24,BigInt(1),!0),n.setBigUint64(32,BigInt(e.byteLength),!0),n.setBigUint64(40,f(e.timestamps.access),!0),n.setBigUint64(48,f(e.timestamps.modification),!0),n.setBigUint64(56,f(e.timestamps.change),!0),t}function p(e,t,n){var r=n!=null?n:c,o=n!=null?n:c,a=new Uint8Array(24),i=new DataView(a.buffer,0,24);return i.setUint8(0,e),i.setUint32(2,t,!0),i.setBigUint64(8,r,!0),i.setBigUint64(16,o,!0),a}function _(e,t,n){return o("WATextEncoding").newTextDecoder().decode(new Uint8Array(e.buffer,t,n))}function f(e){return BigInt(e.getTime())*BigInt(1e6)}function g(e,t){t===void 0&&(t=0);for(var n=3735928559^t,r=1103547991^t,o=0,a;o<e.length;o++)a=e.charCodeAt(o),n=Math.imul(n^a,2654435761),r=Math.imul(r^a,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}l.createWasi=s}),98);
__d("WAWasmReactor",["FBLogger","WAPromiseQueue","WAResultOrError","WASI","WASISnapshotPreview1","WASMMemoryLogger","decodeProtobuf","encodeProtobuf","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=function(){return r("FBLogger")("wmi").tags(["WasmReactor"])},_=3e4;function f(e){var t=e.stderr,n=e.stdout;return{stderr:t,stdout:n}}var g=(function(){function t(e,t){this.$1=null,this.$4=e,this.$3=t}var n=t.prototype;return n.init=async function(n){var t=this,a=function(r){p().tags([t.$4]).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["",""])),r)},i=function(t){p().INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["",""])),t)},l=o("WASI").createWasi(f({stderr:a,stdout:i})),u=l.getImportObject,c=l.initialize,d=await n(),m=await WebAssembly.instantiate(d,u()),_=m.exports.memory,g=r("gkx")("4444"),h=o("WASMMemoryLogger").getOrInitWasmMemoryLogger();_ instanceof WebAssembly.Memory&&g&&h!=null&&h.addWasmInstanceToSet(_,this.$4),this.$1=await c(m)},n.createWasmCommand=function(n){var e=n.InputSpec,a=n.ResultSpec,i=n.validateResult,l=this;return function(s){return l.$3.enqueue(async function(){var n=l.$1;if(n==null)return p().tags([l.$4]).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WAWasmReactor not initialized"]))),o("WAResultOrError").makeError({errorName:"wasm-internal-not-initialized",failReason:null});var d=n.drive,m="input",_="output";try{var f=o("encodeProtobuf").encodeProtobuf(e,s).readBuffer();t.$5(d,m,new Uint8Array(f),l.$4),t.$5(d,_,new Uint8Array(0),l.$4),await n.exports.execute_command();var g=t.$6(d,_,l.$4);if(g.length===0)return o("WAResultOrError").makeError({errorName:"wasm-internal-runtime-error",failReason:null});var h=o("decodeProtobuf").decodeProtobuf(a,g);return i(h)}catch(e){var y=r("getErrorSafe")(e);return p().tags([l.$4]).catching(y).MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",""])),y.message),o("WAResultOrError").makeError({errorName:"wasm-internal-runtime-error",failReason:null})}finally{var C=t.$2;d.unlink(C,m),d.unlink(C,_)}})}},n.DEPRECATED_createWasmCommand=function(n){var e=n.InputSpec,a=n.ResultSpec,i=n.validateResult,l=this;return function(s){return l.$3.enqueue(async function(){var n=l.$1;if(n==null)return p().tags([l.$4]).MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["WAWasmReactor not initialized"]))),o("WAResultOrError").makeError("wasm-internal-not-initialized");var u=n.drive,c="input",_="output";try{var f=o("encodeProtobuf").encodeProtobuf(e,s).readBuffer();t.$5(u,c,new Uint8Array(f),l.$4),t.$5(u,_,new Uint8Array(0),l.$4),await n.exports.execute_command();var g=t.$6(u,_,l.$4);if(g.length===0)return o("WAResultOrError").makeError("wasm-internal-runtime-error");var h=o("decodeProtobuf").decodeProtobuf(a,g);return i(h)}catch(e){var y=r("getErrorSafe")(e);return p().tags([l.$4]).catching(y).MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",""])),y.message),o("WAResultOrError").makeError("wasm-internal-runtime-error")}finally{var C=t.$2;u.unlink(C,c),u.unlink(C,_)}})}},t.$5=function(n,r,a,i){var e=n.open(t.$2,r,o("WASISnapshotPreview1").OpenFlags.CREAT||o("WASISnapshotPreview1").OpenFlags.TRUNC,0);if(e[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw p().tags([i]).mustfixThrow("Failed to open file for writing: ",r);var l=e[1];n.write(l,a),n.close(l)},t.$6=function(n,r,a){var e=n.open(t.$2,r,0,0);if(e[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw p().tags([a]).mustfixThrow("Failed to open file for reading: ",r);var i=e[1],l=n.stat(i);if(l[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw n.close(i),p().tags([a]).mustfixThrow("Failed to stat file: ",r);var s=l[1].byteLength,u=n.read(i,s);if(n.close(i),u[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw p().tags([a]).mustfixThrow("Failed to read from file ",r);return u[1]},t})();g.$2=3;async function h(e,t){var n=new(o("WAPromiseQueue")).PromiseQueue(_),r=new g(t,n);return await r.init(e),r}l.WAWasmReactor=g,l.createWasmInstance=h}),98);
__d("EBMinosWasmReactorSingleton",["EBGetMinosWasm","WAWasmReactor","memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e="Minos_REPL",s=r("memoizeWithArgs")(function(){return o("WAWasmReactor").createWasmInstance(o("EBGetMinosWasm").getMinosWasm,e)},function(){return"cache"}),u=async function(t,n){var e=t.InputSpec,r=t.ResultSpec,o=t.validateResult,a=await s();return a.createWasmCommand({InputSpec:e,ResultSpec:r,validateResult:o})(n)},c=async function(t,n){var e=t.InputSpec,r=t.ResultSpec,o=t.validateResult,a=await s();return a.DEPRECATED_createWasmCommand({InputSpec:e,ResultSpec:r,validateResult:o})(n)};l.minosCommand=u,l.DEPRECATED_minosCommand=c}),98);
__d("EBMinosWasmVerifySingleEpoch",["EBMinosWasm.pb","EBMinosWasmReactorSingleton","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(){function e(e){var t=e.valid;return o("WAResultOrError").makeResult({valid:t})}return async function(n){var t=n.epochPublicData,r=n.signature;return await o("EBMinosWasmReactorSingleton").DEPRECATED_minosCommand({InputSpec:o("EBMinosWasm.pb").MinosCommandSpec,ResultSpec:o("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,validateResult:e},{minosVerifySingleEpoch:{epochPublicData:t,signature:r}})}}var s=e();l.verifySingleEpoch=s}),98);
__d("EBAPIMinosVerifySingleEpoch",["EBMinosLogger","EBMinosWasmVerifySingleEpoch","getSafeQplErrorMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){o("EBMinosLogger").minosLogger.DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["minosVerifySingleEpoch start"])));var n=t.qplFlow,r=t.minosEpochAnonId,a=t.minosMailboxAuthPublicKey,i=t.minosMailboxEncryptionPublicKey,l=t.minosMailboxSigningPublicKey,u=t.userId,c=t.selfEpochSignature;try{var d={epochNumber:r,mailboxAuthPk:a,mailboxEncryptionPk:i,mailboxSigningPk:l,previousEpochHead:t.previousEpochHead==null?void 0:t.previousEpochHead,userFbid:u};n.addPoint("verify_single_epoch_start");var m=await o("EBMinosWasmVerifySingleEpoch").verifySingleEpoch({epochPublicData:d,signature:c});return n.addPoint("verify_single_epoch_end"),m.success?(n.endSuccess(),m.value.valid):(o("EBMinosLogger").minosLogger.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Unable to verify epoch - WASM error ",""])),m.error),n.endFailWithError("invalid-result",m.error),!1)}catch(e){return n.endFailWithError("runtime-error",o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)),!1}}l.minosVerifySingleEpoch=u}),98);
__d("EBMinosHasNewerMailboxKeys",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return t==null||n==null?!1:(e==null?void 0:e.epoch_head)==null||(e==null?void 0:e.epoch_head_creation_time)==null?!0:e.epoch_head_creation_time!==n&&n>e.epoch_head_creation_time}i.hasNewerMailboxKeys=e}),66);
__d("EBMinosMailboxKeysCache",["WALRUMap","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=new(o("WALRUMap")).LRUMap({max:e}),u=720*60,c=120;function d(e){var t=s.get(e),n=Math.floor(Date.now()/1e3);if(t!=null&&(n-t.mailboxKeys.epoch_head_creation_time<u||n-t.last_queried_time<c))return t}function m(e,t){s.set(e,{last_queried_time:o("WATimeUtils").castToUnixTime(Math.floor(Date.now()/1e3)),mailboxKeys:t})}function p(e){s.delete(e)}function _(){s.clear()}l.getCachedMailboxKeys=d,l.setCachedMailboxKeys=m,l.invalidateCachedMailboxKeys=p,l.clearMailboxKeysCache=_}),98);
__d("EBMinosSaveNewMailboxKey",["EBMinosDb","EBMinosMailboxKeysCache"],(function(t,n,r,o,a,i,l){"use strict";var e=async function(t,n,r,a,i,l){var e={contact_id:t,encryption_public_key:n,epoch_anon_id:r,epoch_head:a,epoch_head_creation_time:i,public_key_fbid:l},s=await o("EBMinosDb").getEBMinosDb();await s.runInTransaction(["secure_minos_mailbox_keys"],"readwrite",function(t){return t.stores.secure_minos_mailbox_keys.bulkPut([e])},"SaveNewMailboxKey"),o("EBMinosMailboxKeysCache").setCachedMailboxKeys(t,e)};l.saveNewMailboxKey=e}),98);
__d("EBMinosLoadMailboxKeys",["EBMinosDb","EBMinosMailboxKeysCache"],(function(t,n,r,o,a,i,l){"use strict";var e=async function(t){var e=o("EBMinosMailboxKeysCache").getCachedMailboxKeys(t);if(e!=null)return e.mailboxKeys;var n=await o("EBMinosDb").getEBMinosDb(),r=await n.runInTransaction(["secure_minos_mailbox_keys"],"readonly",function(e){return e.stores.secure_minos_mailbox_keys.get(t)},"LoadMailboxKeys");return r!=null&&o("EBMinosMailboxKeysCache").setCachedMailboxKeys(t,r),r};l.loadMailboxKeys=e}),98);
__d("EBMinosSecureMailboxKeysForContact",["EBMinosLoadMailboxKeys","EBMinosTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("EBMinosLoadMailboxKeys").loadMailboxKeys(o("EBMinosTypes").unsafeCastToUserFbId(e))}l.getSecureMailboxKeysForContact=e}),98);
__d("EBMinosWriteMinosPublicKeysForRecipient",["EBMinosHasNewerMailboxKeys","EBMinosLogger","EBMinosSaveNewMailboxKey","EBMinosSecureMailboxKeysForContact"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){var n=t.contactId,r=t.encryptionPublicKey,a=t.epochAnonId,i=t.epochHead,l=t.epochHeadCreationTime,u=t.publicKeyFbid,c=await o("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(n);if(i==null||l==null){(c==null?void 0:c.epoch_head)!=null&&(c==null?void 0:c.epoch_head_creation_time)!=null&&(o("EBMinosLogger").minosLogger.DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Deleting mailbox keys for contact: ",""])),n),await o("EBMinosSaveNewMailboxKey").saveNewMailboxKey(n,r,a,i,l,u));return}o("EBMinosHasNewerMailboxKeys").hasNewerMailboxKeys(c,i,l)&&(o("EBMinosLogger").minosLogger.DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Writing new mailbox keys for contact: ",""])),n),await o("EBMinosSaveNewMailboxKey").saveNewMailboxKey(n,r,a,i,l,u))}l.writeMinosMailboxKeysForRecipient=u}),98);
__d("EBAPIWriteMinosPublicKeysForRecipient",["EBMinosWriteMinosPublicKeysForRecipient"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.contactId,n=e.encryptionPublicKey,r=e.epochAnonId,a=e.epochHead,i=e.epochHeadCreationTime,l=e.publicKeyFbid;return o("EBMinosWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipient({contactId:t,encryptionPublicKey:n,epochAnonId:r,epochHead:a,epochHeadCreationTime:i,publicKeyFbid:l})}l.writeMinosMailboxKeysForRecipientAPI=e}),98);/*FB_PKG_DELIM*/
__d("CometFeedStoryOptimisticWithStory.react",["OptimisticLoadingTypeEnum","cometComposerLogger","cr:4048","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m="xfjf1k6-B",p={bounce:{animationDuration:"x1ykxiw6",animationName:"xu6u0q5",$$css:!0},preview:{opacity:"x1ks1olk",$$css:!0},previewTransform:{transform:"x1jec706",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(13),a=e.children,i=e.creationSessionID,l=e.optimisticLoadingType,u=d(!1),m=d(!1),_,f;t[0]!==i||t[1]!==l?(_=function(){i!=null&&!u.current&&l===r("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&(u.current=!0,r("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_OPTIMISTIC_POST",typeOfOptimisticPost:"OPTIMISTIC_POST_WITH_STORY"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},i)),i!=null&&!m.current&&l===r("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&(m.current=!0,r("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_REAL_POST"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},i))},f=[i,l],t[0]=i,t[1]=l,t[2]=_,t[3]=f):(_=t[2],f=t[3]),c(_,f);var g=l===r("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW?"FeedCometOptimisticPostPreview":null,h=l===r("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&p.bounce,y=l===r("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&p.preview,C=l===r("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&p.previewTransform,b;t[4]!==h||t[5]!==y||t[6]!==C?(b=[h,y,C],t[4]=h,t[5]=y,t[6]=C,t[7]=b):b=t[7];var v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v=n("cr:4048")!=null&&s.jsx(n("cr:4048"),{}),t[8]=v):v=t[8];var S;return t[9]!==a||t[10]!==b||t[11]!==g?(S=s.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:b,children:[v,a]}),t[9]=a,t[10]=b,t[11]=g,t[12]=S):S=t[12],S}l.default=_}),98);
__d("groupsCometFetchStoryFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null}],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometSectionHeader_groupsSectionHeaderUnit"}],type:"GroupsSectionHeaderUnit",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],type:"Node",abstractKey:"__isNode"};a.exports=e}),null);
__d("groupsCometFetchStoryQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="34244832725130946"}),null);
__d("groupsCometFetchStoryQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","groupsCometFetchStoryQuery_facebookRelayOperation","CometUFICommentActionLinksRewriteEnabled.relayprovider","CometUFICommentAvatarStickerAnimatedImage.relayprovider","IsWorkUser.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider","IsMergQAPolls.relayprovider","FBReels_enable_meta_ai_label_gk.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFISingleLineUFI.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider","GroupsCometGYSJFeedItemHeight.relayprovider","ShouldEnableBakedInTextStories.relayprovider","StoriesShouldIncludeFbNotes.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},t={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},r={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},o={defaultValue:null,kind:"LocalArgument",name:"id"},a={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},i={defaultValue:null,kind:"LocalArgument",name:"referringStoryRenderLocation"},l={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},s={defaultValue:null,kind:"LocalArgument",name:"scale"},u={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},c=[{kind:"Variable",name:"id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},g=[m],h={kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"},y={alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},h],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'},C={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,{kind:"InlineFragment",selections:g,type:"Video",abstractKey:null},h,{kind:"InlineFragment",selections:g,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:g,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:g,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:g,type:"MontageVideo",abstractKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},v={alias:"permalink_url",args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},S=[{kind:"Variable",name:"location",variableName:"renderLocation"}],R={alias:null,args:S,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},E={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[d,L,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null},m],storageKey:null},k={alias:null,args:[{kind:"Literal",name:"supported",value:"3GYyzk"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"3GYyzk")'},I={alias:null,args:[{kind:"Literal",name:"supported",value:"13ua8a"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventsTaggingUpsellFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventsTaggingUpsellFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryDeepDivePillsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryDeepDivePillsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProductExtensionsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryProductExtensionsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAffiliateLinkFocusedStoryFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAffiliateLinkFocusedStoryFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"13ua8a")'},T={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},P=[x,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},$],N={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:P,storageKey:null},M={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},w={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},A=[{kind:"Literal",name:"site",value:"www"}],F={args:null,fragment:n("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},O=[F],B={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},W=[B,F],q={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[d,D,N,M,w,m],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[d,D,M,m,w,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:A,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:A,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:O,storageKey:null},N,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_actor_name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:W,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:O,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:W,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},U={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[m,v,R,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[m,E],storageKey:null},{alias:null,args:S,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[k,I],storageKey:null},T,{kind:"ClientExtension",selections:[q]}],storageKey:null},V={alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},H={alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'},G={alias:null,args:[{kind:"Literal",name:"supported",value:"67WoN"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"67WoN")'},z={alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'},j={alias:null,args:[{kind:"Literal",name:"supported",value:"XP1YS"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupPostLLMTitleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupPostLLMTitleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFailedScheduledPostHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFailedScheduledPostHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"XP1YS")'},K={alias:null,args:[{kind:"Literal",name:"supported",value:"4f12sh"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"4f12sh")'},Q={alias:null,args:[{kind:"Literal",name:"supported",value:"STIA9"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"STIA9")'},X={alias:null,args:[{kind:"Literal",name:"supported",value:"1u8Znq"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"1u8Znq")'},Y={alias:null,args:[{kind:"Literal",name:"supported",value:"4pc70y"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"4pc70y")'},J={alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'},Z={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[m,E,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:g,storageKey:null}],storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},te={alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},ae={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[D],storageKey:null},ie={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[ae,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[ae,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"},le={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},q,{alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null},{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},D,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null},$],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null}]},se=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},d],ue={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:g,storageKey:null}],storageKey:null},ce={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[B],storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o,a,i,l,s,u],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"groupsCometFetchStoryFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,e,t,r,s,a,i,l,u,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFICommentActionLinksRewriteEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFISingleLineUFIrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometGYSJFeedItemHeightrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__ShouldEnableBakedInTextStoriesrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider"}],kind:"Operation",name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isNode"},m,{kind:"InlineFragment",selections:[p,_,f,y,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[C,{alias:"styles",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Literal",name:"supported",value:"Rc26V"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryNullAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentNullStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEmptyAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEmptyStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryLiveEventAnnouncementAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentLiveEventAnnouncementStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryBirthdayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentBirthdayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"XFBStoryAttachmentCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationTagsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationTagsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFunFactsPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFunFactsStackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGoodwillProductSystemCampaignAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGoodwillProductSystemCampaignStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumColumnAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumColumnStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumBannerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumBannerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumFrameAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumFrameStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumSaleItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumSaleItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVolunteeringEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVolunteeringEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVolunteeringEventActivityShiftAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVolunteeringEventActivityShiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisListingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisListingStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisMarkSafeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisMarkSafeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisHubShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisHubShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserDonateButtonAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserDonateButtonStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserFBSeedingGiftAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserFBSeedingGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserWithoutMediaAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserWithoutMediaStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserCompressedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserCompressedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLookingForPlayersAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLookingForPlayersStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMapAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMapStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAsset3DAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAsset3dStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEventFooterOnlyAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEventFooterOnlyStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShopAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShopStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupSellProductItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupSellProductItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryNoteAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentNoteStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAIWidgetsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAIWidgetsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryKnowledgeNoteAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentKnowledgeNoteStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryKnowledgeCollectionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentKnowledgeCollectionStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCoverPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCoverPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoSaleItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoSaleItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoReviewPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoReviewStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFileUploadAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFileUploadStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileIntroCardBioAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileIntroCardBioStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileMediaAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileMediaStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnimatedImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnonymousAuthorInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnonymousAuthorInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupAnonymousPendingPostDisclaimerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupAnonymousPendingPostDisclaimerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryC4GThreadCreationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentC4GThreadCreationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCMBThreadAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMBThreadStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityChatSuggestionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMThreadSuggestionStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryC4GMessageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentC4GMessageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnonymousPostContentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnonymousPostContentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareMediumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareMediumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySharePortraitAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSharePortraitStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareSevereAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareSevereStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareAdAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareAdStyleRender",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLinkToVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLinkToVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLifeEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLifeEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLiveVideoRehearsalAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLiveVideoRehearsalStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMultiShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMultiShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryTextPollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTextPollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryTextPollNonInteractiveAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTextPollNonInteractiveStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVisualPollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVisualPollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGamesInstantPlayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGamesInstantPlayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryInstantGamesTournamentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryElectionDayReminderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentElectionDayReminderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryElectionInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentElectionInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkWatchCollectionsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkWatchCollectionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment3DPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStory360PhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment360PhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUnavailableStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkLinkPreviewAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkLinkPreviewStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkContentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkContentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoLinkShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoLinkShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoLinkShareWithInstagramContextAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoLinkShareWithInstagramContextStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPlayWithFriendsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPlayWithFriendsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySimpleMusicAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSimpleMusicStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"WorkFeedStoryWorkMajorEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentMajorEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"WorkFeedStoryChecklistAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentChecklistStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoMeetupLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoMeetupLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningPreviewPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningPreviewPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningUnitCreatedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningUnitCreatedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningUnitCompletedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningUnitCompletedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningQuizAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupQuizStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommerceAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommerceAttachmentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMarketplaceJobAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMarketplaceJobStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFluShotPledgeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFluShotPledgeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCovidVaccineFinderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCovidVaccineFinderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCovidVaccineFinderProviderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCovidVaccineFinderProviderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryReportedGroupEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentReportedGroupEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrowdsourcingBadgeShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrowdsourcingBadgeShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryQAApprovedAnswerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQAApprovedAnswerStylerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryESHLLMSuggestionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentESHLLMSuggestionStylerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingMetricsTopContributorRecognitionShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentRecruitingMetricsTopContributorRecognitionShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupWelcomePostAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupWelcomePostStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGratitudeMOGStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMomentOfGratitudeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDiscussionPostAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDiscussionPostAttachmentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCustomUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCustomUnavailableStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFBReelsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFBReelsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUSElectionDataAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUSElectionDataStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityTaskSetJobPostingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityTaskSetJobPostingStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDeprecatedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDeprecatedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserCampaignDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserCampaignDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPublicChatLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPublicChatLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCMBSideConversationsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMBSideConversationsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryIGReelsXARAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentIGReelsXARStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupCollabPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupCollabPromptStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupOpenQuestionsUpsellAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupOpenQuestionsUpsellStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupPostsHscrollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupPostsHscrollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUnifiedLightweightVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUnifiedLightweightVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileDirectoryUpdateAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileDirectoryUpdateStyleRenderer",abstractKey:null}],storageKey:null}],storageKey:null},b,U,V,{alias:null,args:S,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[d,H,G,z,j,k,K,I,Q,X,Y,J,{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3zfBNR"}],concreteType:null,kind:"LinkedField",name:"timestamp",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null}],storageKey:'timestamp(supported:"3zfBNR")'}],storageKey:null},T,v,R,Z,ee,te,ne,re,oe,{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_menu",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[d,L,m,{kind:"TypeDiscriminator",abstractKey:"__isActor"},ie],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[d,L,m,{kind:"InlineFragment",selections:[ie],type:"Actor",abstractKey:"__isActor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_is_repost",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"work_reposted_story",plural:!1,selections:[d,m,p,_,f,y,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[C],storageKey:null},b,U,V,{alias:null,args:S,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[d,H,G,z,j,k,K,I,Q,X,Y,J],storageKey:null},T,v,R,Z,ee,te,ne,re,oe,le],storageKey:null},le],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBFBVideoVoiceTranslationsMetaData",kind:"LinkedField",name:"video_audio_translations_meta_data",plural:!1,selections:[{alias:null,args:null,concreteType:"FBVideoVoiceTranslationsHeaderLabelRenderer",kind:"LinkedField",name:"header_label_renderer",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{args:null,documentName:"useRenderDubbingLabel_fragment",fragmentName:"FBReelsDubbingInfoLink_dubbing",fragmentPropName:"dubbing",kind:"ModuleImport"},m],storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:se,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"th_dat_spo",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:se,storageKey:null}]}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[ue,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedCustomizedStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CustomizedStory",abstractKey:null},{kind:"InlineFragment",selections:[p],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[ce,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sorting_switcher",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_canSeeExpandedColor",fragmentName:"GroupsCometColorExpandedWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},m],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_cannotSeeExpandedColor",fragmentName:"GroupsCometColorDefaultWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_all_topic_text",storageKey:null},{alias:null,args:null,concreteType:"XFBGroupFlair",kind:"LinkedField",name:"group_flairs",plural:!0,selections:[d,m,{alias:null,args:null,kind:"ScalarField",name:"flair_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_report_link_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_report_topic_screen_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_topic_settings_option_label",storageKey:null},{alias:null,args:[{kind:"Literal",name:"type",value:"EDIT_TOPICS"}],concreteType:null,kind:"LinkedField",name:"group_setting",plural:!1,selections:[d,ce],storageKey:'group_setting(type:"EDIT_TOPICS")'},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_create_flair_posts",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeader",kind:"LinkedField",name:"story_header",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupFeedSortingSwitcher",kind:"LinkedField",name:"viewer_available_sorting_switchers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"option_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"option_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sorting_setting",storageKey:null},d],storageKey:null}],type:"GroupsSectionHeaderStyleInfo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"GroupsSectionHeaderUnit",abstractKey:null},{kind:"InlineFragment",selections:[ue],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:g,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],storageKey:null}]},params:{id:n("groupsCometFetchStoryQuery_facebookRelayOperation"),metadata:{},name:"groupsCometFetchStoryQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometUFICommentActionLinksRewriteEnabledrelayprovider:n("CometUFICommentActionLinksRewriteEnabled.relayprovider"),__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:n("CometUFICommentAvatarStickerAnimatedImage.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:n("IsWorkUser.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:n("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:n("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:n("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:n("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:n("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:n("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:n("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:n("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider:n("FBReels_enable_meta_ai_label_gk.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:n("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:n("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:n("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFISingleLineUFIrelayprovider:n("CometUFISingleLineUFI.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:n("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:n("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:n("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider"),__relay_internal__pv__GroupsCometGYSJFeedItemHeightrelayprovider:n("GroupsCometGYSJFeedItemHeight.relayprovider"),__relay_internal__pv__ShouldEnableBakedInTextStoriesrelayprovider:n("ShouldEnableBakedInTextStories.relayprovider"),__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider:n("StoriesShouldIncludeFbNotes.relayprovider")}}}})();a.exports=e}),null);
__d("groupsCometFetchStory",["CometRelay","groupsCometFetchStoryFragment.graphql","groupsCometFetchStoryQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("groupsCometFetchStoryFragment.graphql"));var u=s!==void 0?s:s=n("groupsCometFetchStoryQuery.graphql");function c(e,t){return o("CometRelay").fetchQuery(t,u,e).toPromise()}l.default=c}),98);/*FB_PKG_DELIM*/
__d("ZenonMWThriftAddParticipantsTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e="new_room_context";function s(t,n){var r={usersToInvite:new Set(n.participants)};if(n.groupThreadId!=null){var a={calling_tags:2,group_thread_id:n.groupThreadId};if(a){var i=[{body:{genericMessage:{data:o("RequestStreamBodyUtils").stringToUint8Array(JSON.stringify(a)),topic:e}},header:{topic_DEPRECATED:e}}];r.appMessages=i}}return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:t,rtcMessageBody:{addParticipantsRequest:r},type:o("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS})}l.NEW_ROOM_CONTEXT=e,l.toThriftAddParticipantsRequest=s}),98);
__d("ZenonMWThriftApprovalTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=t.approvalStatus,r=t.targetUsers,a={approvalStatus:n===0?o("MultiwayCommonTypes").ApprovalStatus.DENIED:o("MultiwayCommonTypes").ApprovalStatus.APPROVED,targetUsers:new Set(r)};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{approvalRequest:a},type:o("MultiwayCommonTypes").MessageType.APPROVAL})}l.toThriftApprovalRequest=e}),98);
__d("ZenonMWThriftClientEventTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={clientEvents:[{type:t.clientEventType===0?o("MultiwayCommonTypes").ClientEventType.UNKNOWN:o("MultiwayCommonTypes").ClientEventType.MEDIA_CONNECTED}]};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{clientEventRequest:n},type:o("MultiwayCommonTypes").MessageType.CLIENT_EVENT})}l.toThriftClientEventRequest=e}),98);
__d("ZenonMWCommonUtils",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.split("\n");if(t.length<2)throw r("FBLogger")("rtc_www").mustfixThrow("Expected SDP string with two or more lines, but got %s",t.length);var n=t[1].trim(),o=n.split(" ");if(o.length<3)throw r("FBLogger")("rtc_www").mustfixThrow("Session line should have at least 3 tokens, but got %s",o.length);var a=parseInt(o[2],10);if(isNaN(a))throw r("FBLogger")("rtc_www").mustfixThrow("SDP version could not be parsed as number.");return a}function s(e){return e.includes("BUNDLE 0")}l.getSdpVersion=e,l.isUnifiedPlan=s}),98);
__d("ZenonMWThriftClientMediaUpdateTranslator",["MultiwayCommonTypes","ZenonMWCommonUtils","ZenonMWThriftResponseStatusCodeUtils","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody,r=e.messageHeader,a=n.clientMediaUpdateResponse,i=r.responseStatusCode,l=r.responseSubCode,s=r.retryAfterMsec;if(a){var u=a.answer,c=a.mediaStatus,d=u!=null&&c!=null;o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(a.stateStore,t,!1,d);var m=o("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(a.stateStore);if(d){var p,_=(p=u==null?void 0:u.sdpString)!=null?p:"",f=o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(c),g={ackMessageId:r.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"},h=a.renegotiationOffer,y=null;h!=null&&h.sdpString!=null&&(y={sdp:h.sdpString,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(h.sdpString)});var C={e2eeServerState:m,eventName:"remoteSdpRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(a.mediaPath),mediaStates:f,negotiateType:!1,renegotiationOffer:y,sdp:{sdp:_,type:"answer",version:o("ZenonMWCommonUtils").getSdpVersion(_)},sdpOriginLocalId:a.sdpOriginLocalId,source:"clientMediaUpdateResponse"};t.push(g),t.push(C)}var b={ackMessageId:r.transactionId,acknowledgedVersion:Number(a.currentVersion),eventName:"mediaUpdateResponse",retryAfter:s!=null?s:0};i!=null&&(b.responseStatusCode=o("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(i)),l!=null&&(b.responseSubCode=o("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(l)),t.push(b)}return t}function s(e,t,n){var r={fromVersion:String(t.version),mediaUpdates:[{mediaStatus:o("ZenonMWThriftTranslatorUtils").toMWThriftMediaStatus(t),mediaStatusEx:o("ZenonMWThriftTranslatorUtils").toThriftMWMediaStatusEx(t)}],toVersion:String(t.version)};return n!==void 0&&(r.offer={sdpString:n.sdp}),o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{clientMediaUpdateRequest:r},type:o("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE})}l.fromThriftClientMediaUpdateResponse=e,l.toThriftClientMediaUpdateRequest=s}),98);
__d("ZenonMWThriftConferenceStateTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonMWMessageTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.conferenceStateRequest;if(n){var r=n.appMessages,a=n.participantStates,i={eventName:"participantUpdateRequest",participantStates:new Map,sctpUserIdNodeIdMap:new Map,versionId:+n.version},l={actorRepresentatives:new Map,eventName:"clientInfoRequest",mediaPath:o("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN,userCapabilities:new Map};Object.keys(a).forEach(function(e){var t=a[e],n=t.sctpNodeId,r=t.state,s=t.userCapabilities;i.participantStates.set(e,o("ZenonMWThriftTranslatorUtils").fromThriftParticipantState(r)),n!=null&&i.sctpUserIdNodeIdMap.set(e,+n),l.userCapabilities.set(e,s?o("RequestStreamBodyUtils").uint8ArrayToString(s):"")}),t.push(i),t.push(l);var s=o("ZenonMWThriftTranslatorUtils").getCollisionContextFromThriftAppMessages(r);if(s){s.serverInfoData=e.messageHeader.serverInfoData;var u={context:s,eventName:"roomContextUpdateRequest"};t.push(u)}}return t}function s(e,t){var n={currentVersion:String(t.requestVersionId)};return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{conferenceStateResponse:n},type:o("MultiwayCommonTypes").MessageType.CONFERENCE_STATE})}l.fromThriftConferenceStateRequest=e,l.toThriftConferenceStateResponse=s}),98);
__d("ZenonMWThriftDataMessageTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonActorHooks","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.dataMessageRequest;if(n){var r=n.message.header,a=o("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageData(n),i=o("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageTopic(n),l=c(r.serviceRecipients);if(a!=null&&i!=null){var s,u={data:a,eventName:"genericDataMessageRequest",recipientIDs:Array.from((s=r.recipients)!=null?s:[]),serviceRecipients:l,topic:i};t.push(u)}}return t}function s(e,t){var n={data:o("RequestStreamBodyUtils").stringToUint8Array(t.data),topic:t.topic},r=new Set(t.serviceRecipients.map(o("ZenonMWThriftTranslatorUtils").toThriftServiceRecipient));return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{dataMessageRequest:{message:{body:{genericMessage:n},header:{recipients:new Set(t.recipientIDs),sender:o("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:r,topic_DEPRECATED:""}}}},type:o("MultiwayCommonTypes").MessageType.DATA_MESSAGE})}function u(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{dataMessageResponse:{deliveryResult:{}}},type:o("MultiwayCommonTypes").MessageType.DATA_MESSAGE})}function c(e){var t=[];return e==null||e.forEach(function(e){return t.push(o("ZenonMWThriftTranslatorUtils").toServiceRecipientType(e))}),t}l.fromThriftDataMessageRequest=e,l.toThriftDataMessageRequest=s,l.toThriftDataMessageResponse=u}),98);
__d("ZenonMWThriftDismissTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.dismissRequest;if(n){var r=n.detailedReasonString,a=n.reason,i={eventName:"terminateRequest",fromJoinResponse:!1,reason:o("ZenonMWThriftTranslatorUtils").fromMWThriftDismissReason(a),shouldInformPeer:!0,subreason:r};t.push(i)}return t}function s(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.DISMISS})}l.fromThriftDismissRequest=e,l.toThriftDismissResponse=s}),98);
__d("ZenonMWThriftHangupTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"hangupResponse"};return t.push(r),t}function s(e,t){var n=t.reason,r={detailedReasonString:"",reason:o("ZenonMWThriftTranslatorUtils").toMWThriftHangupReason(n)};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{hangupRequest:r},type:o("MultiwayCommonTypes").MessageType.HANGUP})}l.fromThriftHangupResponse=e,l.toThriftHangupRequest=s}),98);
__d("ZenonMWThriftIceCandidateTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.iceCandidateRequest;if(n){var r={eventName:"iceCandidateRequest",iceCandidates:n.iceCandidateSdps.map(function(e){var t;return{candidateSdpString:(t=e.candidateSdpString)!=null?t:"",sdpMid:e.sdpMid,sdpMLineIndex:parseInt(e.sdpMLineIndex,10)}})};t.push(r)}return t}function s(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"iceCandidateResponse"};return t.push(r),t}function u(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.ICE_CANDIDATE})}function c(e,t){var n=t.iceCandidates,r=n.map(function(e){return{candidateSdpString:e.candidateSdpString,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex.toString()}}),a={iceCandidateSdps:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{iceCandidateRequest:a},type:o("MultiwayCommonTypes").MessageType.ICE_CANDIDATE})}l.fromThriftIceCandidateRequest=e,l.fromThriftIceCandidateResponse=s,l.toThriftIceCandidateResponse=u,l.toThriftIceCandidateRequest=c}),98);
__d("ZenonBrowsers",["UserAgent","UserAgentData"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("UserAgent").isBrowser("Chrome")}function s(){return!!navigator.webkitGetUserMedia}function u(){return r("UserAgent").isBrowser("Edge (Chromium Based)")||r("UserAgent").isBrowser("Edge PWA (Chromium Based)")}function c(){return r("UserAgent").isBrowser("Safari")}function d(){return r("UserAgent").isBrowser("Firefox")}function m(){return r("UserAgent").isBrowser("Opera")}function p(){return r("UserAgent").isBrowser("Mobile Safari")}function _(){return r("UserAgent").isBrowser("Oculus Browser")}function f(){return r("UserAgent").isBrowser("Samsung Browser")}function g(){return p()||r("UserAgent").isPlatform("Android")||f()}function h(){return r("UserAgent").isPlatform("Android")||r("UserAgent").isPlatform("iOS")}function y(){if(d()){var e;return(e=r("UserAgentData").browserVersion)!=null?e:0}if(s()){var t=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return t!=null?parseInt(t[2],10):999}return 0}function C(){return r("UserAgent").isBrowser("FBLite")||r("UserAgent").isBrowser("Facebook for Android")}function b(){return d()}function v(){return!_()}function S(){return!_()}function R(){return!p()&&!c()&&!((s()||e())&&y()<80)&&!(d()&&y()<70)}function L(){return(s()||e())&&y()>=77||r("UserAgent").isBrowser("Firefox >= 70")||r("UserAgent").isBrowser("Safari >= 14.1")}function E(){return!(r("UserAgent").isBrowser("Chrome > 105")&&r("UserAgent").isBrowser("Chrome < 115"))}function k(){return r("UserAgent").isBrowser("Chrome >= 89")||r("UserAgent").isBrowser("Opera >= 75")||r("UserAgent").isBrowser("Edge (Chromium Based) >= 89")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) >= 89")}function I(){var e=r("UserAgent").isBrowser("Chrome >= 113")&&r("UserAgent").isBrowser("Chrome < 114"),t=(r("UserAgent").isBrowser("Edge (Chromium Based) >= 113")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) >= 113"))&&(r("UserAgent").isBrowser("Edge (Chromium Based) < 114")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) < 114")),n=r("UserAgent").isBrowser("Safari >= 16")&&r("UserAgent").isBrowser("Safari < 17");return e||t||n}function T(){return!(r("UserAgent").isBrowser("Chrome <= 113")||r("UserAgent").isBrowser("Edge (Chromium Based) <= 113")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) <= 113"))}l.isChrome=e,l.isChromium=s,l.isChromiumBasedEdge=u,l.isDesktopSafari=c,l.isFirefox=d,l.isOpera=m,l.isMobileSafari=p,l.isOculusBrowser=_,l.isSamsung=f,l.isSupportedMobileBrowser=g,l.isMobileDevice=h,l.webrtcVersion=y,l.isFBWebview=C,l.noTransceiverForNegotiations=b,l.supportsMWAVEscalation=v,l.supportsVideoCalls=S,l.supportsRollback=R,l.supportsIceRestart=L,l.supportsPranswer=E,l.isVideoLayersAllocationSupported=k,l.isSctpdataChannelDisabled=I,l.isMidCallSCTPSupported=T}),98);
__d("ZenonJoiningContext",[],(function(t,n,r,o,a,i){"use strict";var e="joining_context";function l(e){var t=e.callablePostID,n=e.callingTags,r=e.callTrigger,o=e.conferenceName,a=e.groupThreadID,i=e.igThreadID,l=e.immersiveModeDoorID,s=e.isMetaAiCall,u=e.linkUrl,c=e.liveBroadcastID,d=e.meetingID,m=e.peerID,p=e.rtcDoorID,_=e.serverInfoData;return{call_trigger:r,callable_post_id:t,calling_tags:n,conference_name:o,group_thread_id:a,ig_thread_id:i,immersive_mode_door_id:l,is_meta_ai_call:s,link_url:u,live_broadcast_id:c,meeting_id:d,peer_id:m,rtc_door_id:p,server_info_data:_}}i.JOINING_CONTEXT_TOPIC=e,i.convertCollisionToJoiningContext=l}),66);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={shouldUseSFUOnly:function(){return o("ZenonAppProvider").isInstagramApp()&&!r("gkx")("2274")}},s=e;l.default=s}),98);
__d("shouldUseSFUMediaPath",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return!!r("UserAgent").isBrowser("Chrome <= 88")}l.default=e}),98);
__d("ZenonMWJoinUtils",["ZenonActorHooks","ZenonBrowsers","ZenonIGMediaUtil","shouldUseSFUMediaPath"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("ZenonBrowsers").isFirefox()&&e!=="answer"?!1:!r("ZenonIGMediaUtil").shouldUseSFUOnly()}function s(){return r("shouldUseSFUMediaPath")(!1)?!1:!o("ZenonBrowsers").isMobileSafari()&&!o("ZenonBrowsers").isDesktopSafari()&&!o("ZenonBrowsers").isFirefox()&&!o("ZenonBrowsers").isFBWebview()&&!o("ZenonActorHooks").ZenonActor.isInstagramUser()}l.canUseMwpp=e,l.canDeescalate=s}),98);
__d("ZenonMWThriftJoinTranslator",["FBLogger","MultiwayCommonTypes","MultiwaySharedTypes","RequestStreamBodyUtils","RoboticsPermission","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonDismissReason","ZenonInfraActionsLogger","ZenonJoiningContext","ZenonMWCommonUtils","ZenonMWJoinUtils","ZenonMWThriftTranslatorUtils","ZenonScreenShare"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a=[],i=e.messageHeader,l=i.responseStatusCode,s=i.responseSubCode;if(l&&l!==o("MultiwayCommonTypes").RtcResponseStatusCode.OK){var c,d="JOIN response status code: "+String(l)+" subcode "+String(s!=null?s:"[undefined]");r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Got non-OK "+d,errorDomain:"ZenonMWThriftMessageTranslator.fromThriftJoinResponse"});var m={detailedReasonFromMW:(c=i.responseStatusMessage)!=null?c:"",eventName:"terminateRequest",fromJoinResponse:!0,reason:u(l,i.responseSubCode),shouldInformPeer:!1,subreason:d};return a.push(m),a}var p=e.messageBody.joinResponse;if(!p)return a;var _=(t=(n=p.answer)==null?void 0:n.sdpString)!=null?t:"",f=_!=="";o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(p.stateStore,a,!1,f),o("ZenonMWThriftTranslatorUtils").maybeAddOverlayConfigServerUpdateRequestFromThrift(a,i);var g=o("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(p.stateStore),h={ackMessageId:i.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:f,source:"joinResponse"};if(a.push(h),f){var y={sdp:_,type:"answer",version:o("ZenonMWCommonUtils").getSdpVersion(_)},C=o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(p.mediaStatusEx),b=p.renegotiationOffer,v=null;b!=null&&b.sdpString!=null&&(v={sdp:b.sdpString,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(b.sdpString)});var S={e2eeServerState:g,eventName:"remoteSdpRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(p.mediaPath),mediaStates:C,negotiateType:!1,renegotiationOffer:v,sdp:y,sdpOriginLocalId:p.sdpOriginLocalId,source:"joinResponse"};a.push(S)}var R={capabilities:{addParticipantEnabled:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multipleVideoStreamsAllowed:p.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};if(a.push(R),p.isPendingApproval){var L={eventName:"pendingApprovalRequest"};a.push(L)}var E=p.groupsOfUsers,k=new Map;E.forEach(function(e){var t=e.aliasId,n=e.users;t!=null&&n.forEach(function(e){k.set(e,t)})});var I={actorRepresentatives:k,eventName:"clientInfoRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(p.mediaPath),userCapabilities:new Map};return a.push(I),a}function s(e,t,n,a){var i,l,s=t.initialSyncStates,u=t.isSecondaryJoinRole,d=t.userCapabilities,m={clientMediaMode:n.mediaMode==="p2p"?o("MultiwaySharedTypes").MediaPath.P2P:o("MultiwaySharedTypes").MediaPath.SFU,deviceCapabilities:new Set([o("MultiwayCommonTypes").Capability.SUPPORT_NEW_PARTICIPANT_STATES,o("MultiwayCommonTypes").Capability.REQUIRE_FULL_SDP_IN_SMU,o("MultiwayCommonTypes").Capability.SUPPORT_SDP_RENEGOTIATION,o("MultiwayCommonTypes").Capability.REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED,o("MultiwayCommonTypes").Capability.SUPPORT_DELTA_SMU].concat(o("ZenonBrowsers").supportsPranswer()?[o("MultiwayCommonTypes").Capability.SUPPORT_PRECONNECT]:[])),mediaStatus:o("ZenonMWThriftTranslatorUtils").toMWThriftMediaStatus(n.mediaStates),mediaStatusEx:o("ZenonMWThriftTranslatorUtils").toThriftMWMediaStatusEx(n.mediaStates),offer:{},syncPayload:s?{stateStore:o("ZenonMWThriftTranslatorUtils").toThriftMWSyncStateStore(s),stateStoreV2:{}}:void 0,userCapabilities:o("RequestStreamBodyUtils").stringToUint8Array((i=d.get(e.userInfo.userID))!=null?i:"")};u!=null&&(m.endpointSettings={joinMode:u?o("MultiwayCommonTypes").JoinMode.SECONDARY:o("MultiwayCommonTypes").JoinMode.PRIMARY});var p=t.isE2eeMandated===!0;m.e2eeEnforcement={infraMandatedExpStatus:t.e2eeInfraMandatedExpStatus,mode:p?o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED:o("MultiwaySharedTypes").E2eeMode.E2EE_NOT_MANDATED,p2pSFrameExpStatus:o("MultiwaySharedTypes").P2PSFrameExpStatus.NOT_SET,preventSfuMode:!1},n.sdp.type==="offer"&&(m.offer={sdpString:n.sdp.sdp}),o("ZenonMWJoinUtils").canUseMwpp(n.sdp.type)&&(m.deviceCapabilities.add(o("MultiwayCommonTypes").Capability.SUPPORT_MWPP),n.sdp.type==="answer"&&(m.answer={sdpString:n.sdp.sdp}),o("ZenonMWJoinUtils").canDeescalate()&&m.deviceCapabilities.add(o("MultiwayCommonTypes").Capability.SUPPORT_MWPP_DEESCALATION)),(!o("ZenonScreenShare").screenShareWithReplaceTrack()||r("RoboticsPermission").is_authorized_robot)&&m.deviceCapabilities.add(o("MultiwayCommonTypes").Capability.SUPPORT_MULTIPLE_VIDEO_STREAMS);var _=a==null?void 0:a.otherParticipants;_&&(m.usersToCall=new Set(_));var f=[],g=(l=a==null?void 0:a.roomInfo.context)!=null?l:e.roomInfo.context;if(g!=null){var h=o("ZenonJoiningContext").convertCollisionToJoiningContext(g);p&&(h.calling_tags=2),f=[].concat(f,[{body:{genericMessage:{data:o("RequestStreamBodyUtils").stringToUint8Array(JSON.stringify(h)),topic:o("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}},header:{topic_DEPRECATED:o("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}}])}(a==null?void 0:a.appMessages)!=null&&(f=[].concat(f,o("ZenonMWThriftTranslatorUtils").signalingMessageAppMessagesToThriftMWAppMessages(a.appMessages,_))),m.appMessages=f;var y=o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{joinRequest:m},type:o("MultiwayCommonTypes").MessageType.JOIN});return g&&g.serverInfoData!=null&&(y.messageHeader.serverInfoData=g.serverInfoData),c(g,y.messageHeader)&&(y.messageHeader.conferenceType=o("MultiwaySharedTypes").ConferenceType.ROOM),y}function u(e,t){if(t===o("MultiwayCommonTypes").RtcResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return o("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;if(t===o("MultiwayCommonTypes").RtcResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON)return o("ZenonDismissReason").ZenonDismissReason.ProductServerDefinedEndReason;if(t===o("MultiwayCommonTypes").RtcResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION)return o("ZenonDismissReason").ZenonDismissReason.CallerHasAppealableCallingRestriction;switch(e){case o("MultiwayCommonTypes").RtcResponseStatusCode.METHOD_NOT_ALLOWED:case o("MultiwayCommonTypes").RtcResponseStatusCode.UNAUTHORIZED:return o("ZenonDismissReason").ZenonDismissReason.NoPermission;case o("MultiwayCommonTypes").RtcResponseStatusCode.SERVICE_UNAVAILABLE:return o("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case o("MultiwayCommonTypes").RtcResponseStatusCode.OK:throw r("FBLogger")("rtc_www").mustfixThrow("Response status code is OK; should not return a dismiss reason");default:return r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",error:"[ZP] Got unexpected JOIN response status: "+String(e)+" subcode "+String(t!=null?t:"[undefined]"),errorDomain:"fromMWThriftJoinResponseStatusToDismissReason"}),o("ZenonDismissReason").ZenonDismissReason.UnexpectedEndOfCall}}function c(e,t){return((e==null?void 0:e.peerID)!=null||(e==null?void 0:e.groupThreadID)!=null)&&t.conferenceName===""}l.fromThriftJoinResponse=e,l.toThriftJoinRequest=s}),98);
__d("ZenonMWThriftPingTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"pingResponse"};return t.push(r),t}function s(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.PING})}l.fromThriftPingResponse=e,l.toThriftPingRequest=s}),98);
__d("ZenonMWThriftRemoveParticipantsTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={usersToRemove:new Set(t.participants)};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{removeParticipantsRequest:n},type:o("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS})}l.toThriftRemoveParticipantsRequest=e}),98);
__d("ZenonMWThriftRingTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","ZenonMWCommonUtils","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(t)return{groupThreadID:t.groupThreadId,peerID:t.peerId,serverInfoData:n};var r=o("ZenonMWThriftTranslatorUtils").getCollisionContextFromThriftAppMessages(e);return r&&(r.serverInfoData=n),r!=null?r:{groupThreadID:null,peerID:null,serverInfoData:n}}function s(t,n){var r=[],a=t.messageBody,i=t.messageHeader,l=a.ringRequest;if(l){var s,u,c,d=l.appMessages,m=l.caller,p=l.e2eeEnforcement,_=l.otherParticipants,f=l.ringType,g=l.sdpOriginLocalId,h=l.threadIdInfo,y=m,C=f===o("MultiwayCommonTypes").RingType.PEER_VIDEO_CALL||f===o("MultiwayCommonTypes").RingType.GROUP_VIDEO_CALL||f===o("MultiwayCommonTypes").RingType.LIVE_STREAM||f===o("MultiwayCommonTypes").RingType.PEER_ESCALATED_AUDIO_CALL,b=i.conferenceName,v=i.serverInfoData,S=e(d,h,v),R=o("ZenonMWThriftTranslatorUtils").getRoomMetadataFromThriftAppMessages(d),L={actorID:n.actorID,e2eeInfraMandatedExpStatus:p==null?void 0:p.infraMandatedExpStatus,eventName:"inviteRequest",inviterID:y,isE2eeMandated:(p==null?void 0:p.mode)===o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED,isRemoteOfferer:!1,otherParticipants:Array.from(_),requestingVideo:C,roomInfo:babelHelpers.extends({context:S,name:b},R==null?{}:{room:R,sender:R.sender}),userID:n.userInfo.userID};v!=null&&(L.serverInfoData=v),d!=null&&(L.appMessages=o("ZenonMWThriftTranslatorUtils").mwThriftAppMessagesToSignalingAppMessages(d)),r.push(L);var E=(s=(u=l.offer)==null?void 0:u.sdpString)!=null?s:"",k=(c=l.mediaStatusEx)!=null?c:null;if(E!==""&&k!=null){var I={sdp:E,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(E)},T=o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(k),D={eventName:"remoteSdpRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(l.mediaPath),mediaStates:T,negotiateType:!1,sdp:I,sdpOriginLocalId:g,source:"ringRequest"};r.push(D)}}return r}function u(e,t){var n=t.status;n==="IN_ANOTHER_CALL"&&(e.signalingID=null);var r=o("ZenonMWThriftTranslatorUtils").toMWThriftDeviceStatus(n),a={deviceStatus:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{ringResponse:a},type:o("MultiwayCommonTypes").MessageType.RING})}l.fromThriftRingRequest=s,l.toThriftRingResponse=u}),98);
__d("ZenonMWThriftServerMediaUpdateTranslator",["FBLogger","MultiwayCommonTypes","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonInfraActionsLogger","ZenonMWCommonUtils","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageTagUtils","ZenonMWThriftTranslatorUtils","ZenonODSLogger","ZenonScreenShare"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i=[],l=e.messageBody.serverMediaUpdateRequest,u=e.messageHeader,c=u.messageTags,d=u.transactionId;if(!l)return i;var m=l.answer,p=l.fromVersion,_=l.mediaPath,f=l.mediaStatus,g=l.multipleVideoStreamsAllowed,h=l.offer,y=l.prAnswer,C=l.renegotiationRequested,b=l.sdpOriginLocalId,v=l.stateStore,S=l.toVersion,R=l.update,L=[h,m,y].some(function(e){return(e==null?void 0:e.sdpCompressionVersion)!=null});if(L){r("ZenonODSLogger").logCounter("compressed_sdp_received");var E="Compressed SDP is not supported;";r("FBLogger")("rpweb").warn(E+" TXID = %s",d),r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:E+" TXID = "+d,errorDomain:"ZenonMWThriftServerMediaUpdateTranslator"})}var k=(t=h==null?void 0:h.sdpString)!=null?t:"",I=(n=m==null?void 0:m.sdpString)!=null?n:"",T=(a=y==null?void 0:y.sdpString)!=null?a:"",D=+p,x=+S,$=o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(_),P=o("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(c),N=function(){o("ZenonMWThriftMessageReliabilityLogger").logProcessedMessage(e)},M=k!=="",w=I!=="",A=o("ZenonBrowsers").supportsPranswer()&&T!=="",F=R!==null,O=M||w||A||F;o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(v,i,!1,O);var B=o("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(v);if(C){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 1: renegotationRequested"});var W={ackMessageId:d,eventName:"initiateRenegotiationRequest",fromVersion:D,hasRemoteOffer:k!=="",mediaPath:$,messageTags:P!=null?P:[],onProcessed:N,version:x};if(i.push(W),M){var q=s(d,D,$,f,{sdp:k,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(k)},b,N,P,B);i.push(q)}}else if(w){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 2: answer SDP"});var U=s(d,D,$,f,{sdp:I,type:"answer",version:o("ZenonMWCommonUtils").getSdpVersion(I)},b,N,P,B);if(U.sdp.sdp!=null&&o("ZenonMWCommonUtils").isUnifiedPlan(U.sdp.sdp)){var V={sdp:I,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(I)};U.renegotiationOffer=V}i.push(U)}else if(M){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 3: offer SDP"});var H=s(d,D,$,f,{sdp:k,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(k)},b,N,P,B);i.push(H)}else if(R){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 4: delta SDP"});var G=s(d,D,$,f,{type:"offer",update:R,version:x},b,N,P,B);i.push(G)}else if(A){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 5: prAnswer SDP"});var z=s(d,D,$,f,{sdp:T,type:"pranswer",version:o("ZenonMWCommonUtils").getSdpVersion(T)},b,N,P,B);i.push(z)}else if(f){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 6: media update"});var j={ackMessageId:d,eventName:"mediaUpdateRequest",mediaStates:o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(f,D,x),messageTags:P!=null?P:[],onProcessed:N};i.push(j)}else{var K="Warning: unsupported SMU type. TXID: "+d;r("FBLogger")("rpweb").warn(K),r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:K,errorDomain:"ZenonMWThriftServerMediaUpdateTranslator"})}o("ZenonMWThriftTranslatorUtils").maybeAddOverlayConfigServerUpdateRequestFromThrift(i,u);var Q={capabilities:{multipleVideoStreamsAllowed:g},eventName:"capabilitiesRequest",messageTags:P!=null?P:[]};return i.push(Q),i}function s(e,t,n,r,a,i,l,s,u){return{ackMessageId:e,e2eeServerState:u,eventName:"remoteSdpRequest",fromVersion:t,mediaPath:n,mediaStates:o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(r),messageTags:s!=null?s:[],negotiateType:!1,onProcessed:l,sdp:a,sdpOriginLocalId:i,source:"serverMediaUpdateRequest"}}function u(e,t,n,r){var a;return m({acknowledgedVersion:t.acknowledgedVersion,answer:r,header:e,mediaStates:n,statusCode:o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusCode(t.statusCode),subCode:(a=o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusSubCode(t.subCode))!=null?a:void 0})}function c(e,t){var n;return m({acknowledgedVersion:t.acknowledgedVersion,header:e,statusCode:o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusCode(t.statusCode),subCode:(n=o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusSubCode(t.subCode))!=null?n:void 0})}function d(e,t){var n;return m({acknowledgedVersion:t.acknowledgedVersion,header:e,statusCode:(n=o("MultiwayCommonTypes").RtcResponseStatusCode.cast(t.responseStatusCode))!=null?n:o("MultiwayCommonTypes").RtcResponseStatusCode.CONDITIONAL_REQUEST_FAILED,subCode:o("MultiwayCommonTypes").RtcResponseSubCode.cast(t.responseSubCode)})}function m(e){var t=e.acknowledgedVersion,n=e.answer,r=e.header,a=e.mediaStates,i=e.statusCode,l=e.subCode,s={currentVersion:String(t)};return a&&(s.mediaStatus=p(a)),n&&(s.answer={sdpString:n.sdp}),o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:r,rtcMessageBody:{serverMediaUpdateResponse:s},statusCode:i,subCode:l,type:o("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE})}function p(e){var t={tracks:{}},n=!o("ZenonScreenShare").screenShareWithReplaceTrack();return e.tracks.forEach(function(e){var r={customAudioContentType:void 0,customVideoContentType:void 0,enabled:e.enabled,name:e.name,owner:e.participantID},a=n?o("ZenonMWThriftTranslatorUtils").toMWThriftTrackLabel(e.type):null;a!=null&&(r.label=a),t.tracks[e.trackID]=r}),t}l.fromThriftServerMediaUpdateRequest=e,l.toThriftServerMediaUpdateResponse=u,l.toThriftServerMediaUpdateRenegotiationResponse=c,l.toThriftServerMediaUpdateNoSdpResponse=d}),98);
__d("ZenonMWThriftStateSyncTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.messageBody.updateResponse,n=e.messageHeader.transactionId;if(!t)return[];var r=t.topic,o=t.version,a={ackMessageId:n,eventName:"stateSyncUpdateResponse",topic:r,version:o};return[a]}function s(e){var t=e.messageBody.notifyRequest;if(!t)return[];var n=[];if(t.syncPayload!=null)o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(t.syncPayload.stateStore,n,!0,!1);else{var r=t.data,a=t.topic,i=t.version,l={data:r,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:a,version:i};n.push(l)}return n}function u(e){var t=e.messageBody.unsubscribeResponse,n=e.messageHeader.transactionId;if(!t)return[];var r=t.topic,o=t.version,a={ackMessageId:n,eventName:"stateSyncUnsubscribeResponse",topic:r,version:o};return[a]}function c(e,t){var n=t.data,r=t.topic,a=t.version,i={data:n,syncPayload:{stateStore:{},stateStoreV2:{}},topic:r,topicId:null,version:a};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{updateRequest:i},type:o("MultiwayCommonTypes").MessageType.UPDATE})}function d(e,t){var n=t.topic,r=t.version,a={topic:n,version:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{notifyResponse:a},type:o("MultiwayCommonTypes").MessageType.NOTIFY})}function m(e,t){var n=t.topic,r=t.version,a={topic:n,topicId:null,version:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{unsubscribeRequest:a},type:o("MultiwayCommonTypes").MessageType.UNSUBSCRIBE})}l.fromThriftUpdateResponse=e,l.fromThriftNotifyRequest=s,l.fromThriftUnsubscribeResponse=u,l.toThriftUpdateRequest=c,l.toThriftNotifyResponse=d,l.toThriftUnsubscribeRequest=m}),98);
__d("ZenonMWThriftSubscriptionTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=t.subscriptions,r={subscriptions:n.map(function(e){var t;return{cname:"",options:{videoQuality:o("MultiwaySharedTypes").VideoQuality.cast((t=e.options)==null?void 0:t.videoQuality)},trackId:e.trackId,type:o("MultiwaySharedTypes").SubscriptionType.cast(e.type)}})};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{subscriptionRequest:r},type:o("MultiwayCommonTypes").MessageType.SUBSCRIPTION})}l.toThriftSubscriptionRequest=e}),98);
__d("ZenonMWThriftWakeupTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"wakeupRequest"};return t.push(r),t}function s(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.WAKEUP})}l.fromThriftWakeupRequest=e,l.toThriftWakeupResponse=s}),98);
__d("ZenonSignalingMessage",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.getHeader=function(){return this.$1},t.getEvents=function(){return this.$2},t.setSignalingID=function(t){this.$1.signalingID=t},t.setRetryCount=function(t){this.$1.retryCount=t},e})();i.default=e}),66);
__d("ZenonMWThriftMessageTranslator",["DGWWebConfig","FBLogger","MultiwayCommonTypes","ZenonActorHooks","ZenonMWThriftAddParticipantsTranslator","ZenonMWThriftApprovalTranslator","ZenonMWThriftClientEventTranslator","ZenonMWThriftClientMediaUpdateTranslator","ZenonMWThriftConferenceStateTranslator","ZenonMWThriftDataMessageTranslator","ZenonMWThriftDismissTranslator","ZenonMWThriftHangupTranslator","ZenonMWThriftIceCandidateTranslator","ZenonMWThriftJoinTranslator","ZenonMWThriftPingTranslator","ZenonMWThriftRemoveParticipantsTranslator","ZenonMWThriftRingTranslator","ZenonMWThriftServerMediaUpdateTranslator","ZenonMWThriftStateSyncTranslator","ZenonMWThriftSubscriptionTranslator","ZenonMWThriftTranslatorUtils","ZenonMWThriftWakeupTranslator","ZenonSignalingMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getHeader(),n=e.getEvents();if(n.length===0)throw r("FBLogger")("rtc_www").mustfixThrow("Unexpected Translation: called toMWThriftMessage with empty signaling events");var a=n[0];switch(a.eventName){case"addParticipantsRequest":return o("ZenonMWThriftAddParticipantsTranslator").toThriftAddParticipantsRequest(t,a);case"clientEventRequest":return o("ZenonMWThriftClientEventTranslator").toThriftClientEventRequest(t,a);case"clientInfoRequest":if(n.length>=2&&n[1].eventName==="localSdpRequest"&&(n[1].sdp.type==="offer"||n[1].sdp.type==="answer"))return o("ZenonMWThriftJoinTranslator").toThriftJoinRequest(t,a,n[1]);break;case"dismissResponse":return o("ZenonMWThriftDismissTranslator").toThriftDismissResponse(t);case"genericDataMessageRequest":return o("ZenonMWThriftDataMessageTranslator").toThriftDataMessageRequest(t,a);case"genericDataMessageResponse":return o("ZenonMWThriftDataMessageTranslator").toThriftDataMessageResponse(t);case"terminateRequest":return o("ZenonMWThriftHangupTranslator").toThriftHangupRequest(t,a);case"initiateRenegotiationResponse":return n.length>=3&&n[1].eventName==="remoteSdpResponse"&&n[2].eventName==="localSdpRequest"&&n[2].sdp.type==="answer"?o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,n[1],n[2].mediaStates,n[2].sdp):o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateRenegotiationResponse(t,a);case"inviteRequest":if(n.length>=3&&n[1].eventName==="clientInfoRequest"&&n[2].eventName==="localSdpRequest"&&n[2].sdp.type==="offer")return o("ZenonMWThriftJoinTranslator").toThriftJoinRequest(t,n[1],n[2],a);break;case"inviteResponse":return o("ZenonMWThriftRingTranslator").toThriftRingResponse(t,a);case"iceCandidateRequest":return o("ZenonMWThriftIceCandidateTranslator").toThriftIceCandidateRequest(t,a);case"iceCandidateResponse":return o("ZenonMWThriftIceCandidateTranslator").toThriftIceCandidateResponse(t);case"participantUpdateResponse":return o("ZenonMWThriftConferenceStateTranslator").toThriftConferenceStateResponse(t,a);case"localSdpRequest":return o("ZenonMWThriftClientMediaUpdateTranslator").toThriftClientMediaUpdateRequest(t,a.mediaStates,a.sdp);case"mediaUpdateRequest":return o("ZenonMWThriftClientMediaUpdateTranslator").toThriftClientMediaUpdateRequest(t,a.mediaStates);case"mediaUpdateResponse":return o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateNoSdpResponse(t,a);case"pingRequest":return o("ZenonMWThriftPingTranslator").toThriftPingRequest(t);case"remoteSdpResponse":return a.type==="offer"&&n.length>=2&&n[1].eventName==="localSdpRequest"&&n[1].sdp.type==="answer"?n[1].mediaMode!=="p2p"?o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,a,n[1].mediaStates):o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,a,n[1].mediaStates,n[1].sdp):o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,a);case"removeParticipantsRequest":return o("ZenonMWThriftRemoveParticipantsTranslator").toThriftRemoveParticipantsRequest(t,a);case"subscriptionRequest":return o("ZenonMWThriftSubscriptionTranslator").toThriftSubscriptionRequest(t,a);case"stateSyncNotifyResponse":return o("ZenonMWThriftStateSyncTranslator").toThriftNotifyResponse(t,a);case"stateSyncUpdateRequest":return o("ZenonMWThriftStateSyncTranslator").toThriftUpdateRequest(t,a);case"stateSyncUnsubscribeRequest":return o("ZenonMWThriftStateSyncTranslator").toThriftUnsubscribeRequest(t,a);case"usersApprovalRequest":return o("ZenonMWThriftApprovalTranslator").toThriftApprovalRequest(t,a);case"wakeupResponse":return o("ZenonMWThriftWakeupTranslator").toThriftWakeupResponse(t)}return null}function s(e){var t=e.messageHeader;if(!u(t))return r("FBLogger")("rtc_www").info("Ignoring Thrift MW message; receiver does not match self ID","rtc_www"),null;var n=t.type,a=t.responseStatusCode==null,i=o("ZenonMWThriftTranslatorUtils").mwThriftMessageHeaderToSignalingMessageHeader(t),l=[];if(n==null)return new(r("ZenonSignalingMessage"))(i,l);switch(n){case o("MultiwayCommonTypes").MessageType.RING:a&&(l=o("ZenonMWThriftRingTranslator").fromThriftRingRequest(e,i));break;case o("MultiwayCommonTypes").MessageType.JOIN:a||(l=o("ZenonMWThriftJoinTranslator").fromThriftJoinResponse(e));break;case o("MultiwayCommonTypes").MessageType.CONFERENCE_STATE:a&&(l=o("ZenonMWThriftConferenceStateTranslator").fromThriftConferenceStateRequest(e));break;case o("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:a||(l=o("ZenonMWThriftClientMediaUpdateTranslator").fromThriftClientMediaUpdateResponse(e));break;case o("MultiwayCommonTypes").MessageType.HANGUP:a||(l=o("ZenonMWThriftHangupTranslator").fromThriftHangupResponse(e));break;case o("MultiwayCommonTypes").MessageType.PING:a||(l=o("ZenonMWThriftPingTranslator").fromThriftPingResponse(e));break;case o("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:a?l=o("ZenonMWThriftIceCandidateTranslator").fromThriftIceCandidateRequest(e):l=o("ZenonMWThriftIceCandidateTranslator").fromThriftIceCandidateResponse(e);break;case o("MultiwayCommonTypes").MessageType.DATA_MESSAGE:a&&(l=o("ZenonMWThriftDataMessageTranslator").fromThriftDataMessageRequest(e));break;case o("MultiwayCommonTypes").MessageType.DISMISS:a&&(l=o("ZenonMWThriftDismissTranslator").fromThriftDismissRequest(e));break;case o("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:a&&(l=o("ZenonMWThriftServerMediaUpdateTranslator").fromThriftServerMediaUpdateRequest(e));break;case o("MultiwayCommonTypes").MessageType.NOTIFY:a&&(l=o("ZenonMWThriftStateSyncTranslator").fromThriftNotifyRequest(e));break;case o("MultiwayCommonTypes").MessageType.UPDATE:a||(l=o("ZenonMWThriftStateSyncTranslator").fromThriftUpdateResponse(e));break;case o("MultiwayCommonTypes").MessageType.UNSUBSCRIBE:a||(l=o("ZenonMWThriftStateSyncTranslator").fromThriftUnsubscribeResponse(e));break;case o("MultiwayCommonTypes").MessageType.WAKEUP:a&&(l=o("ZenonMWThriftWakeupTranslator").fromThriftWakeupRequest(e));break;default:break}return new(r("ZenonSignalingMessage"))(i,l)}function u(e){var t;return o("ZenonActorHooks").ZenonActor.isInstagramUser()||o("ZenonActorHooks").ZenonActor.isOculusUser()||o("ZenonActorHooks").ZenonActor.isKadabraUser()||o("ZenonActorHooks").ZenonActor.isLiveChatOnlyPerson()||o("ZenonActorHooks").ZenonActor.isManagedMetaAccount()||o("ZenonActorHooks").ZenonActor.isMDCUser()||e.receiverUserId==null||e.receiverUserId===o("ZenonActorHooks").ZenonActor.getID()||((t=e.receiver)==null?void 0:t.baseId)===o("ZenonActorHooks").ZenonActor.getAccountID()||e.receiverUserId===r("DGWWebConfig").fbId}l.toMWThriftMessage=e,l.toSignalingMessage=s}),98);
__d("DGWSignalingListener",["FBLogger","MultiwayCommonTypes","ZenonDGWStreamController","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set([o("MultiwayCommonTypes").MessageType.RING,o("MultiwayCommonTypes").MessageType.DISMISS,o("MultiwayCommonTypes").MessageType.HANGUP]),s=(function(){function t(){this.$1=r("ZenonDGWStreamController").getControllerInstance(),r("promiseDone")(this.$1.establishAndGetStream())}var n=t.prototype;return n.setLoggingEventHandler=function(t){this.$2=t},n.subscribe=function(n,a){var t=this;this.$1.setOnDataReceivedCallback(function(i){try{var l=o("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(i,!0),s=l.messageHeader.type,u=t.$1.getWindowContext(),c=u!=="PARENT"||s!=null&&e.has(s);c&&(r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","DGW Thrift",l),o("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(l),t.$2&&t.$2({mwThriftMessage:l,name:"mwThriftMessageRecv"}));var d=o("ZenonMWThriftMessageTranslator").toSignalingMessage(l);if(c&&o("ZenonMWThriftMessageReliabilityLogger").logMessageAfterTranslation(l),d==null)return;c&&o("ZenonMWThriftMessageReliabilityLogger").logMessageAfterNullCheck(l),a&&t.$3(l,d,a),n(d),c&&o("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(l)}catch(e){r("FBLogger")("rpweb").catching(r("getErrorSafe")(e)).warn("Error receiving DGW message")}})},n.unsubscribe=function(){this.$1.closeStream()},n.$3=function(t,n,o){try{o(t,n)}catch(e){r("FBLogger")("rtweb").catching(r("getErrorSafe")(e)).mustfix("Signaling messages should be json parsable")}},t})();l.default=s}),98);
__d("RTWebSignalingListener",["FBLogger","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","getErrorSafe","getZenonMqttChannel"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=r("getZenonMqttChannel")()}var t=e.prototype;return t.setLoggingEventHandler=function(t){this.$2=t},t.subscribe=function(t,n){var e=this;this.$1.subscribeBinary("/t_rtc_multi",function(a){try{var i=o("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(a);r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","MQTT Thrift",i),o("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(i),e.$2&&e.$2({mwThriftMessage:i,name:"mwThriftMessageRecv"});var l=o("ZenonMWThriftMessageTranslator").toSignalingMessage(i);if(o("ZenonMWThriftMessageReliabilityLogger").logMessageAfterTranslation(i),l==null)return;o("ZenonMWThriftMessageReliabilityLogger").logMessageAfterNullCheck(i),n&&e.$3(i,l,n),t(l),o("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(i)}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("rpweb").catching(s).warn("Error receiving binary MQTT message from /t_rtc_multi topic")}})},t.unsubscribe=function(){this.$1.unsubscribeAll("/t_rtc_multi")},t.$3=function(t,n,o){try{o(t,n)}catch(t){var e=r("FBLogger")("rtweb");t instanceof Error&&e.catching(t),e.mustfix("Signaling messages should be json parsable.")}},e})();l.default=e}),98);
__d("ZenonDGWMWThriftMessageSender",["ZenonDGWStreamController","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageLogger","ZenonMWThriftMessageMap","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","ZenonValidateMWThriftMessage","err"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$3=r("ZenonDGWStreamController").getControllerInstance()}var t=e.prototype;return t.$4=async function(t){try{await this.$3.establishAndGetStream()}catch(e){this.$5(t,"Failed to establish stream")}o("ZenonMWThriftMessageReliabilityLogger").logSendingMessage(t),r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("SENDING","DGW Thrift",t),this.$2&&o("ZenonMWThriftMessageLogger").logSentMessage(t,this.$2);var e=o("ZenonMWThriftMessageSerializer").serializeMWThriftMessage(t,!0),n=await this.$3.send(t.messageHeader.transactionId,e);n?(o("ZenonMWThriftMessageReliabilityLogger").logSentMessage(t),this.$2&&this.$2({mwThriftMessage:t,name:"mwThriftMessageSent"})):this.$5(t,"Failed to send data")},t.$5=function(t,n){var e=n!=null?n:"DGW Thrift Message Send Error";o("ZenonMWThriftMessageReliabilityLogger").logSendMessageFailed(t,"[DGW Thrift] "+e),r("ZenonMWThriftMessageDebugLogger").logSendMultiwayThriftMessageFailure(e,o("ZenonMWThriftMessageMap").messageTypeToString(t.messageHeader.type))},t.sendMessage=function(t){var e=o("ZenonMWThriftMessageTranslator").toMWThriftMessage(t);return!e||!r("ZenonValidateMWThriftMessage")(e)?Promise.reject(r("err")("Invalid MW Thrift message")):this.$4(e)},t.setMessageReceiver=function(t){this.$1=t},t.setLoggingEventHandler=function(t){this.$2=t},e})();l.default=e}),98);/*FB_PKG_DELIM*/
__d("LSBeginHandlingSyncForSyncGroup",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(o){return t.sequence([function(r){return t.db.table(1).fetch([[[e[0]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[0]=void 0:(r=a.item,n[9]=new t.Map,n[9].set("group_id",r.groupId),n[9].set("current_cursor",r.currentCursor),n[9].set("sync_status",r.syncStatus),n[9].set("sync_params",r.syncParams),n[9].set("send_sync_params",r.sendSyncParams),n[9].set("min_time_to_sync_timestamp_ms",r.minTimeToSyncTimestampMs),n[9].set("can_ignore_timestamp",r.canIgnoreTimestamp),n[9].set("sync_channel",r.syncChannel),n[9].set("last_sync_request_timestamp_ms",r.lastSyncRequestTimestampMs),n[0]=n[9])})},function(r){var o;return n[0]?n[2]=!1:n[2]=!0,n[2]?t.resolve((o=[e[0],void 0,t.i64.cast([0,4]),void 0,!1],n[3]=o[0],n[4]=o[1],n[5]=o[2],n[6]=o[3],n[7]=o[4],o)):t.sequence([function(e){return n[9]=n[0].get("group_id"),t.filter(t.db.table(3).fetch(),function(e){return t.i64.neq(e.epochId,void 0)&&t.i64.eq(e.syncDatabaseId,n[9])}).next().then(function(e,t){var r=e.done,o=e.value;return r?n[10]=!1:(t=o.item,n[10]=!0)})},function(r){var o;return n[10]?t.resolve((n[17]=n[0].get("group_id"),o=[n[17],void 0,t.i64.cast([0,4]),void 0,!1],n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=o[3],n[16]=o[4])):t.sequence([function(r){return n[17]=t.i64.of_float(Date.now()),n[18]=n[0].get("min_time_to_sync_timestamp_ms"),n[19]=n[0].get("last_sync_request_timestamp_ms"),n[20]=n[0].get("can_ignore_timestamp"),n[20]&&e[1]||t.i64.ge(n[17],n[18])?t.sequence([function(r){return e[1]?t.resolve(n[28]=t.i64.cast([0,0])):t.sequence([function(e){return n[29]=n[0].get("group_id"),t.db.table(3).fetch([[["",n[29]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[30]=t.i64.cast([0,0]):(r=a.item,n[30]=r.failureCount)})},function(e){return n[32]=t.i64.mul(t.i64.sub(t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.lt(t.i64.cast([0,15]),n[30])?t.i64.cast([0,15]):n[30])),t.i64.cast([0,1])),t.i64.cast([0,500])),n[33]=t.i64.sub(t.i64.add(n[19]==null?t.i64.cast([0,0]):n[19],t.i64.lt(n[32],t.i64.cast([0,3e4]))?n[32]:t.i64.cast([0,3e4])),n[17]),n[28]=t.i64.gt(n[33],t.i64.cast([0,0]))?n[33]:t.i64.cast([0,0])}])},function(e){return n[21]=n[28]}]):t.resolve(n[21]=t.i64.sub(n[18],n[17]))},function(e){return n[22]=n[0].get("group_id"),t.i64.gt(n[21],t.i64.cast([0,0]))?t.sequence([function(e){return n[28]=t.i64.of_float(Date.now()),t.forEach(t.filter(t.db.table(3).fetch(),function(e){return t.i64.eq(e.syncDatabaseId,n[22])}),function(e){var t=e.update,r=e.item;return t({lastDelayedRequestTimestampMs:n[28]})})},function(e){var r;return r=[n[22],n[21],t.i64.cast([0,3]),void 0,!1],n[23]=r[0],n[24]=r[1],n[25]=r[2],n[26]=r[3],n[27]=r[4],r}]):t.sequence([function(e){return n[28]=t.i64.of_float(Date.now()),t.forEach(t.db.table(1).fetch([[[n[22]]]]),function(e){var t=e.update,r=e.item;return t({lastSyncRequestTimestampMs:n[28]})})},function(e){return n[29]=t.i64.of_float(Date.now()),t.forEach(t.filter(t.db.table(3).fetch(),function(e){return t.i64.eq(e.syncDatabaseId,n[22])}),function(e){var t=e.update,r=e.item;return t({lastSyncRequestTimestampMs:n[29]})})},function(e){return n[30]=n[0].get("group_id"),n[31]=t.i64.of_float(Date.now()),n[32]=t.i64.random(),n[45]=t.i64.and_(t.i64.or_(t.i64.lsl_(n[31],t.i64.to_int32(t.i64.cast([0,22]))),t.i64.and_(n[32],t.i64.cast([0,4194303]))),t.i64.cast([2147483647,4294967295])),t.db.table(3).fetch([[["",n[30]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?t.db.table(3).add({syncDatabaseId:n[30],taskQueueName:"",failureCount:t.i64.cast([0,0]),lastSentTimestampMs:t.i64.cast([0,0]),lastSyncRequestTimestampMs:t.i64.cast([0,0]),epochId:n[45]}):(r=a.item,t.forEach(t.db.table(3).fetch([[["",n[30]]]]),function(e){var t=e.update,r=e.item;return t({epochId:n[45]})}))})},function(e){return n[34]=n[0].get("group_id"),t.db.table(3).fetch([[["",n[34]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[35]=t.i64.cast([0,0]):(r=a.item,n[35]=r.failureCount)})},function(e){var r;return n[37]=n[0].get("send_sync_params"),n[38]=n[0].get("sync_params"),n[39]=n[0].get("current_cursor"),n[40]=new t.Map,n[40].set("database",n[34]),n[40].set("version",t.i64.cast([-1,4294967295])),n[40].set("epoch_id",n[45]),n[40].set("last_applied_cursor",n[39]),n[40].set("sync_params",n[37]?n[38]:void 0),n[40].set("failure_count",t.i64.gt(n[35],t.i64.cast([0,0]))?n[35]:void 0),n[41]=n[0].get("current_cursor"),n[41]===void 0?n[42]=t.i64.cast([0,1]):n[42]=t.i64.cast([0,2]),n[43]=new t.Map,n[43].set("type",n[42]),n[43].set("request_payload",n[40]),n[44]=n[0].get("sync_channel"),r=[n[30],void 0,t.i64.cast([0,1]),n[43],t.i64.eq(n[44],t.i64.cast([0,2]))],n[23]=r[0],n[24]=r[1],n[25]=r[2],n[26]=r[3],n[27]=r[4]}])},function(e){var t;return t=[n[23],n[24],n[25],n[26],n[27]],n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=t[3],n[16]=t[4],t}])},function(e){var t;return t=[n[12],n[13],n[14],n[15],n[16]],n[3]=t[0],n[4]=t[1],n[5]=t[2],n[6]=t[3],n[7]=t[4],t}])},function(e){return n[8]=new t.Map,n[8].set("sync_group_id",n[3]),n[8].set("next_sync_ms",n[4]),n[8].set("work_item_type",n[5]),n[8].set("network_payload",n[6]),n[8].set("skip_realtime_gateway",n[7]),r[0]=n[8]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure",e.__tables__=["sync_groups","network_requests"],a.exports=e}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return r[0]=t.createArray(),t.forEach(t.db.table(1).fetch(),function(o){var a=o.item;return t.sequence([function(o){return t.storedProcedure(n("LSBeginHandlingSyncForSyncGroup"),a.groupId,e[0]).then(function(e){var t;return t=e,r[1]=t[0],t})},function(e){return r[2]=(r[0].push(r[1]),r[0])}])})},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure",e.__tables__=["sync_groups"],a.exports=e}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBeginHandlingSyncForSyncGroup"),a.syncGroupId,a.ignoreSoftDelay);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBeginHandlingSync"),a.ignoreSoftDelay);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function s(){return o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e).load()}l.default=s}),98);
__d("LSPlatformClientInit",["FBLogger","LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformSyncSystemMaybeEagerly","MessengerLogHistory","cr:3411","cr:5083","cr:6044","cr:7528","cr:8131","emptyFunction","getErrorSafe","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MessengerLogHistory").getInstance("client_init");function u(e){var t=r("emptyFunction");return n("cr:8131")!=null&&r("gkx")("23914")&&(t=n("cr:8131").listenForChangesToBackupState(e)),function(){t&&t()}}function c(t,n){var a=n==="Connected"?(e||(e=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED):(e||(e=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").NOT_CONNECTED);s.debug("Platform client sync connection status: ",n),r("promiseDone")(t.runInTransaction(function(e){return r("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(r("LSFactory")(e),{internetConnectionState:a})},"readwrite",void 0,void 0,i.id+":77"),function(){s.debug("Platform client sync connection status set successfully")},function(e){throw s.error("Platform client sync connection status set failed: "+(e==null?void 0:e.message)),e})}async function d(e,t,a,i,l,d){var m;s.debug("Platform client sync starting..."),(m=o("LSPlatformLsInitLog")).addPoint("onstart_callback"),i(),m.addPoint("onstart_callback_end"),s.debug("Getting datascript evaluator..."),m.addPoint("ds_eval_registration");var p=await t.getEval();s.debug("Getting datascript evaluator success");var _;try{_=n("cr:3411")!=null?n("cr:3411").registerEval(p)()(e):p()(e)}catch(t){r("FBLogger")("ls_web_init").catching(r("getErrorSafe")(t)).mustfix("fail to register datascriptEvaluator"),_=p()(e)}o("LSPlatformLsInitLog").addPoint("ds_eval_registration_end"),s.debug("Clearing epoch before resume sync..."),d.didEvaluateInitSyncEagerly||(o("LSPlatformLsInitLog").addPoint("ls_clear_epoch"),await o("LSClearEpochBeforeResumeSync").call(e),o("LSPlatformLsInitLog").addPoint("ls_clear_epoch_end"),s.debug("Clearing epoch before resume sync success"),o("LSPlatformLsInitLog").addPoint("create_client_end"),t.sendHardcodedInitSync&&(s.debug("Starting hard-coded init sync..."),await o("LSPlatformHardcodedInitSync").sendHardcodedInitSync(t,_,e,a),s.debug("Starting hard-coded init sync success"))),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(e)),s.debug("Starting realtime transport"),o("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_start");var f=await t.realtimeUnderylingTransport();o("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_end");var g=await Promise.all([n("cr:5083").load().then(function(e){return e.LSPlatformRealtimeTransport}),n("cr:7528").load(),n("cr:6044").load()]).catch(function(e){throw r("FBLogger")("ls_web_init").catching(e).mustfix("Error loading transport modules"),e}),h=g[0],y=g[1],C=g[2],b=h(f,t.appId,a);o("LSPlatformLsInitLog").addPoint("platform_realtime_transport_end"),s.debug("Starting task system");var v=new y(e,new C(e,b,_,t.schemaVersion));o("LSPlatformLsInitLog").addPoint("platform_task_system_end"),s.debug("Starting sync system");var S=null;r("promiseDone")(r("LSPlatformSyncSystemMaybeEagerly")(),function(n){S=n(e,b,_,t.schemaVersion,a,t.executeGraphQLLightSpeedRequest)}),s.debug("Starting backup state listeners");var R=u(e);o("LSPlatformLsInitLog").addPoint("init_listeners_backup_state_end");var L;return s.debug("Watching for expired traces"),r("promiseDone")(o("LSDataTraceFlushDeferred").watchForExpiredTraces(e).then(function(e){L=e})),s.debug("Subscribing to mqtt sync status change events"),b.onConnectionStatusChange(function(t){c(e,t)}),s.debug("Platform client sync starting sucess"),o("LSPlatformLsInitLog").endSuccess(),{cleanup:function(){var t;s.debug("Platform client sync cleaning up"),l(e),v==null||v.cleanup(),(t=S)==null||t.cleanup(),b.cleanup(),R(),L==null||L()},db:e}}l.init=d}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","cr:10018","cr:7305","emptyFunction","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("emptyFunction").thatReturns(Promise.resolve());function u(e,t,n){var a,i=async function(){var i=o("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");a=await o("LSPlatformClientInit").init(e,t,i,r("emptyFunction"),r("emptyFunction"),n)};return{cleanup:function(){var e;(e=a)==null||e.cleanup()},db:e,start:i}}async function c(e,t,a){if(n("cr:10018")==null)throw r("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");var i=await n("cr:10018").make(e,t,a);return i.isTabWithoutClient()===!0&&(o("MAWMIC").addPoint("ls_init_end"),o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.thread_mapping_end),o("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),o("LSPlatformLsInitLog").addPoint("no_ls_sync"),o("LSPlatformLsInitLog").endSuccess()),{cleanup:r("emptyFunction"),db:e,start:s}}async function d(t,a){if(o("LSPlatformLsInitLog").addPoint("make_client"),(e||(e=r("ExecutionEnvironment"))).canUseDOM){o("LSPlatformLsInitLog").addPoint("create_client_get_db");var i=await t.getDb();if(o("LSPlatformLsInitLog").addPoint("create_client_start"),o("LSDatabaseProviderType").isProviderPersisted(i)&&n("cr:10018")!==null)try{return c(i,t,a)}catch(e){throw o("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:r("getErrorSafe")(e).message}}),o("LSPlatformLsInitLog").fail("client_for_pdb_error"),e}return u(i,t,a)}if(o("LSPlatformLsInitLog").addPoint("make_client_ssr_mode"),n("cr:7305")==null)throw r("err")("LSCometSSRDatabase null, unexpected");return{cleanup:r("emptyFunction"),db:n("cr:7305"),start:s}}l.make=d}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","ReQL","gkx","promiseDone","qex","throttle"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,l,u,c){var d=o("MessengerLogHistory").getInstance("client_sync"),m=new(r("LSPlatformServerResponseHandler"))(a),p=o("LSDatabaseProviderType").isProviderPersisted(t),_=function(r){return t.runInTransaction(async function(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.network_requests).getKeyRange("",r));n!=null&&await t.network_requests.put({epochId:void 0,failureCount:(e||(e=o("I64"))).add(n.failureCount,e.one),lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})},"readwrite",void 0,void 0,i.id+":77")},f=new(r("LSPlatformRequestScheduler")),g=async function(d,_){var i=o("LSShape").toRecord(_),f=o("LSShape").toRecord(i.request_payload),g=i.type,h=r("LSPlatformRequestId").generate(),y=o("LSJson").stringify(o("LSShape").ofRecord({database:f.database,epoch_id:f.epoch_id,failure_count:f.failure_count,last_applied_cursor:f.last_applied_cursor,sync_params:f.sync_params,version:(e||(e=o("I64"))).of_string(l)})),C=(e||(e=o("I64"))).equal(d.sync_group_id,(s||(s=o("LSIntEnum"))).ofNumber(1))&&r("gkx")("26386")===!0;if(!C&&d.skip_realtime_gateway){var b=await o("LSPlatformGraphQLTransport").publish(u,h,g,y,c),v=b[0],S=b[1],R=b[2],L=b[3],E={experiments:R,syncScript:S,target:L};return p?m.maybeEvalInOrderReceived(v,E):a(E)}else{var k=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.sync_groups).getKeyRange(d.sync_group_id)),I=(s||(s=o("LSIntEnum"))).ofNumber(2),T=(e||(e=o("I64"))).to_int32(f.database),D=o("LSMailboxInitialSyncCursor").dgwDisabledSyncGroups.split(",").includes(String(T)),x;return k!=null&&(e||(e=o("I64"))).equal(k.syncChannel,I)?x=I:x=D?(s||(s=o("LSIntEnum"))).ofNumber(1):o("LSMailboxInitialSyncCursor").syncChannel,n.publish({databaseType:T,payload:y,queueName:void 0,requestId:h,syncChannel:x,type_:g}).then(function(){return Promise.resolve()})}},h=function(a){var n=function(n){return t.runInTransaction(function(e){return r("LSBeginHandlingSyncForSyncGroupStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1,syncGroupId:n})},"readwrite",void 0,void 0,i.id+":192").then(function(e){return h(e[0])})},l=function(a,i){f.schedule(function(){r("promiseDone")(n(a))},(e||(e=o("I64"))).to_string(a),e.to_float(i))},u=o("LSShape").toRecord(a),c=u.work_item_type;if((e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(1))||(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(5))){var m=u.network_payload;return m!=null?g(u,m).catch(function(e){if(e.message===o("LSPlatformGraphQLTransport").ServerError)o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(e.RE_EXN_ID===o("LSPlatformRealtimeTransport").Timeout||e.RE_EXN_ID===o("LSPlatformRealtimeTransport").NotConnected)o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),d.debug("Publish timed out");else if(o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error"),e instanceof Error)r("FBLogger")("messenger_web").catching(e).mustfix("Encountered an JS error while publishing a LS sync request");else{var t="";try{t=JSON.stringify(e)}catch(e){}r("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",t)}return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(s||(s=o("LSIntEnum"))).toNumber(o("LSShape").toRecord(m).type)+"."+s.toNumber(u.sync_group_id)),_(u.sync_group_id).then(function(){return n(u.sync_group_id)})}):(r("FBLogger")("ls_web_init").mustfix("Expected networkpayload for sync request but didn't get any"),Promise.resolve())}if(!(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(3)))return(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(4))||!(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(2))||r("FBLogger")("ls_web_init").mustfix("Native handling for sync group not implemented yet"),Promise.resolve();var p=u.next_sync_ms;return p!=null?(l(u.sync_group_id,p),Promise.resolve()):(r("FBLogger")("ls_web_init").mustfix("Expected delay for delayed sync request but didn't get any"),Promise.resolve())},y=function(t){return Promise.all(r("LSVec").toArray(t[0]).map(function(e){return h(e)}))},C=function(){r("promiseDone")(t.runInTransaction(function(e){return r("LSBeginHandlingSyncStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,i.id+":338").then(y))},b=r("throttle")(C,500),v=function(){return o("ReQL").fromTableAscending(t.tables.sync_groups).subscribe(function(){return b()})},S=function(){return n.subscribeToNonTaskResponses(function(e,t){var n=t.ex,a=t.payload,i={experiments:n,sp:t.sp,syncScript:a,target:t.target};r("promiseDone")(m.maybeEvalInOrderReceived(e,i),function(){return b()},function(e){if(o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure"),e instanceof Error)r("FBLogger")("messenger_web").catching(e).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,e.message);else{var t="";try{t=JSON.stringify(e)}catch(e){}r("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,t)}})})},R=function(){return n.onReconnect(function(e){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),!(o("LSMailboxInitialSyncCursor").isWebApp&&e===1&&r("qex")._("2072")===!0&&r("qex")._("2080")===!0)&&(d.debug("Sync System reconnecting"),r("promiseDone")(t.runInTransaction(async function(e){var n,a=await(n=o("ReQL")).toArrayAsync(n.mergeJoin(n.fromTableAscending(t.tables.sync_groups),n.fromTableAscending(t.tables.network_requests).getKeyRange("")));return await Promise.all(a.map(function(t){var n=t[1];return e.network_requests.put({epochId:void 0,failureCount:n.failureCount,lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})})),r("LSBeginHandlingSyncStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,i.id+":432").then(y)))})},L=v(),E=S(),k=R();return b(),{cleanup:function(){L(),k(),E()}}}l.default=u}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJID",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("wa_jid",e[0]),r[0].set("tam_thread_subtype",t.i64.cast([0,0])),r[1]=r[0].get("wa_jid"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[1]),t.i64.cast([0,1021]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithGroupJID","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadPointQueryAndRestoreMessagesWithGroupJID"),a.waJid);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWFTSMergeCutoverSearchResults",["fbt","I64"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,n){var r,a,i,l,u=(e||(e=o("I64"))).add((r=t.matchCount)!=null?r:(e||(e=o("I64"))).of_string("1"),(a=n.matchCount)!=null?a:(e||(e=o("I64"))).of_string("1")),c=e.max((i=t.messageTimestampMs)!=null?i:(e||(e=o("I64"))).minus_one,(l=n.messageTimestampMs)!=null?l:(e||(e=o("I64"))).minus_one);return babelHelpers.extends({},t,{contextLine:s._(/*BTDS*/"_j{\"*\":\"{number} matched messages\",\"_1\":\"1 matched message\"}",[s._plural(e.to_int32(u),"number")]).toString(),matchCount:u,matchLengths:void 0,matchOffsets:void 0,messageId:void 0,messageTimestampMs:(e||(e=o("I64"))).equal(c,(e||(e=o("I64"))).minus_one)?void 0:c})}l.mergeCutoverSearchResults=u}),226);
__d("MAWFTSUniversalSearchQPLLogger",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e={currentResultCount:0,hasStarted:!1,instanceKey:5e3},s=r("qpl")._(25301522,"2409");function u(){return e.hasStarted&&c(),e.instanceKey++,e.hasStarted=!0,r("QPLUserFlow").start(s,{annotations:{bool:{isInThread:!1}},instanceKey:e.instanceKey}),e.instanceKey}function c(t){!e.hasStarted||t!=null&&e.instanceKey!==t||(e.hasStarted=!1,r("QPLUserFlow").endCancel(s,{instanceKey:e.instanceKey}))}function d(t){var n=t.annotations,o=t.instanceKey,a=t.point;!e.hasStarted||o!=null&&e.instanceKey!==o||(r("QPLUserFlow").addPoint(s,a,{instanceKey:e.instanceKey}),n!=null&&m({annotations:n,instanceKey:e.instanceKey}))}function m(t){var n=t.annotations,o=t.instanceKey;!e.hasStarted||o!=null&&e.instanceKey!==o||r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e.instanceKey})}function p(t){e.currentResultCount=t}function _(t){!e.hasStarted||t!=null&&e.instanceKey!==t||(e.hasStarted=!1,r("QPLUserFlow").endSuccess(s,{annotations:{int:{result_count:e.currentResultCount}},instanceKey:e.instanceKey}))}var f={getCurrentInstanceKey:function(){return e.instanceKey},qplAddAnnotations:m,qplAddPoint:d,qplCancel:c,qplMarkFirstResultShowUp:function(){},qplStart:u,qplSuccess:_,updateCurrentResultCount:p},g=f;l.default=g}),98);
__d("escapeRegExp",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i.default=e}),66);
__d("MWContentSearchUtils",["fbt","I64","LSIntEnum","LSMessageSearchType","MAWVault","escapeRegExp","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=r("gkx")("1798");function d(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function m(e,t){var n=d(e).split(" "),o=d(t),a=[],i=[];return n.forEach(function(e){var t=new RegExp(r("escapeRegExp")(e),"gi"),n=o.matchAll(t),l=Array.from(n),s=l.map(function(e){return e.index}),u=s.map(function(t){return e.length});i.push.apply(i,s),a.push.apply(a,u)}),{matchLengths:a.join(","),matchOffsets:i.join(",")}}function p(t,n,a,i){if(a!=null&&(n===1||(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE)))){var l=o("MAWVault").isVaulted(a)?o("MAWVault").unvault(a):a,c=m(t,l);return babelHelpers.extends({contextLine:l},c)}else return{contextLine:s._(/*BTDS*/"_j{\"*\":\"{number} matched messages\",\"_1\":\"1 matched message\"}",[s._plural(n,"number")]).toString(),matchLengths:void 0,matchOffsets:void 0}}function _(e,t){return e===1&&t!=null?t:void 0}function f(e,t){return e===1&&t!=null?t:void 0}function g(t){return t!=null?(e||(e=o("I64"))).of_float(t):void 0}function h(t,n){var r=(e||(e=o("I64"))).of_float(-t);return n==null?r:e.min(r,n)}function y(t,n){return!c||t.messageTimestampMs==null||n.messageTimestampMs==null?(e||(e=o("I64"))).gt(t.globalIndex,n.globalIndex)?1:(e||(e=o("I64"))).lt(t.globalIndex,n.globalIndex)?-1:0:(e||(e=o("I64"))).lt(t.messageTimestampMs,n.messageTimestampMs)?1:(e||(e=o("I64"))).gt(t.messageTimestampMs,n.messageTimestampMs)?-1:0}l.getContextLineAndMatches=p,l.getMessageOtid=_,l.getMessageId=f,l.getMessageTimestamp=g,l.getGlobalIndex=h,l.searchResultsCompareFn=y}),226);
__d("waitForMiActMappingForUniversalSearch",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCurrentUser","MAWJids","ReQL","WAJids","emptyFunction","err","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=3e4,u=3e4;async function c(t){var n=await o("ReQL").toArrayAsync(t);return n.some(function(t){return t==null||(e||(e=o("I64"))).lt(t.authorityLevel,(e||(e=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE))})===!1}async function d(t,n,a,i){a===void 0&&(a=r("emptyFunction")),i===void 0&&(i=r("emptyFunction"));var l=(e||(e=o("I64"))).of_string(o("MAWCurrentUser").getID()),s=o("ReQL").leftJoin(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(n.serverThreadKey).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,l)}),o("ReQL").fromTableAscending(t.tables.contacts)).map(function(e){var t=e[0],n=e[1];return n}),d=null,m={contents:function(){}};function p(){a(n),m.contents()}if(await c(s))return p();m.contents=s.subscribe(async function(e,t){if(t.operation!=="delete"&&(d!=null&&window.clearTimeout(d),await c(s)))return p()}),d=window.setTimeout(function(){m.contents(),i(r("err")("Contacts timed out"))},u)}async function m(e,t){var n=o("MAWJids").convertChatJidToIntJid(t),a=o("WAJids").interpretAsGroupJid(t)!=null,l=o("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(n),u=await o("ReQL").firstAsync(l);if(u!=null)return await d(e,u),Promise.resolve(u);var c=null,m=new Promise(function(t,n){var o={contents:function(){}};function a(e){o.contents(),t(e)}function i(e){o.contents(),n(e)}o.contents=l.subscribe(async function(t,n){n.operation!=="delete"&&(c!=null&&window.clearTimeout(c),await d(e,n.value,a,i))}),c=window.setTimeout(function(){i(r("err")("MiActMapping timed out"))},s)});r("promiseDone")(e.runInTransaction(function(e){return a?r("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure")(r("LSFactory")(e),{waJid:n}):r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:n})},"readwrite",void 0,void 0,i.id+":150"));try{u=await m}catch(e){r("FBLogger")("messenger_web").warn("[FTS] Issue waiting for mi_act_mapping to be ready",r("getErrorSafe")(e).message)}return u}l.default=m}),98);
__d("MAWUniversalMessageSearch",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSMessagingThreadTypeUtil","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWFTSMergeCutoverSearchResults","MAWFTSUniversalSearchQPLLogger","MWContentSearchUtils","MWSearchThreadUtils","ReQL","groupBy","promiseDone","waitForMiActMappingForUniversalSearch"],(function(t,n,r,o,a,i,l){"use strict";var e=["matchedTerms","recordType"],s,u,c=(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD),d=new Map,m=r("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MAWUniversalMessageSearch");async function p(e,t,n){await e.message_search_queries.put(babelHelpers.extends({hasNextPage:!1,query:t,threadKeyV2:(u||(u=o("I64"))).one,type_:c},n))}async function _(e,t){var n=(u||(u=o("I64"))).to_string(t.threadKey);t.matchCount!=null&&d.set(n,(u||(u=o("I64"))).to_float(t.matchCount));var r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.message_search_results).getKeyRange(c,t.query,t.threadKey));if(r==null)await e.message_search_results.put(babelHelpers.extends({},t));else{var a=o("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(r,t);await e.message_search_results.upsert([c,r.query,r.threadKey,r.globalIndex],babelHelpers.extends({},a,{globalIndex:t.globalIndex}))}}function f(e,t){var n,r=(n=d.get((u||(u=o("I64"))).to_string(e)))!=null?n:0;r+=t,d.set((u||(u=o("I64"))).to_string(e),r)}function g(){d.clear()}function h(e,t){var n;return o("LSMessagingThreadTypeUtil").isArmadilloSecure(t)&&(n=d.get((u||(u=o("I64"))).to_string(e)))!=null?n:null}async function y(t,n,a){d.clear(),await t.runInTransaction(async function(e){await p(e,a,{resultCount:(u||(u=o("I64"))).zero,status:(s||(s=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING)})},"readwrite",void 0,void 0,i.id+":142"),r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"search_local_result_start"});var l=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:a,searchMode:o("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}),f=l.map(function(t){if(t.recordType==="msg"){var n=t.matchedTerms,r=t.recordType,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return babelHelpers.extends({},o)}}).filter(Boolean),g=r("groupBy")(f,function(e){return e.chatJid}),h=Object.values(g);r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{int:{numResult:h.length}},point:"search_local_result_end"}),r("promiseDone")(Promise.all(h.map(async function(e,l){var s=e[0].chatJid;await r("waitForMiActMappingForUniversalSearch")(t,s);var d=await o("MWSearchThreadUtils").getThreadDataForSearchResult(t,s,n,c);if(d!=null){var p=d.profilePicUrl,f=d.secondaryProfilePicUrl,g=d.threadDisplayName,h=d.threadKey,y=d.threadType,C=e.sort(function(e,t){return t.sortOrderMs-e.sortOrderMs})[0],b=e.length===1&&C.msg==null?{id:C.externalId,sortOrderMs:C.sortOrderMs}:null,v={displayName:g,globalIndex:o("MWContentSearchUtils").getGlobalIndex(C.sortOrderMs),matchCount:(u||(u=o("I64"))).of_int32(e.length),profilePicUrl:p,query:a,secondaryProfilePicUrl:f,threadKey:h,threadType:y,type_:c};if(b==null)await t.runInTransaction(async function(t){var n,r;await _(t,babelHelpers.extends({},v,o("MWContentSearchUtils").getContextLineAndMatches(a,e.length,C==null||(n=C.msg)==null?void 0:n.content,c),{messageId:o("MWContentSearchUtils").getMessageId(e.length,C==null||(r=C.msg)==null?void 0:r.msgId),messageOtid:o("MWContentSearchUtils").getMessageOtid(e.length,C==null?void 0:C.externalId),messageTimestampMs:o("MWContentSearchUtils").getMessageTimestamp(C==null?void 0:C.sortOrderMs)}))},"readwrite",void 0,void 0,i.id+":243");else{r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+l+"_start"});var S=await m.load().then(function(e){var t=e.issueQueryAsPromiseForSearchResult;return t(s,[b])});if(S!=null&&S.length!==0){var R=S[0];r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+l+"_end"}),await t.runInTransaction(async function(t){var n;await _(t,babelHelpers.extends({},v,o("MWContentSearchUtils").getContextLineAndMatches(a,e.length,C==null||(n=C.msg)==null?void 0:n.content,c),{messageOtid:R.externalId,messageTimestampMs:R.sortOrderMs!=null?(u||(u=o("I64"))).of_float(R.sortOrderMs):void 0}))},"readwrite",void 0,void 0,i.id+":282")}else r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{bool:{failedFetchingMissingMessage:!0}},point:"fetch_missing_message_"+l+"_end"})}}})),function(){r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{int:{numResult:h.length}},point:"issue_secure_search_query_end"}),r("promiseDone")(t.runInTransaction(async function(e){await p(e,a,{hasNextPage:!1,resultCount:(u||(u=o("I64"))).of_int32(h.length),status:(s||(s=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").COMPLETE)})},"readwrite",void 0,void 0,i.id+":322"))},function(e){r("FBLogger")("maw_fts_search").mustfix("Error while searching in secure threads. Err: %s",e==null?void 0:e.message)})}l.updateSecureMsgMatchCountForThread=f,l.clearSecureMsgMatchCountForThread=g,l.getSecureMsgsMatchCountForThread=h,l.search=y}),98);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPathGated",["cr:8129","cr:8784"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=n("cr:8784"))!=null?e:n("cr:8129"),u=s;l.default=u}),98);
__d("isEBSearchEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("4741")}l.default=e}),98);
__d("MWInboxSecureContentSearch",["I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MAWFTSMergeCutoverSearchResults","MAWMiActOnActThreadReadyDeferred","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","ReQL","emptyFunction","isEBSearchEnabled","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=["matchedTerms","recordType"],s,u,c=r("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MWInboxSecureContentSearch"),d=r("justknobx")._("2605");function m(e,t,n){var r;return Promise.all([(r=o("ReQL")).mergeJoin(r.fromTableAscending(n.tables.participants,[]).getKeyRange(e),r.fromTableAscending(n.tables.contacts)),r.firstAsync(r.fromTableAscending(n.tables.threads).getKeyRange(e))]).then(function(e){var n=e[0],r=e[1],a=n.filter(function(e){var n=e[0],r=e[1],a=(s||(s=o("I64"))).equal(r.id,t);return!a}).map(function(e){var t=e[0],n=e[1];return n});return o("ReQL").firstAsync(a)})}function p(e,t){return o("MAWChatJid").toThreadKeyMaybe(t,e.chatJid).then(function(n){return n==null?Promise.resolve([null,e]):Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange(n)),Promise.resolve(e)])})}async function _(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange((s||(s=o("I64"))).of_string(t)));return n}function f(e,t){var n=t.query,a=t.threadKey;return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.message_search_results).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD),n,a))}function g(e,t,n,a,l,c,d,m){m===void 0&&(m=r("LSSearchRequestStatusType").COMPLETE);var g=function(d){return p(e,d).then(function(e){var i=e[0];if(i!=null){var p=e[1],g=p.msg;if(g!=null&&p!=null)return Promise.all([o("MWSearchThreadUtils").getThreadPics(i,l,c),o("MWSearchThreadUtils").getThreadParticipants(i,c),(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))?_(c,g.sender):Promise.resolve(null),(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))?f(d,{query:n,threadKey:i.threadKey}):Promise.resolve(null)]).then(function(e){var c=e[0],_=c[0],f=c[1],h=e[1],y=e[2],C=e[3];(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))&&o("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(i.threadKey,t);var b=babelHelpers.extends({},o("MWContentSearchUtils").getContextLineAndMatches(n,t,g.content,a),{displayName:o("MWSearchThreadUtils").getThreadDisplayName(l,i,h,y,a),globalIndex:(s||(s=o("I64"))).of_float(-p.sortOrderMs),matchCount:s.of_int32(t),messageId:g.msgId,messageOtid:p.externalId,messageTimestampMs:(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))&&t>1?void 0:(s||(s=o("I64"))).of_string(""+p.sortOrderMs),profilePicUrl:(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&y!=null?y.profilePictureUrl:_,query:n,secondaryProfilePicUrl:(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&y!=null?y.profilePictureFallbackUrl:f,threadKey:i.threadKey,threadType:i.threadType,type_:a}),v;if((s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))||C==null)v=d.message_search_results.put(b);else{var S=o("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(C,b);v=d.message_search_results.upsert([a,C.query,C.threadKey,C.globalIndex],babelHelpers.extends({},S,{globalIndex:b.globalIndex}))}return Promise.all([d.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:n,resultCount:s.of_int32(t),status:(u||(u=o("LSIntEnum"))).ofNumber(m),threadKeyV2:i.threadKey,type_:a}),v]).then(r("emptyFunction"))})}})};return d!=null?g(d):c.runInTransaction(function(e){return g(e)},"readwrite",void 0,void 0,i.id+":280")}async function h(t,n,r,a){a!=null&&a.flow.qplAddPoint({instanceKey:a.instanceKey,point:"search_local_result_start"});var i=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:n,searchMode:o("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH});return Promise.all(i.map(function(n){if(n.recordType==="msg"){var r=n.matchedTerms,a=n.recordType,i=babelHelpers.objectWithoutPropertiesLoose(n,e);return o("MAWChatJid").toThreadKeyMaybe(t.tables,i.chatJid).then(function(e){return[i,e]})}}).filter(Boolean)).then(function(e){var t=r!=null?e.filter(function(e){var t=e[0],n=e[1];return n!=null&&(s||(s=o("I64"))).equal(n,r)}):e.filter(function(e){var t=e[0],n=e[1];return n!=null}),n=null;return r!=null&&(n={int:{numResult:t.length}}),a!=null&&a.flow.qplAddPoint({annotations:babelHelpers.extends({},n),instanceKey:a.instanceKey,point:"search_local_result_end"}),t})}function y(e,t,n,a,i,l){return Promise.all(a.map(function(a){return g(a,i,n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),l,e,t)})).then(r("emptyFunction"))}function C(e,t,n,a,i){return Promise.all(n.map(function(n){return g(n,a,t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),i,e)})).then(r("emptyFunction"))}function b(e,t,n,a,l){return a.runInTransaction(function(n){return n.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:e,resultCount:(s||(s=o("I64"))).of_int32(0),status:(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING),threadKeyV2:t,type_:u.ofNumber(r("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,i.id+":411").then(function(n){return h(a,e,t,l)}).then(function(m){var p=m.length,_=m.filter(function(e){var t=e[0],n=e[1];return t.msg!=null}).length,f=_,h=function(){var o=m.map(function(e){var t=e[0];return t}).filter(function(e){return e.msg==null});return o.length===0?Promise.resolve():(o=o.slice(0,d),l.flow.qplAddPoint({annotations:{int:{numRequestedMessages:o.length}},instanceKey:l.instanceKey,point:"fetch_missing_messages_start"}),r("MAWMiActOnActThreadReadyDeferred")(a,t,"MWMessageSearchInput.react",function(t,r){var i=o.map(function(e){return{id:e.externalId,sortOrderMs:e.sortOrderMs}});return c.load().then(function(t){var o=t.issueQueryAsPromiseForSearchResult,s=o(r,i);return s==null?Promise.resolve():s.then(async function(t){var s=t;if(t.length!==i.length){l.flow.qplAddPoint({annotations:{int:{numRemainingMessages:i.length-t.length}},instanceKey:l.instanceKey,point:"fetch_missing_messages_partial"});var u=i.filter(function(e){return!s.some(function(t){return t.externalId===e.id})});if(u.length>0){var c=await o(r,u);c!=null&&(s=[].concat(t,c))}}return f=_+s.length,l.flow.qplAddPoint({annotations:{int:{numRespondedMessages:s.length}},instanceKey:l.instanceKey,point:"fetch_missing_messages_end"}),C(a,e,s,f,n)})})}))};return Promise.all([m.map(function(t){var i=t[0];return g(i,p,e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),n,a,void 0,r("LSSearchRequestStatusType").PENDING)}).reduce(function(e,t){return Promise.all([e,t]).then(r("emptyFunction"))},Promise.resolve()),r("isEBSearchEnabled")()?h():Promise.resolve()]).then(function(n){return a.runInTransaction(function(n){return n.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:e,resultCount:(s||(s=o("I64"))).of_int32(f),status:(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").COMPLETE),threadKeyV2:t,type_:u.ofNumber(r("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,i.id+":561")}).then(function(e){return Promise.resolve()})})}l.getThreadOtherParticipantContact=m,l.addBridgeSearchMsgsToSearchResult=y,l.addMessagesToSearchResult=C,l.searchSecureDatabaseMessages=b}),98);/*FB_PKG_DELIM*/
__d("CometVideoPlayerInstreamAdsFeedContextCardContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext({isWatchTab:!1,onNodeChangeFunc:null});function d(){return u(c)}l.CometVideoPlayerInstreamAdsFeedContextCardContext=c,l.useCometVideoPlayerInstreamAdsFeedContextCardContext=d}),98);
__d("FBNucleusTagFilled20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M19 3.25A2.25 2.25 0 0 0 16.75 1h-5.715a3.25 3.25 0 0 0-2.298.952l-7.25 7.25a3.25 3.25 0 0 0 0 4.596l4.715 4.715a3.25 3.25 0 0 0 4.596 0l7.25-7.25a3.25 3.25 0 0 0 .952-2.3V3.25zM15 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSResizeUpFilled20Icon",["cr:14081"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14081")}),98);
__d("FDSResizeUpFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("517763"),20),u=e;l.default=u}),98);
__d("FDSTagFilled20Icon",["cr:15749"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15749")}),98);
__d("FDSTagFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("502473"),20),u=e;l.default=u}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","react-compiler-runtime","stylex","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useState,_=44,f={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(18),a=t.children,i=t.height,l=t.initialBottomRowAddOn,s=t.isBackgroundVisible,d=t.isVisible,g=t.xstyle,h=l===void 0?null:l,y=p(0),C=y[0],b=y[1],v;n[0]===Symbol.for("react.memo_cache_sentinel")?(v=function(t){b(t.height)},n[0]=v):v=n[0];var S=r("useResizeObserver")(v),R=o("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(h),L=(u||(u=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions(),E=L.release,k=L.reserve,I=i!=null?i:_,T,D;n[1]!==I||n[2]!==s||n[3]!==d||n[4]!==E||n[5]!==k?(T=function(){if(d||s){var e=k({location:"bottom",size:I});return(function(){E(e)})}},D=[d,s,k,E,I],n[1]=I,n[2]=s,n[3]=d,n[4]=E,n[5]=k,n[6]=T,n[7]=D):(T=n[6],D=n[7]),m(T,D);var x=s===!1||d===!1,$=s===!0||d===!0,P;return n[8]!==R||n[9]!==C||n[10]!==S||n[11]!==a||n[12]!==I||n[13]!==x||n[14]!==$||n[15]!==d||n[16]!==g?(P=c.jsx(r("FocusWithinHandler.react"),{children:function(n,o){return c.jsx(r("VideoControlsContainerFocusedContext").Provider,{value:o,children:c.jsxs("div",babelHelpers.extends({},{0:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h"},4:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},2:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h xg01cxk x47corl xlshs6z"},6:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np xg01cxk x47corl xlshs6z"},1:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x1hc1fzr"},5:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x1hc1fzr"},3:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x47corl xlshs6z x1hc1fzr"},7:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x47corl xlshs6z x1hc1fzr"}}[(R==null)<<2|(d===!1)<<1|(d===!0)<<0],{"data-testid":void 0,children:[c.jsx("div",{className:(e||(e=r("stylex")))(f.backgroundGradient,x&&f.hidden,$&&f.visible,g),style:{height:I+C}}),c.jsx(r("VideoPlayerControlsHiddenContext").Provider,{value:x,children:R==null?a:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:a}),c.jsx(r("CometErrorBoundary.react"),{children:c.jsx("div",{ref:S,children:R})})]})})]}))})}}),n[8]=R,n[9]=C,n[10]=S,n[11]=a,n[12]=I,n[13]=x,n[14]=$,n[15]=d,n[16]=g,n[17]=P):P=n[17],P}l.default=g}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.isVisible,i=e.noPaddingEnd,l=e.noPaddingStart,c=a===void 0?!0:a,d=i===void 0?!1:i,m=l===void 0?!1:l,p=u(r("VideoControlsContainerFocusedContext")),_=c||p,f=u(r("VideoPlayerControlsHiddenContext")),g;t[0]!==_||t[1]!==d||t[2]!==m?(g={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1fmh03i x47corl"},4:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1fmh03i x47corl"},2:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1fmh03i x47corl"},6:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1hc1fzr"},5:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1hc1fzr"},3:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1hc1fzr"},7:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1hc1fzr"}}[!!d<<2|!!m<<1|!!_<<0],t[0]=_,t[1]=d,t[2]=m,t[3]=g):g=t[3];var h=f||!_,y;t[4]!==n||t[5]!==h?(y=s.jsx(r("VideoPlayerControlsHiddenContext").Provider,{value:h,children:n}),t[4]=n,t[5]=h,t[6]=y):y=t[6];var C;return t[7]!==g||t[8]!==y?(C=s.jsx("div",babelHelpers.extends({},g,{children:y})),t[7]=g,t[8]=y,t[9]=C):C=t[9],C}function d(e){var t=o("react-compiler-runtime").c(8),n=e.children,a=e.isVisible,i=a===void 0?!0:a,l=u(r("VideoControlsContainerFocusedContext")),c=i||l,d=u(r("VideoPlayerControlsHiddenContext")),m;t[0]!==c?(m={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1hc1fzr"}}[!!c<<0],t[0]=c,t[1]=m):m=t[1];var p=d||!c,_;t[2]!==n||t[3]!==p?(_=s.jsx(r("VideoPlayerControlsHiddenContext").Provider,{value:p,children:n}),t[2]=n,t[3]=p,t[4]=_):_=t[4];var f;return t[5]!==m||t[6]!==_?(f=s.jsx("div",babelHelpers.extends({},m,{children:_})),t[5]=m,t[6]=_,t[7]=f):f=t[7],f}l.Contracted=c,l.Expanded=d}),98);
__d("VideoPlayerDefaultControlsProperties",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["SAME_AS_OTHER_CONTROLS","SEPARATE_FROM_OTHER_CONTROLS"]),l=n("$InternalEnum")({VIDEO_CAPTIONS_MENU:"video_captions_menu",VIDEO_SETTINGS_MENU:"video_settings_menu"});i.MutedButtonVisibility=e,i.VideoMenuType=l}),66);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerPlayButton.react",["fbt","ix","CometImage.react","CometPressable.react","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){switch(e){case"LARGE":return u("352839");case"MEDIUM":return u("101640");case"SMALL":return u("354763")}}function m(e){var t=o("react-compiler-runtime").c(13),n=e.iconSize,a=e.isVisible,i=e.onClick,l=n===void 0?"LARGE":n,u;t[0]!==l?(u=d(l),t[0]=l,t[1]=u):u=t[1];var m;t[2]!==u?(m=c.jsx(r("CometImage.react"),{src:u}),t[2]=u,t[3]=m):m=t[3];var p=m,_;t[4]!==p||t[5]!==i?(_=i!=null?c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:592,children:c.jsx(r("CometPressable.react"),{display:"inline",label:s._(/*BTDS*/"Play video"),onPress:i,overlayDisabled:!0,testid:void 0,children:p})}):p,t[4]=p,t[5]=i,t[6]=_):_=t[6];var f=_,g;t[7]!==l||t[8]!==a?(g={0:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},8:{className:"xy75621 xafmxuu x14z9mp xat24cr x1ob4rv2 xni59qk x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},4:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},12:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},2:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},10:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},6:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},14:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x1hc1fzr x10l6tqk xwa60dl"},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},9:{className:"xy75621 xafmxuu x14z9mp xat24cr x1ob4rv2 xni59qk x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},5:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},13:{className:"xsdox4t xs9mwh0 x14z9mp xat24cr xwqyzqf x1useyqa x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},3:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},11:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},7:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"},15:{className:"xxk0z11 x7wgvq7 x14z9mp xat24cr x18xomjl xvy4d1p x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xbudbmw x10l6tqk xwa60dl xg01cxk xlshs6z"}}[(l==="LARGE")<<3|(l==="MEDIUM")<<2|(l==="SMALL")<<1|!a<<0],t[7]=l,t[8]=a,t[9]=g):g=t[9];var h;return t[10]!==f||t[11]!==g?(h=c.jsx("i",babelHelpers.extends({},g,{children:f})),t[10]=f,t[11]=g,t[12]=h):h=t[12],h}l.default=m}),226);
__d("VideoPlayerSmallPlayButton.react",["fbt","CometImage.react","CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.isVisible,a=e.onClick,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("CometImage.react"),{src:"/images/video/play_48dp.png"}),t[0]=i):i=t[0];var l=i,c;t[1]!==a?(c=a!=null?u.jsx(r("CometPressable.react"),{display:"inline",label:s._(/*BTDS*/"Play video"),onPress:a,overlayDisabled:!0,children:l}):l,t[1]=a,t[2]=c):c=t[2];var d=c,m;t[3]!==n?(m={0:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xsdox4t xbudbmw xs9mwh0 x14z9mp xat24cr xwqyzqf x1hc1fzr x10l6tqk xwa60dl x1useyqa"},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk xsdox4t xbudbmw xs9mwh0 x14z9mp xat24cr xwqyzqf x10l6tqk xwa60dl x1useyqa xg01cxk xlshs6z"}}[!n<<0],t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==d||t[6]!==m?(p=u.jsx("i",babelHelpers.extends({},m,{children:d})),t[5]=d,t[6]=m,t[7]=p):p=t[7],p}l.default=c}),226);
__d("useVideoPlayerBigPlayButtonOverlay",["VideoPlayerHooks","VideoPlayerPlayButton.react","VideoPlayerSmallPlayButton.react","react","react-compiler-runtime","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(13),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.buttonSize,l=a.forceVisible,c=a.overrideInteraction,d=a.shouldUnmute,m=i===void 0?"large":i,p=r("useVideoPlayerHasStartedPlayingAtLeastOnce")(),_=(s||(s=o("VideoPlayerHooks"))).usePaused(),f=s.useLastMuteReason(),g=s.useController(),h;t[2]!==g||t[3]!==f||t[4]!==d?(h=function(){g.play("user_initiated"),d===!0&&f!=="user_initiated"&&g.setMuted(!1,"product_initiated")},t[2]=g,t[3]=f,t[4]=d,t[5]=h):h=t[5];var y=h,C=c!=null?c.handler:y,b=l===!0||l===!1?l:!p&&_,v;t[6]!==b||t[7]!==m||t[8]!==C?(v=m==="small"?u.jsx(r("VideoPlayerSmallPlayButton.react"),{isVisible:b,onClick:C}):u.jsx(r("VideoPlayerPlayButton.react"),{isVisible:b,onClick:C}),t[6]=b,t[7]=m,t[8]=C,t[9]=v):v=t[9];var S=v,R;return t[10]!==S||t[11]!==b?(R={bigPlayButtonElement:S,bigPlayButtonIsVisible:b},t[10]=S,t[11]=b,t[12]=R):R=t[12],R}l.default=d}),98);
__d("VideoPlayerInstreamAdsStateHooks",["createVideoStateHook"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=o("createVideoStateHook")).createVideoStateHook(),u=s.stateHook,c=s.valueHook,d=[];function m(){return u(d)}function p(){return c(d)}var _=e.createVideoStateHook(),f=_.stateHook,g=_.valueHook,h=null;function y(){return f(h)}function C(){return g(h)}var b=e.createVideoStateHook(),v=b.setterHook,S=b.valueHook,R=!0;function L(){return v(R)}function E(){return S(R)}var k=e.createVideoStateHook(),I=k.stateHook,T=k.valueHook,D="INIT";function x(){return I(D)}function $(){return T(D)}var P=e.createVideoStateHook(),N=P.stateHook,M=P.valueHook,w=!0;function A(){return N(w)}function F(){return M(w)}var O=e.createVideoStateHook(),B=O.stateHook,W=O.valueHook,q=null;function U(){return B(q)}function V(){return W(q)}var H=e.createVideoStateHook(),G=H.stateHook,z=null;function j(){return G(z)}var K=e.createVideoStateHook(),Q=K.stateHook,X=null;function Y(){return Q(X)}var J=e.createVideoStateHook(),Z=J.stateHook,ee=null;function te(){return Z(ee)}var ne=e.createVideoStateHook(),re=ne.stateHook,oe=null;function ae(){return re(oe)}var ie=e.createVideoStateHook(),le=ie.stateHook,se=0;function ue(){return le(se)}var ce=e.createVideoStateHook(),de=ce.stateHook,me=!1;function pe(){return de(me)}var _e=e.createVideoStateHook(),fe=_e.stateHook,ge=_e.valueHook,he=null;function ye(){return fe(he)}function Ce(){return ge(he)}var be=e.createVideoStateHook(),ve=be.stateHook,Se=be.valueHook,Re=null;function Le(){return ve(Re)}function Ee(){return Se(Re)}function ke(){var e=$();return e==="STARTING_INDICATOR"||e==="START"||e==="START_AD"||e==="PLAY_NI_VIDEO"}l.useInstreamAdsMidRollsState=m,l.useInstreamAdsMidRollsValue=p,l.useInstreamAdsPostRollState=y,l.useInstreamAdsPostRollValue=C,l.useInstreamAdsPostRollEndedOrSkippedStateSetter=L,l.useInstreamAdsPostRollEndedOrSkippedStateValue=E,l.useInstreamAdsState=x,l.useInstreamAdsStateValue=$,l.useInstreamAdsIsEmptyState=A,l.useInstreamAdsIsEmptyStateValue=F,l.useInstreamAdsCurrentInsertionState=U,l.useInstreamAdsCurrentInsertionStateValue=V,l.useStartIndicatorBeginningTimeState=j,l.useAdBreaksTimeOffsetBeginningState=Y,l.useInstreamAdsExtraFieldsState=te,l.useInstreamAdsHideAdBehaviorState=ae,l.useUnifiedSchedulerLastFetchTimeState=ue,l.useWaitingForAdFetchState=pe,l.useInstreamAdsFeedContextCardState=ye,l.useInstreamAdsFeedContextCardStateValue=Ce,l.useInstreamAdsFullScreenContextCardState=Le,l.useInstreamAdsFullScreenContextCardStateValue=Ee,l.useInstreamAdsIsStart=ke}),98);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useState,m=5e3;function p(e){var t=o("react-compiler-runtime").c(9),n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];var a=n,i=a.forceVisible,l=a.forceVisibleOnMount,u=o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter(),p=u.ongoingInteractionsCount,_=u.onUserInteraction,f=(s||(s=o("VideoPlayerHooks"))).useEnded(),g=s.useIsHovering(),h=s.usePaused(),y=s.useIsMouseIdle(),C=s.useVideoPlaybackEnded(),b=o("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",g&&!y,_);var v=d(l===!0),S=v[0],R=v[1],L,E;t[2]!==S||t[3]!==h?(L=function(){if(!h&&S){var e=r("setTimeout")(function(){R(!1)},m);return(function(){r("clearTimeout")(e)})}},E=[S,h],t[2]=S,t[3]=h,t[4]=L,t[5]=E):(L=t[4],E=t[5]),c(L,E);var k;i===!0||i===!1?k=i:b?k=!1:p>0||S?k=!0:h?k=f?C:!0:k=!1;var I;return t[6]!==k||t[7]!==_?(I={isControlsVisible:k,onUserInteraction:_},t[6]=k,t[7]=_,t[8]=I):I=t[8],I}l.default=p}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useEmptyFunction","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=u||(u=o("react")),m=(s=n("cr:1875194"))!=null?s:r("useEmptyFunction"),p=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),_=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function f(t){var a,l=o("react-compiler-runtime").c(35),s=t.availableCaptionsLocales,u=t.forceVisible,f=t.forceVisibleOnMount,g=t.initialCaptionsUrl,h=t.mutedButtonVisibility,y=t.renderExpandControl,C=t.scrubberTimelinePlayedXStyle,b=t.shouldRenderBigPlayButton,v=t.shouldRenderCaptionsControl,S=t.shouldRenderCostreamControl,R=t.shouldRenderExpandSidePanelControl,L=t.shouldRenderLivePauseControl,E=t.shouldRenderModeratorControl,k=t.shouldRenderQuietModeControl,I=t.shouldRenderWatchAndScrollControl,T=t.shouldUnmuteForBigPlayButton,D=t.skipControl,x=t.subOrigin,$=t.video,P=t.videoChapters,N=t.videoTahoeUrl,M=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerDefaultControls_video.graphql"),$),w=(a=o("CometWarningScreenContext").useIsContentVisible())!=null?a:!1,A=m(),F=A!=null?A.isSilentAtPlayhead:!1,O=(c||(c=o("VideoPlayerHooks"))).useMuted(),B=c.useIsLive(),W;l[0]!==u||l[1]!==f?(W={forceVisible:u,forceVisibleOnMount:f},l[0]=u,l[1]=f,l[2]=W):W=l[2];var q=r("useVideoPlayerDefaultControlsVisibility")(W),U=q.isControlsVisible,V=q.onUserInteraction,H=b!=null?b:u===!1?!1:void 0,G;l[3]!==T||l[4]!==H?(G={forceVisible:H,shouldUnmute:T},l[3]=T,l[4]=H,l[5]=G):G=l[5];var z=r("useVideoPlayerBigPlayButtonOverlay")(G),j=z.bigPlayButtonElement,K=z.bigPlayButtonIsVisible,Q=U&&!K&&w,X=h===o("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?Q:(O||Q||F)&&!K,Y;l[6]!==V||l[7]!==y?(Y=y!=null?y({onUserInteraction:V}):d.jsx(r("VideoPlayerFullscreenControl.react"),{onUserInteraction:V}),l[6]=V,l[7]=y,l[8]=Y):Y=l[8];var J=Y,Z;l[9]!==s||l[10]!==J||l[11]!==g||l[12]!==Q||l[13]!==B||l[14]!==X||l[15]!==V||l[16]!==C||l[17]!==v||l[18]!==S||l[19]!==R||l[20]!==L||l[21]!==E||l[22]!==k||l[23]!==I||l[24]!==D||l[25]!==x||l[26]!==M||l[27]!==P||l[28]!==N?(Z=B?d.jsx(p,{expandControl:J,isControlsVisible:Q,isVolumeControlVisible:X,onUserInteraction:V,shouldRenderCaptionsControl:v,shouldRenderCostreamControl:S,shouldRenderExpandSidePanelControl:R,shouldRenderModeratorControl:E,shouldRenderPauseControl:L,shouldRenderQuietModeControl:k,shouldRenderWatchAndScrollControl:I,subOrigin:x,video:M,videoTahoeUrl:N}):d.jsx(_,{availableCaptionsLocales:s,expandControl:J,initialCaptionsUrl:g,isControlsVisible:Q,isVolumeControlVisible:X,onUserInteraction:V,scrubberTimelinePlayedXStyle:C,shouldRenderCaptionsControl:v,shouldRenderExpandSidePanelControl:R,shouldRenderQuietModeControl:k,shouldRenderWatchAndScrollControl:I,skipControl:D,subOrigin:x,video:M,videoChapters:P,videoTahoeUrl:N}),l[9]=s,l[10]=J,l[11]=g,l[12]=Q,l[13]=B,l[14]=X,l[15]=V,l[16]=C,l[17]=v,l[18]=S,l[19]=R,l[20]=L,l[21]=E,l[22]=k,l[23]=I,l[24]=D,l[25]=x,l[26]=M,l[27]=P,l[28]=N,l[29]=Z):Z=l[29];var ee=Z,te;l[30]!==ee?(te=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:ee}),l[30]=ee,l[31]=te):te=l[31];var ne;return l[32]!==j||l[33]!==te?(ne=d.jsxs(d.Fragment,{children:[j,te]}),l[32]=j,l[33]=te,l[34]=ne):ne=l[34],ne}l.default=f}),98);
__d("VideoPlayerVolumeControlBase.react",["fbt","ix","FocusWithinHandler.react","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useState,m=.33,p=.66;function _(e){var t=o("react-compiler-runtime").c(18),n=e.audioAvailabilityUI,a=e.isMuted,i=e.onMouseEnter,l=e.onMouseLeave,_=e.onSetMuted,f=e.onUserInteraction,g=e.renderVolumeSlider,h=e.useOutlineIcons,y=e.volume,C=h===void 0?!1:h,b=!a&&y>0,v;t[0]!==n||t[1]!==b||t[2]!==C||t[3]!==y?(n!=null&&n.shouldShowNullIcon?v=C?o("fbicon")._(u("944795"),20):o("fbicon")._(u("944792"),20):b?y<=m?v=C?o("fbicon")._(u("1146252"),20):o("fbicon")._(u("1104387"),20):y<=p?v=C?o("fbicon")._(u("1104392"),20):o("fbicon")._(u("1104390"),20):v=C?o("fbicon")._(u("564393"),20):o("fbicon")._(u("564390"),20):v=C?o("fbicon")._(u("564399"),20):o("fbicon")._(u("564396"),20),t[0]=n,t[1]=b,t[2]=C,t[3]=y,t[4]=v):v=t[4];var S=d(!1),R=S[0],L=S[1],E;t[5]!==a?(E=a?s._(/*BTDS*/"Unmute"):s._(/*BTDS*/"Mute"),t[5]=a,t[6]=E):E=t[6];var k=E,I;return t[7]!==n||t[8]!==v||t[9]!==a||t[10]!==R||t[11]!==k||t[12]!==i||t[13]!==l||t[14]!==_||t[15]!==f||t[16]!==g?(I=c.jsx(r("FocusWithinHandler.react"),{children:function(t,o){return c.jsxs("div",{className:"x1ypdohk x1rg5ohu xhsvlbd xyamay9 x1icxu4v x10b6aqq x25sj25 x1n2onr6",onMouseEnter:i,onMouseLeave:l,children:[n!=null&&n.shouldDisableVolumeControl?null:c.jsx("div",{className:"xk7dvq3 x9f619 x1o0tod x1yrsyyn x1icxu4v x10b6aqq x25sj25 x10l6tqk xh8yej3",children:g({focusVisible:o,onVisibilityChange:L})}),c.jsx(r("VideoPlayerControlIcon.react"),{icon:v,label:k,onPress:function(){n&&n.onVolumeControlPress(),n!=null&&n.shouldDisableVolumeControl||_(!a,"user_initiated"),f&&f({name:"video_mute_button",type:"happened"})},tooltip:n!=null?n.tooltipContent:null,tooltipAlign:"end",tooltipImpl:n!=null?n.tooltipImpl:null,tooltipOffsetY:R?-80:0})]})}}),t[7]=n,t[8]=v,t[9]=a,t[10]=R,t[11]=k,t[12]=i,t[13]=l,t[14]=_,t[15]=f,t[16]=g,t[17]=I):I=t[17],I}l.default=_}),226);
__d("VideoPlayerVolumeSliderBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useMemo,p=c.useRef,_=c.useState;function f(e){var t=o("react-compiler-runtime").c(65),n=e.isHovering,a=e.isMuted,i=e.onChangeVolumeDown,l=e.onChangeVolumeUp,c=e.onSetMuted,m=e.onSetVolume,f=e.onUserInteraction,g=e.onVisibilityChange,h=e.showBackgroundOverlay,y=e.volume,C=h===void 0?!1:h,b=o("VideoPlayerPointerDrag").usePointerDragResizeObserver(),v=b.invalidateRootRect,S=b.rootRectRef,R=b.rootSizeRefCallback,L=p(y),E=p(a),k=a?0:y,I=_(k),T=I[0],D=I[1],x;t[0]!==a||t[1]!==c||t[2]!==m||t[3]!==S?(x=function(t){var e=o("VideoPlayerPointerDrag").computePointerOffsetRatio(t,S.current);if(e){var n=Math.max(0,Math.min(1,1-e.ratioY));D(n),m(n),a&&c(!1,"user_initiated")}},t[0]=a,t[1]=c,t[2]=m,t[3]=S,t[4]=x):x=t[4];var $=x,P;t[5]!==c||t[6]!==m?(P=function(t){D(L.current),m(L.current),c(E.current,"user_initiated")},t[5]=c,t[6]=m,t[7]=P):P=t[7];var N,M;t[8]!==$?(N=function(t){$(t)},M=function(t){$(t)},t[8]=$,t[9]=N,t[10]=M):(N=t[9],M=t[10]);var w;t[11]!==v||t[12]!==a||t[13]!==$||t[14]!==y||t[15]!==k?(w=function(t){v(),L.current=y,E.current=a,D(k),$(t)},t[11]=v,t[12]=a,t[13]=$,t[14]=y,t[15]=k,t[16]=w):w=t[16];var A;t[17]!==P||t[18]!==N||t[19]!==M||t[20]!==w?(A={onDragCancel:P,onDragEnd:N,onDragMove:M,onDragStart:w},t[17]=P,t[18]=N,t[19]=M,t[20]=w,t[21]=A):A=t[21];var F=o("VideoPlayerPointerDrag").usePointerDrag(A),O=F.isDragging,B=F.rootProps,W=O?T:k,q=n||O,U=p(q),V,H;t[22]!==q||t[23]!==g?(V=function(){U.current!==q&&g&&g(q),U.current=q},H=[g,q],t[22]=q,t[23]=g,t[24]=V,t[25]=H):(V=t[24],H=t[25]),d(V,H);var G=q;o("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_volume_slider",G,f);var z,j;t[26]===Symbol.for("react.memo_cache_sentinel")?(z={key:r("CometKeys").UP},j=s._(/*BTDS*/"Increase volume"),t[26]=z,t[27]=j):(z=t[26],j=t[27]);var K;t[28]!==l?(K={command:z,description:j,handler:function(){l()}},t[28]=l,t[29]=K):K=t[29];var Q,X;t[30]===Symbol.for("react.memo_cache_sentinel")?(Q={key:r("CometKeys").DOWN},X=s._(/*BTDS*/"Decrease volume"),t[30]=Q,t[31]=X):(Q=t[30],X=t[31]);var Y;t[32]!==i?(Y={command:Q,description:X,handler:function(){i()}},t[32]=i,t[33]=Y):Y=t[33];var J;t[34]!==K||t[35]!==Y?(J=[K,Y],t[34]=K,t[35]=Y,t[36]=J):J=t[36];var Z=J,ee;t[37]===Symbol.for("react.memo_cache_sentinel")?(ee=s._(/*BTDS*/"Change volume"),t[37]=ee):ee=t[37];var te;t[38]!==q?(te={0:"x1ypdohk xng8ra xg01cxk x47corl x1n2onr6 x1d8287x x19991ni xl405pv x1td3qas x1ja2u2z",1:"x1ypdohk xng8ra x1n2onr6 x1d8287x x19991ni xl405pv x1td3qas x1ja2u2z x1hc1fzr x67bb7w"}[!!q<<0],t[38]=q,t[39]=te):te=t[39];var ne;t[40]!==q||t[41]!==C?(ne=q&&C&&u.jsx("div",{className:"x1f4ngb1 x1obq294 x5a5i1n xde0f50 x15x8krk xi2lk0m x1f889gz xaoy8p5 x1iorvi4 xjkvuk6 x135b78x x11lfxj5 x10l6tqk x1v4kod4"}),t[40]=q,t[41]=C,t[42]=ne):ne=t[42];var re;t[43]===Symbol.for("react.memo_cache_sentinel")?(re={className:"x18fn2jl xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c xng8ra xi5uv41 x10l6tqk x1xc55vz"},t[43]=re):re=t[43];var oe;t[44]!==C?(oe={0:"xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c x10l6tqk xh8yej3 x1spa7qu",1:"xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c x10l6tqk xh8yej3 x14hiurz"}[!!C<<0],t[44]=C,t[45]=oe):oe=t[45];var ae=W*100+"%",ie;t[46]!==ae?(ie={height:ae},t[46]=ae,t[47]=ie):ie=t[47];var le;t[48]===Symbol.for("react.memo_cache_sentinel")?(le={className:"x1c7jfne x1f4buv5 x1n2onr6"},t[48]=le):le=t[48];var se;t[49]!==q?(se=u.jsx("div",babelHelpers.extends({},le,{children:u.jsx(r("VideoPlayerSliderNub.react"),{isVisible:q})})),t[49]=q,t[50]=se):se=t[50];var ue;t[51]!==oe||t[52]!==ie||t[53]!==se?(ue=u.jsx("div",babelHelpers.extends({},re,{children:u.jsx("div",{className:oe,style:ie,children:se})})),t[51]=oe,t[52]=ie,t[53]=se,t[54]=ue):ue=t[54];var ce;t[55]!==B||t[56]!==R||t[57]!==te||t[58]!==ne||t[59]!==ue||t[60]!==y?(ce=u.jsxs("div",babelHelpers.extends({},B,{"aria-label":ee,"aria-orientation":"vertical","aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":y,className:te,ref:R,role:"slider",tabIndex:0,children:[ne,ue]})),t[55]=B,t[56]=R,t[57]=te,t[58]=ne,t[59]=ue,t[60]=y,t[61]=ce):ce=t[61];var de;return t[62]!==Z||t[63]!==ce?(de=u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:Z,children:ce}),t[62]=Z,t[63]=ce,t[64]=de):de=t[64],de}l.default=f}),226);
__d("VideoPlayerVolumeSlider.react",["VideoPlayerHooks","VideoPlayerVolumeSliderBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(21),n=e.isHovering,a=e.onUserInteraction,i=e.onVisibilityChange,l=e.showBackgroundOverlay,c=l===void 0?!1:l,d=(s||(s=o("VideoPlayerHooks"))).useController(),m=s.useMuted(),p=s.useVolume(),_;t[0]!==d?(_=function(t){d.setVolume(t)},t[0]=d,t[1]=_):_=t[1];var f=_,g;t[2]!==d?(g=function(t,n){d.setMuted(t,n)},t[2]=d,t[3]=g):g=t[3];var h=g,y;t[4]!==d?(y=function(t){var e=d.getCurrentState(),n=Math.max(0,Math.min(1,e.volume+t));d.setVolume(n),n===0?d.setMuted(!0,"user_initiated"):e.muted&&d.setMuted(!1,"user_initiated")},t[4]=d,t[5]=y):y=t[5];var C=y,b;t[6]!==C?(b=function(){C(.05)},t[6]=C,t[7]=b):b=t[7];var v=b,S;t[8]!==C?(S=function(){C(-.05)},t[8]=C,t[9]=S):S=t[9];var R=S,L;return t[10]!==R||t[11]!==v||t[12]!==n||t[13]!==m||t[14]!==a||t[15]!==i||t[16]!==h||t[17]!==f||t[18]!==c||t[19]!==p?(L=u.jsx(r("VideoPlayerVolumeSliderBase.react"),{isHovering:n,isMuted:m,onChangeVolumeDown:R,onChangeVolumeUp:v,onSetMuted:h,onSetVolume:f,onUserInteraction:a,onVisibilityChange:i,showBackgroundOverlay:c,volume:p}),t[10]=R,t[11]=v,t[12]=n,t[13]=m,t[14]=a,t[15]=i,t[16]=h,t[17]=f,t[18]=c,t[19]=p,t[20]=L):L=t[20],L}l.default=d}),98);
__d("VideoPlayerVolumeControl.react",["VideoPlayerHooks","VideoPlayerVolumeControlBase.react","VideoPlayerVolumeSlider.react","cr:1826284","react","react-compiler-runtime","useEmptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useState,_=(e=n("cr:1826284"))!=null?e:r("useEmptyFunction");function f(e){var t=o("react-compiler-runtime").c(16),n=e.onUserInteraction,a=e.showBackgroundOverlay,i=e.useOutlineIcons,l=a===void 0?!1:a,s=i===void 0?!1:i,d=p(!1),m=d[0],f=d[1],g=(u||(u=o("VideoPlayerHooks"))).useController(),h=u.useMuted(),y=u.useVolume(),C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=function(){f(!0)},t[0]=C):C=t[0];var b=C,v;t[1]===Symbol.for("react.memo_cache_sentinel")?(v=function(){f(!1)},t[1]=v):v=t[1];var S=v,R;t[2]!==g?(R=function(t,n){g.setMuted(t,n)},t[2]=g,t[3]=R):R=t[3];var L=R,E=!h&&y>0,k=_({canPlayerProduceSound:E,isHovering:m})||null,I;t[4]!==m||t[5]!==n||t[6]!==l?(I=function(t){var e=t.focusVisible,o=t.onVisibilityChange;return c.jsx(r("VideoPlayerVolumeSlider.react"),{isHovering:m||e,onUserInteraction:n,onVisibilityChange:o,showBackgroundOverlay:l})},t[4]=m,t[5]=n,t[6]=l,t[7]=I):I=t[7];var T;return t[8]!==k||t[9]!==h||t[10]!==n||t[11]!==L||t[12]!==I||t[13]!==s||t[14]!==y?(T=c.jsx(r("VideoPlayerVolumeControlBase.react"),{audioAvailabilityUI:k,isMuted:h,onMouseEnter:b,onMouseLeave:S,onSetMuted:L,onUserInteraction:n,renderVolumeSlider:I,useOutlineIcons:s,volume:y}),t[8]=k,t[9]=h,t[10]=n,t[11]=L,t[12]=I,t[13]=s,t[14]=y,t[15]=T):T=t[15],T}l.default=f}),98);/*FB_PKG_DELIM*/
__d("BaseBlurryImagePreview.react",["CometVisualCompletionAttributes","getComputedStyle","gkx","react","react-compiler-runtime","useSetAttributeRef"],(function(t,n,r,o,a,i,l){"use strict";var e=["blur","previewData","alt","height","style","width"],s,u,c=u||(u=o("react")),d=u,m=d.useId,p=d.useLayoutEffect,_=d.useRef,f=d.useState;function g(t){var n=o("react-compiler-runtime").c(44),a,i,l,u,d,g,h;n[0]!==t?(i=t.blur,d=t.previewData,a=t.alt,l=t.height,g=t.style,h=t.width,u=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=g,n[7]=h):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],g=n[6],h=n[7]);var y;n[8]!==g?(y=g!=null?g:{},n[8]=g,n[9]=y):y=n[9];var C=y,b=C.height,v=C.width,S=i!=null?i:1.2,R=m(),L=r("useSetAttributeRef")("id",R),E="url(#"+R+")",k=r("useSetAttributeRef")("filter",E),I=m(),T=_(null),D=f(l!==void 0||b!==void 0||h!==void 0||v!==void 0),x=D[0],$=D[1],P=r("gkx")("6648"),N=P?r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION["data-visualcompletion"]:void 0,M,w;n[10]!==l||n[11]!==d.height||n[12]!==d.width||n[13]!==b||n[14]!==v||n[15]!==h?(M=function(){var e=T.current;if(e instanceof SVGSVGElement){if(l!==void 0||b!==void 0||h!==void 0||v!==void 0){$(!0);return}var t=e.style.display,n=(s||(s=r("getComputedStyle")))(e);e.style.display="none",$(n!=null&&(n.height!==d.height+"px"||n.width!==d.width+"px")),e.style.display=t}},w=[l,d.height,d.width,b,v,h],n[10]=l,n[11]=d.height,n[12]=d.width,n[13]=b,n[14]=v,n[15]=h,n[16]=M,n[17]=w):(M=n[16],w=n[17]),p(M,w);var A=a!=null?I:null,F=l!=null?l:x?void 0:d.height,O="0 0 "+d.width+" "+d.height,B=h!=null?h:x?void 0:d.width,W;n[18]!==a||n[19]!==I?(W=a!=null&&c.jsx("title",{id:I,children:a}),n[18]=a,n[19]=I,n[20]=W):W=n[20];var q;n[21]!==S?(q=c.jsx("feGaussianBlur",{edgeMode:"duplicate",stdDeviation:S}),n[21]=S,n[22]=q):q=n[22];var U;n[23]===Symbol.for("react.memo_cache_sentinel")?(U=c.jsx("feComponentTransfer",{children:c.jsx("feFuncA",{tableValues:"1 1",type:"discrete"})}),n[23]=U):U=n[23];var V;n[24]!==R||n[25]!==L||n[26]!==q?(V=c.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",id:R,ref:L,suppressHydrationWarning:!0,children:[q,U]}),n[24]=R,n[25]=L,n[26]=q,n[27]=V):V=n[27];var H;n[28]!==E||n[29]!==k||n[30]!==d.dataURI||n[31]!==d.height||n[32]!==d.width?(H=c.jsx("image",{filter:E,height:d.height,ref:k,suppressHydrationWarning:!0,width:d.width,x:"0",xlinkHref:d.dataURI,y:"0"}),n[28]=E,n[29]=k,n[30]=d.dataURI,n[31]=d.height,n[32]=d.width,n[33]=H):H=n[33];var G;return n[34]!==u||n[35]!==g||n[36]!==V||n[37]!==H||n[38]!==A||n[39]!==F||n[40]!==O||n[41]!==B||n[42]!==W?(G=c.jsxs("svg",babelHelpers.extends({},u,{"aria-labelledby":A,"data-visualcompletion":N,height:F,preserveAspectRatio:"none",ref:T,role:"img",style:g,viewBox:O,width:B,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[W,V,H]})),n[34]=u,n[35]=g,n[36]=V,n[37]=H,n[38]=A,n[39]=F,n[40]=O,n[41]=B,n[42]=W,n[43]=G):G=n[43],G}l.default=g}),98);
__d("BaseToastAnimationInternal.react",["react","react-compiler-runtime","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useState,_=100,f={mount:{opacity:"x1hc1fzr",transform:"x3oybdh",transitionDuration:"xu6gjpd",transitionTimingFunction:"x7lz9yc",$$css:!0},root:{opacity:"xg01cxk",transitionDuration:"x16rnrhc",transitionProperty:"xwcsmn1",transitionTimingFunction:"xbxq160",$$css:!0}},g={bottom:{transform:"xswo3hg",$$css:!0},top:{transform:"x1cg7zye",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(37),a=t.children,i=t.expired,l=t.id,s=t.position,c=t.toasterPosition,d=t.xstyle,h=i===void 0?!1:i,y=c===void 0?"bottom":c,C=p(!1),b=C[0],v=C[1],S=r("useToasterStateManager")(),R;n[0]!==a?(R=u.Children.only(a),n[0]=a,n[1]=R):R=n[1];var L=R,E;n[2]!==l||n[3]!==S?(E=function(){S.resetTimer(l)},n[2]=l,n[3]=S,n[4]=E):E=n[4];var k=E,I;n[5]!==l||n[6]!==S?(I=function(){S.stopTimer(l)},n[5]=l,n[6]=S,n[7]=I):I=n[7];var T=I,D;n[8]!==l||n[9]!==S?(D=function(){S.shown(l)},n[8]=l,n[9]=S,n[10]=D):D=n[10];var x=D,$;n[11]!==l||n[12]!==S?($=function(){S.hidden(l)},n[11]=l,n[12]=S,n[13]=$):$=n[13];var P=$,N;n[14]!==L.props||n[15]!==l||n[16]!==S?(N=function(t){L.props.onActionPress!=null&&L.props.onActionPress(t),t.defaultPrevented||S.expire(l)},n[14]=L.props,n[15]=l,n[16]=S,n[17]=N):N=n[17];var M=N,w;n[18]===Symbol.for("react.memo_cache_sentinel")?(w={activityMonitorOverride:null},n[18]=w):w=n[18];var A;n[19]!==P||n[20]!==x?(A={onHidden:P,onVisible:x,options:w},n[19]=P,n[20]=x,n[21]=A):A=n[21];var F=r("useVisibilityObserver")(A),O=r("useFadeEffect")(!h),B=O[0],W=O[1],q=O[2],U=r("useMergeRefs")(q,F),V,H;n[22]!==W?(V=function(){W===!0&&v(!0)},H=[W],n[22]=W,n[23]=V,n[24]=H):(V=n[23],H=n[24]),m(V,H);var G;return n[25]!==L||n[26]!==M||n[27]!==T||n[28]!==k||n[29]!==s||n[30]!==U||n[31]!==W||n[32]!==B||n[33]!==b||n[34]!==y||n[35]!==d?(G=B?u.jsx("li",{className:(e||(e=r("stylex")))(f.root,g[y],W&&f.mount,d),onBlur:k,onFocus:T,onMouseEnter:T,onMouseLeave:k,ref:U,style:{bottom:_*s},children:b&&u.cloneElement(L,{onActionPress:M})}):null,n[25]=L,n[26]=M,n[27]=T,n[28]=k,n[29]=s,n[30]=U,n[31]=W,n[32]=B,n[33]=b,n[34]=y,n[35]=d,n[36]=G):G=n[36],G}l.default=h}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","react-strict-dom","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=500,c=1e3,d=60,m=60,p=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={duration:0},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){this.$2()},n.componentWillUnmount=function(){r("clearTimeout")(this.$1)},n.$2=function(){var e=this,t;this.props.useLocalTime?t=Date.now():t=o("ServerTime").getMillis(),this.setState({duration:Math.max(t-this.props.startTime,0)}),this.$1=r("setTimeout")(function(){return e.$2()},u)},n.render=function(){var e=Math.floor(this.state.duration/c),t=e%d,n=Math.floor(e/d),r=n%m,a=Math.floor(n/m),i="";a>0&&(i=a+":");var l=r+":";l.length<3&&i.length>0&&(l="0"+l);var u=""+t;return u.length<2&&(u="0"+u),s.jsxs(o("react-strict-dom").html.span,{children:[i,l,u]})},t})(s.Component);p.defaultProps={useLocalTime:!1},l.default=p}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=u("370949"),m=r("XCometGamingControllerRouteBuilder").buildURL({});function p(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Go to Facebook Gaming"),e[0]=t):t=e[0];var n=t,a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(r("CometPressable.react"),{linkProps:{url:m},children:function(t){var e=t.hovered;return c.jsxs("div",{className:"x78zum5 x1q0g3np",children:[c.jsx("span",babelHelpers.extends({},{0:{className:"x3nfvp2 x1qo4wvw xbyyjgo x1d8287x x19991ni xl405pv"},1:{className:"x3nfvp2 x1hc1fzr x1d8287x x19991ni xl405pv"}}[!!e<<0],{children:c.jsx(r("CometImage.react"),{alt:s._(/*BTDS*/"Close"),src:d})})),c.jsx("div",babelHelpers.extends({},{0:{className:"x1s85apg"},1:{className:"xe2km65 x1lliihq xf159sx x1n2onr6 x1bvjpef xndqk7f"}}[!!e<<0],{children:n}))]})}}),e[1]=a):a=e[1],a}l.default=p}),226);
__d("StoriesCardHeaderMusicAttributionDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25688610190794706"}),null);
__d("UFI2CometRelayCreateFragmentContainer",["cr:936168","react","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={createFragmentContainer:n("cr:936168").createFragmentContainer,graphql:o("relay-runtime").graphql};l.default=u}),98);
__d("VideoBlurBackgroundContainer_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoBlurBackgroundContainer_video",selections:[{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("getPreviewDataFromImagePreviewPayload",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="data:image/jpeg;base64,",s=160,u=162,c=42;function d(e,t){t===void 0&&(t=0);var n=atob(e);if(n.length<=3)throw r("FBLogger")("comet_infra").mustfixThrow("The preview payload was %s byte(s) long when it should be 4 or more. The first byte is the version, the second the width, and the third the height. The 4th byte and onward is the image data.",n.length);for(var o=new Uint8Array(n.length+t),a=0;a<n.length;a++)o[t+a]=n.charCodeAt(a);return o}var m;function p(){return m==null&&(m=d("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEABsaGikdKUEmJkFCLy8vQkc/Pj4/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0cBHSkpNCY0PygoP0c/NT9HR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR//AABEIABQAKgMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AA==")),m}function _(t){var n=p(),o;try{var a=d(t,n.length-3),i=a[n.length-1],l=a[n.length-3],m=a[n.length-2];if(i>c)throw r("FBLogger")("comet_infra").mustfixThrow("Tried to decode a payload whose height was %s. The maximum is %s.",i,c);if(m>c)throw r("FBLogger")("comet_infra").mustfixThrow("Tried to decode a payload whose width was %s. The maximum is %s.",m,c);return a.set(n,0),a[s]=i,a[u]=m,o=btoa(String.fromCharCode.apply(null,a)),{dataURI:""+e+o,height:i,width:m,version:l}}catch(e){var _=r("getErrorSafe")(e),f=r("FBLogger")("images_infra");return f.catching(_),f.warn("Failed to decode a preview image payload. Falling back with a blank image."),null}}l.default=_}),98);
__d("VideoBlurBackgroundContainer.react",["BaseBlurryImagePreview.react","CometImage.react","CometRelay","VideoBlurBackgroundContainer_video.graphql","getPreviewDataFromImagePreviewPayload","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d={blurryImage:{filter:"x1hedwgd",transform:"x4zgh4k",$$css:!0},image:{bottom:"x1ey2m1c",boxSizing:"x9f619",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xti2d7y",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},lightBackgroundInLightMode:{backgroundColor:"x2bj2ny",$$css:!0},root:{backgroundColor:"xal61yo",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function m(t){var a,i,l=o("react-compiler-runtime").c(16),u=t.children,m=t.lightBackgroundInLightMode,p=t.ref,_=t.video,f=t.xstyle,g=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoBlurBackgroundContainer_video.graphql"),_),h=(a=g.preferred_thumbnail)==null?void 0:a.image_preview_payload,y;if(h!=null){var C;l[0]!==h?(C=r("getPreviewDataFromImagePreviewPayload")(h),l[0]=h,l[1]=C):C=l[1];var b=C;if(b!=null){var v;l[2]===Symbol.for("react.memo_cache_sentinel")?(v="x1ey2m1c x9f619 x5yr21d xtijo5x x1o0tod xti2d7y x10l6tqk x13vifvy xh8yej3 x1ja2u2z",l[2]=v):v=l[2];var S;l[3]!==b?(S=c.jsx(r("BaseBlurryImagePreview.react"),{className:v,previewData:b}),l[3]=b,l[4]=S):S=l[4],y=S}}var R=(i=g.preferred_thumbnail)==null||(i=i.image)==null?void 0:i.uri;if(y==null&&R!=null){var L;l[5]===Symbol.for("react.memo_cache_sentinel")?(L=[d.blurryImage,d.image],l[5]=L):L=l[5];var E;l[6]!==R?(E=c.jsx(r("CometImage.react"),{src:R,xstyle:L}),l[6]=R,l[7]=E):E=l[7],y=E}var k;l[8]!==m||l[9]!==f?(k=(s||(s=r("stylex"))).props(d.root,f,m===!0&&d.lightBackgroundInLightMode),l[8]=m,l[9]=f,l[10]=k):k=l[10];var I;return l[11]!==y||l[12]!==u||l[13]!==p||l[14]!==k?(I=c.jsxs("div",babelHelpers.extends({},k,{ref:p,children:[y,u]})),l[11]=y,l[12]=u,l[13]=p,l[14]=k,l[15]=I):I=l[15],I}var p=m;l.default=p}),98);
__d("VideoBroadcastStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({PREVIEW:"PREVIEW",LIVE:"LIVE",LIVE_STOPPED:"LIVE_STOPPED",VOD_READY:"VOD_READY",SEAL_STARTED:"SEAL_STARTED",SCHEDULED_PREVIEW:"SCHEDULED_PREVIEW",SCHEDULED_LIVE:"SCHEDULED_LIVE",SCHEDULED_EXPIRED:"SCHEDULED_EXPIRED",SCHEDULED_CANCELED:"SCHEDULED_CANCELED",PRE_LIVE:"PRE_LIVE",SEAL_FAILED:"SEAL_FAILED"});i.default=e}),66);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FBLogger","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","setTimeout","stylex","useVideoPlayerUnifiedCVCProvider"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m,p=d||(d=o("react")),_=d,f=_.useEffect,g=_.useRef,h=_.useState,y=r("deferredLoadComponent")(r("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),C="xv3vjy1-B",b={positionTop:{display:"x78zum5",height:"xxk0z11",insetInlineStart:"x1r4y97",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0}};function v(t){var a,l,s,u,d=o("react-compiler-runtime").c(50),_=t.hasCometNavOverlay,C=t.includeGamingBackLink,v=t.renderedInLiveProducer,k=t.shouldExpand,I=t.shouldShowPrivacyNux,T=t.video,D=(m||(m=o("VideoPlayerHooks"))).useIsLive(),x=m.useIsLiveRewindActive(),$=m.useIsFullscreen(),P=o("CometRouteRenderType").useIsMain(),N=m.usePlaying(),M=g(null),w=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerWithLiveVideoIndicator_video.graphql"),T),A=(a=w==null?void 0:w.videoId)!=null?a:"";if(w==null||typeof A!="string"||A==="")throw r("FBLogger")("comet_live_video").mustfixThrow("Null video or bad videoId");var F=o("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData(),O=h((l=w.liveViewerCount)!=null?l:0),B=O[0],W=O[1],q=h(!1),U=q[0],V=q[1],H=h(!1),G=H[0],z=H[1],j,K;d[0]!==F||d[1]!==D?(j=function(){D&&F!=null&&(S(F.bs)?W(F.c):(W(0),V(!0)))},K=[F,D],d[0]=F,d[1]=D,d[2]=j,d[3]=K):(j=d[2],K=d[3]),f(j,K);var Q,X;d[4]!==N?(Q=function(){return N?(z(!0),M.current=r("setTimeout")(function(){z(!1)},3e3)):M.current&&(z(!1),r("clearTimeout")(M.current)),(function(){return r("clearTimeout")(M.current)})},X=[N],d[4]=N,d[5]=Q,d[6]=X):(Q=d[5],X=d[6]),f(Q,X);var Y,J;d[7]!==D||d[8]!==A?(Y=function(){D&&A&&(n("cr:541")==null||n("cr:541").loadImmediately(function(e){e.LiveProducerLiveActivated(A)}))},J=[D,A],d[7]=D,d[8]=A,d[9]=Y,d[10]=J):(Y=d[9],J=d[10]),f(Y,J);var Z=((s=w.rehearsalInfo)==null?void 0:s.typeName)==="LiveVideoRehearsalInfo",ee=(u=w.is_gaming_video)!=null?u:!1,te=C!=null?C:!1,ne=te&&P&&ee,re=!D||U;if(re)return null;var oe=r("gkx")("22889"),ae;d[11]!==_||d[12]!==$||d[13]!==P||d[14]!==v||d[15]!==k?(ae=(c||(c=r("stylex"))).props(b.positionTop,oe?k!==!0&&(_||P)&&!$&&!v&&b.positionTopWithCometNavOverlayWorkplace:_&&!$&&b.positionTopWithCometNavOverlay),d[11]=_,d[12]=$,d[13]=P,d[14]=v,d[15]=k,d[16]=ae):ae=d[16];var ie;d[17]!==ne?(ie=ne?p.jsx(r("GamingVideoBackLink.react"),{}):null,d[17]=ne,d[18]=ie):ie=d[18];var le;d[19]!==x||d[20]!==Z?(le={0:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v"},8:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z"},4:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1ciooss"},12:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1ciooss"},2:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},10:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},6:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},14:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},1:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},9:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},5:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},13:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},3:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},11:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},7:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},15:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"}}[!x<<3|!x<<2|!!x<<1|!!Z<<0],d[19]=x,d[20]=Z,d[21]=le):le=d[21];var se=Z?"primary":"white",ue;d[22]!==w?(ue=R(w),d[22]=w,d[23]=ue):ue=d[23];var ce;d[24]!==G||d[25]!==x||d[26]!==k||d[27]!==w.publish_time?(ce=k===!0&&G&&(w==null?void 0:w.publish_time)!=null&&!x&&E(w.publish_time),d[24]=G,d[25]=x,d[26]=k,d[27]=w.publish_time,d[28]=ce):ce=d[28];var de;d[29]!==se||d[30]!==ue||d[31]!==ce?(de=p.jsxs(r("FDSText.react"),{color:se,type:"bodyLink4",children:[ue,ce]}),d[29]=se,d[30]=ue,d[31]=ce,d[32]=de):de=d[32];var me;d[33]!==de||d[34]!==le?(me=p.jsx("div",babelHelpers.extends({},le,{"data-testid":void 0,children:de})),d[33]=de,d[34]=le,d[35]=me):me=d[35];var pe;d[36]!==B||d[37]!==w?(pe=L(w,B),d[36]=B,d[37]=w,d[38]=pe):pe=d[38];var _e;d[39]!==me||d[40]!==pe||d[41]!==ae||d[42]!==ie?(_e=p.jsxs("div",babelHelpers.extends({},ae,{children:[ie,me,pe]})),d[39]=me,d[40]=pe,d[41]=ae,d[42]=ie,d[43]=_e):_e=d[43];var fe;d[44]!==I||d[45]!==A?(fe=I===!0&&p.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:p.jsx("div",{className:"x1r4y97 x10l6tqk x1w1tb2m",children:p.jsx(y,{videoID:A})})}),d[44]=I,d[45]=A,d[46]=fe):fe=d[46];var ge;return d[47]!==_e||d[48]!==fe?(ge=p.jsxs(p.Fragment,{children:[_e,fe]}),d[47]=_e,d[48]=fe,d[49]=ge):ge=d[49],ge}function S(e){if(e==null)return!1;switch(e){case r("VideoBroadcastStatus").LIVE:case r("VideoBroadcastStatus").LIVE_STOPPED:case r("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function R(e){return(e==null?void 0:e.isPremiere)===!0?s._(/*BTDS*/"PREMIERE"):(e==null?void 0:e.breakingStatus)===!0?s._(/*BTDS*/"LIVE BREAKING"):s._(/*BTDS*/"LIVE")}R.displayName=R.name+" [from "+i.id+"]";function L(e,t){if(e===null||t==null||t===0)return null;var n=p.jsx(r("CometImage.react"),{alt:"",src:u("411339")}),o=p.jsx("span",{className:"x3nfvp2 x2fvf9 x1n2onr6",children:n});return p.jsxs("div",{"aria-label":s._(/*BTDS*/"_j{\"*\":\"{number} people currently watching this video.\",\"_1\":\"1 person currently watching this video.\"}",[s._plural(t,"number",r("intlSummarizeNumber")(t))]),className:"x6s0dn4 xrmyhay xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xdzw4kq xexx8yu x18d9i69 x25sj25 x1icxu4v","data-testid":void 0,role:"img",children:[o,p.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:r("intlSummarizeNumber")(t)})]})}L.displayName=L.name+" [from "+i.id+"]";function E(e){return p.jsx("div",{className:"x3nfvp2 xdwrcjd",children:p.jsx(r("Duration.react"),{startTime:e*1e3,useLocalTime:!0})})}E.displayName=E.name+" [from "+i.id+"]",l.default=v}),226);
__d("XPlatReactToasterView.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={visibleToasts:[]},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromProps=function(t,n){for(var e=n!=null?n.visibleToasts.slice(0,t.maxVisible):[],r=0,o=t.filterToasts,a=t.toasterState,i={},l=o!=null?Object.keys(a).filter(function(e){var n,r=a[e];i[e]=r;var l=r==null?void 0:r.shown,s=r==null||(n=r.value)==null||(n=n.type)==null?void 0:n.name;return r==null||s==null?!0:o.has(s)&&!l?(t.onExpireToast(e),!1):!0}):Object.keys(a),s=e.reduce(function(e,t){return t!=null&&e.add(t.id),e},new Set),u=0;r<t.maxVisible;){var c=e[r],d=Object.keys(i).length>0?i:t.toasterState;if(c!=null){var m=Object.prototype.hasOwnProperty.call(d,c.id);if(m){var p=a[c.id];e[r]={expired:p.expired,id:p.id,toast:p.value},r++;continue}else e[r]=null}for(var _=null;_==null&&u<l.length;){var f=l[u++],g=s.has(f);g||(_=t.toasterState[f])}_!=null&&(e[r]={expired:_.expired,id:_.id,toast:_.value}),r++}return{visibleToasts:e}};var n=t.prototype;return n.render=function(){var e=this;return s.jsx(s.Fragment,{children:this.state.visibleToasts.map(function(t,n){return t!=null?e.props.children(t.toast,t.id,t.expired,n):null})})},t})(s.PureComponent);u.defaultProps={maxVisible:1},l.default=u}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react-compiler-runtime","useVideoOriginalDimensionsRelay_video.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(7),i=o("CometRelay").useFragment(e!==void 0?e:e=n("useVideoOriginalDimensionsRelay_video.graphql"),t),l=i==null?void 0:i.original_rotation,s=l==="ROTATE_LEFT"||l==="ROTATE_RIGHT",u=s?i==null?void 0:i.original_height:i==null?void 0:i.original_width,c=s?i==null?void 0:i.original_width:i==null?void 0:i.original_height,d;a[0]!==c||a[1]!==u?(d=r("computeAspectRatio")(u,c),a[0]=c,a[1]=u,a[2]=d):d=a[2];var m=d,p;return a[3]!==m||a[4]!==c||a[5]!==u?(p={originalAspectRatio:m,originalHeight:c,originalWidth:u},a[3]=m,a[4]=c,a[5]=u,a[6]=p):p=a[6],p}l.default=s}),98);/*FB_PKG_DELIM*/
__d("BaseMenuFocusGroup",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["useKeyCommands"],u,c=u||(u=o("react")),d=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),m=d[0],p=d[1];function _(t){var n=o("react-compiler-runtime").c(8),a,i;n[0]!==t?(i=t.useKeyCommands,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=i===void 0?!0:i;if(!l){var u;return n[3]!==a?(u=c.jsx(m,babelHelpers.extends({},a)),n[3]=a,n[4]=u):u=n[4],u}var d;n[5]===Symbol.for("react.memo_cache_sentinel")?(d=[{command:{key:r("CometKeys").UP},description:s._(/*BTDS*/"Previous item"),handler:g},{command:{key:r("CometKeys").DOWN},description:s._(/*BTDS*/"Next item"),handler:f}],n[5]=d):d=n[5];var p=d,_;return n[6]!==a?(_=c.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:p,children:c.jsx(m,babelHelpers.extends({},a))}),n[6]=a,n[7]=_):_=n[7],_}function f(){}function g(){}var h={FocusGroup:_,FocusItem:p};l.default=h}),226);
__d("CometFocusGroupFirstLetterNavigation",["isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState,d=function(t){return t.slice(0,1).toLowerCase()};function m(e){var t=o("react-compiler-runtime").c(3),n=c(void 0),a=n[0],i=n[1],l,s;return t[0]!==e?(l=function(){var t,n=e==null||(t=e.current)==null?void 0:t.innerText;r("isStringNullOrEmpty")(n)||i(d(n))},s=[e],t[0]=e,t[1]=l,t[2]=s):(l=t[1],s=t[2]),u(l,s),a}var p=function(t){if(t.type==="PRINT_CHAR"){t.event.stopPropagation();var e=t.event.key.toLowerCase(),n=t.getItemByTag(e);n!=null&&t.focusItem(n)}};l.useFirstLetterNavigationTag=m,l.handleFirstLetterNavigation=p}),98);
__d("FBNucleusArrowLeftOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M9.293 4.293a1 1 0 1 1 1.414 1.414c-.78.781-1.561 1.56-2.341 2.337-.988.985-1.975 1.969-2.96 2.956H21a1 1 0 1 1 0 2H5.412l2.946 2.945.003.002 2.346 2.346a1 1 0 0 1-1.414 1.414l-2.341-2.34-.005-.005-3.6-3.6a2.497 2.497 0 0 1-.004-3.526c1.201-1.206 2.409-2.41 3.615-3.613.78-.777 1.559-1.554 2.335-2.33z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=24,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusCheckmarkFilled20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M16.707 5.293a1 1 0 0 1 0 1.414l-5.879 5.879-.043.043c-.463.463-.878.879-1.26 1.17-.416.318-.908.58-1.525.58-.617 0-1.109-.262-1.525-.58-.382-.291-.797-.707-1.26-1.17l-.043-.043-1.88-1.879a1 1 0 0 1 1.415-1.414l1.879 1.879c.52.52.84.837 1.102 1.037.23.175.303.17.311.17H8c.01 0 .082.005.312-.17.262-.2.582-.517 1.102-1.037l5.879-5.88a1 1 0 0 1 1.414 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSHideOutline20Icon",["cr:14034"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14034")}),98);
__d("FDSMenuFocusRegion.react",["BaseMenuFocusGroup","CometFocusGroupFirstLetterNavigation","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.items,a=e.role,i=a==="menu"?o("focusScopeQueries").tabbableScopeQuery:null,l;t[0]!==n?(l=s.jsx(r("BaseMenuFocusGroup").FocusGroup,{onNavigate:o("CometFocusGroupFirstLetterNavigation").handleFirstLetterNavigation,orientation:"vertical",preventScrollOnFocus:!1,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:n}),t[0]=n,t[1]=l):l=t[1];var u;return t[2]!==i||t[3]!==l?(u=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:i,children:l}),t[2]=i,t[3]=l,t[4]=u):u=t[4],u}l.default=u}),98);
__d("FDSMenuHeaderListCell.react",["fbt","CometContextualLayerAnchorRoot.react","CometRow.react","CometRowItem.react","FBNucleusArrowLeftOutline24Icon.react","FDSIcon.react","FDSTextPairing.react","FDSTooltip.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={margin:{marginInlineEnd:"xbmvrgn",marginInlineStart:"xwklpps",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s._(/*BTDS*/"Back"),t[0]=n):n=t[0];var a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Back"),t[1]=a):a=t[1];var i;t[2]!==e.onPressBack?(i=u.jsx(r("CometRowItem.react"),{xstyle:c.margin,children:u.jsx(r("FDSTooltip.react"),{tooltip:n,children:u.jsx(r("FDSIcon.react"),{"aria-label":a,icon:r("FBNucleusArrowLeftOutline24Icon.react"),onPress:e.onPressBack,size:24})})}),t[2]=e.onPressBack,t[3]=i):i=t[3];var l;t[4]!==e.meta||t[5]!==e.title?(l=u.jsx(r("CometRowItem.react"),{children:u.jsx(r("FDSTextPairing.react"),{headline:e.title,isSemanticHeading:!0,level:3,meta:e.meta,reduceEmphasis:!0})}),t[4]=e.meta,t[5]=e.title,t[6]=l):l=t[6];var d;return t[7]!==i||t[8]!==l?(d=u.jsx(r("CometContextualLayerAnchorRoot.react"),{children:u.jsxs(r("CometRow.react"),{align:"start",paddingHorizontal:8,paddingVertical:4,spacingHorizontal:0,verticalAlign:"center",children:[i,l]})}),t[7]=i,t[8]=l,t[9]=d):d=t[9],d}l.default=d}),226);
__d("FDSSeparatorMenuItem.react",["FDSMenuItemBaseRoleContext","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={separator:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"x1xaiuri",marginBottom:"x1yaqywo",marginInlineStart:"xx1sjfk",marginInlineEnd:"x12e60rz",marginLeft:null,marginRight:null,$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.ref,a=e.xstyle,i=u(r("FDSMenuItemBaseRoleContext")),l=i==="menuitem"?"separator":"none",d;t[0]!==a?(d=[c.separator,a],t[0]=a,t[1]=d):d=t[1];var m;return t[2]!==n||t[3]!==l||t[4]!==d?(m=s.jsx(o("react-strict-dom").html.div,{ref:n,role:l,style:d}),t[2]=n,t[3]=l,t[4]=d,t[5]=m):m=t[5],m}l.default=d}),98);
__d("FDSMenuBase.react",["BaseContextualLayerAvailableHeightContext","BasePopoverReflowSheetContext","BaseScrollableArea.react","CometErrorBoundary.react","FDSMenuFocusRegion.react","FDSMenuHeaderListCell.react","FDSMenuItemBaseRoleContext","FDSSeparatorMenuItem.react","FDSTextPairing.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=145,d={listItem:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",display:"x78zum5",flexDirection:"x1q0g3np",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x12j3hk6",paddingBottom:"x11d8vdq",paddingInlineStart:"x4vmlgd",paddingInlineEnd:"x10jj89s",paddingLeft:null,paddingRight:null,$$css:!0},maxHeight:function(t){return[{maxHeight:t!=null?"x1jols5v":t,$$css:!0},{"--x-maxHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},maxWidth:function(t){return[{maxWidth:t!=null?"xf68679":t,$$css:!0},{"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"x1ten1a2",paddingBottom:"xz7cn9q",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,$$css:!0},sizeFull:{marginInlineEnd:"x1ujha01",width:"xh8yej3",$$css:!0},sizeNormal:{width:"x168biu4",$$css:!0},sizeSmall:{width:"xi55695",$$css:!0}},m="menu",p={listbox:"option",menu:"menuitem"};function _(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.footer,i=e.header,l=e.maxHeight,_=e.maxHeightOffset,g=e.maxWidth,h=e.role,y=e.size,C=h===void 0?m:h,b=y===void 0?"normal":y,v=u(r("BasePopoverReflowSheetContext")),S=v.isReflowSheet,R=u(r("BaseContextualLayerAvailableHeightContext")),L=S?R!=null?R:0:l;L!=null&&_!=null&&(L=L+_);var E;t[0]!==n?(E=s.Children.toArray(n).map(f),t[0]=n,t[1]=E):E=t[1];var k=E,I=p[C],T;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==I||t[6]!==k||t[7]!==L||t[8]!==g||t[9]!==C||t[10]!==b?(T=s.Children.count(n)>0?s.jsx(r("BaseScrollableArea.react"),{horizontal:!1,style:{maxHeight:L!=null?Math.max(L,c):void 0,maxWidth:g!=null?g:void 0},vertical:!0,xstyle:[d.root,b==="full"&&d.sizeFull,b==="normal"&&d.sizeNormal,b==="small"&&d.sizeSmall,g!=null&&d.maxWidth(g),L!=null&&d.maxHeight(Math.max(L,c))],children:s.jsxs(r("FDSMenuItemBaseRoleContext").Provider,{value:I,children:[i!=null?s.jsxs(s.Fragment,{children:[i.onPressBack!=null?s.jsx(r("FDSMenuHeaderListCell.react"),babelHelpers.extends({},i)):s.jsx(o("react-strict-dom").html.div,{style:[d.listItem],children:s.jsx(r("FDSTextPairing.react"),{body:i.body,headline:i.title,isSemanticHeading:!0,level:3,meta:i.meta,reduceEmphasis:!0})}),s.jsx(r("FDSSeparatorMenuItem.react"),{})]}):null,s.jsx(r("FDSMenuFocusRegion.react"),{items:k,role:C}),a!=null?s.jsxs(s.Fragment,{children:[s.jsx(r("FDSSeparatorMenuItem.react"),{}),s.jsx(o("react-strict-dom").html.div,{style:d.listItem,children:s.jsx(r("FDSTextPairing.react"),{level:3,meta:a.text})})]}):null]})}):null,t[2]=n,t[3]=a,t[4]=i,t[5]=I,t[6]=k,t[7]=L,t[8]=g,t[9]=C,t[10]=b,t[11]=T):T=t[11],T}function f(e,t){return e==null?null:s.jsx(r("CometErrorBoundary.react"),{children:e},t)}f.displayName=f.name+" [from "+i.id+"]",l.default=_}),98);
__d("FDSMenuBaseWithPopover.react",["BaseContextualLayerAvailableHeightContext","BaseMultiPageView.react","BasePopoverReflowSheetContext","FDSMenuBase.react","FDSPopover.react","FDSPopoverLoadingStateContent.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["fallback","ref","truncate","id","children","maxHeightOffset","role","arrowAlignment","withArrow","testid","maxWidth","maxHeight","footer","header","onClose","size"],s,u=s||(s=o("react")),c=s.useContext,d=15,m="menu";function p(t){var n=o("react-compiler-runtime").c(41),a,i,l,s,p,_,f,g,h,y,C,b,v,S,R,L,E;n[0]!==t?(s=t.fallback,b=t.ref,S=t.truncate,f=t.id,l=t.children,h=t.maxHeightOffset,R=t.role,i=t.arrowAlignment,L=t.withArrow,E=t.testid,y=t.maxWidth,g=t.maxHeight,p=t.footer,_=t.header,C=t.onClose,v=t.size,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=p,n[6]=_,n[7]=f,n[8]=g,n[9]=h,n[10]=y,n[11]=C,n[12]=b,n[13]=v,n[14]=S,n[15]=R,n[16]=L,n[17]=E):(a=n[1],i=n[2],l=n[3],s=n[4],p=n[5],_=n[6],f=n[7],g=n[8],h=n[9],y=n[10],C=n[11],b=n[12],v=n[13],S=n[14],R=n[15],L=n[16],E=n[17]);var k=S===void 0?!1:S,I=R===void 0?m:R,T=L===void 0?!1:L,D=E===void 0?"comet-menu":E,x=c(r("BasePopoverReflowSheetContext")),$=x.isReflowSheet,P=c(r("BaseContextualLayerAvailableHeightContext")),N=o("XPlatReactEnvironment").isWeb()?T:!1;N&&P!=null&&(P=P-d);var M=Math.min(P!=null?P:1/0,g!=null?g:1/0),w;n[18]!==P||n[19]!==M||n[20]!==g||n[21]!==k?(w=o("XPlatReactEnvironment").isWeb()?k?M===1/0?0:M:g:P!=null?P:void 0,n[18]=P,n[19]=M,n[20]=g,n[21]=k,n[22]=w):w=n[22];var A=w,F;return n[23]!==a||n[24]!==i||n[25]!==l||n[26]!==s||n[27]!==p||n[28]!==_||n[29]!==f||n[30]!==$||n[31]!==h||n[32]!==y||n[33]!==A||n[34]!==C||n[35]!==b||n[36]!==I||n[37]!==v||n[38]!==D||n[39]!==N?(F=u.Children.count(l)>0?u.jsx(r("FDSPopover.react"),babelHelpers.extends({},a,{arrowAlignment:i,id:f,ref:b,role:I,testid:void 0,withArrow:$?!1:N,children:u.jsx(r("BaseMultiPageView.react"),{disableAutoFocus:!0,disableFocusContainment:!0,fallback:s!=null?s:u.jsx(r("FDSPopoverLoadingStateContent.react"),{}),children:u.jsx(r("FDSMenuBase.react"),{children:l,footer:p,header:_,maxHeight:A,maxHeightOffset:h,maxWidth:y,onClose:C,role:I,size:$?"full":v})})})):null,n[23]=a,n[24]=i,n[25]=l,n[26]=s,n[27]=p,n[28]=_,n[29]=f,n[30]=$,n[31]=h,n[32]=y,n[33]=A,n[34]=C,n[35]=b,n[36]=I,n[37]=v,n[38]=D,n[39]=N,n[40]=F):F=n[40],F}var _=u.memo(p);l.default=_}),98);
__d("FDSMenu.react",["FDSMenuBaseWithPopover.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("FDSMenuBaseWithPopover.react"),babelHelpers.extends({},a,{ref:i})),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=c}),98);
__d("FDSMenuItemAuxItemIcon",["FDSIcon.react","MWXIconStrict.react","MWXSvgIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.color,a=e.icon;if(a instanceof o("MWXSvgIcon").MWXSvgIcon){var i;return t[0]!==n||t[1]!==a?(i=s.jsx(r("MWXIconStrict.react"),{color:n,icon:a,size:20}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}var l;return t[3]!==n||t[4]!==a?(l=s.jsx(r("FDSIcon.react"),{color:n,icon:a,size:20}),t[3]=n,t[4]=a,t[5]=l):l=t[5],l}l.default=u}),98);
__d("useScrollDefaultItemIntoView",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(3),n=e.autoScrollOnLoad,r=e.pressableElementRef,a=c(n),i,l;t[0]!==r?(i=function(){var e=r.current;a.current&&e!=null&&(a.current=!1,e.scrollIntoView({block:"nearest"}))},l=[r],t[0]=r,t[1]=i,t[2]=l):(i=t[1],l=t[2]),u(i,l)}l.default=d}),98);
__d("useScrollVisuallyFocusedItemIntoView",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(4),n=e.pressableElementRef,r=e.visuallyFocused,a=c(r),i,l;t[0]!==n||t[1]!==r?(i=function(){var e=n.current;!a.current&&r&&e!=null&&e.scrollIntoView({block:"nearest"})},l=[n,r],t[0]=n,t[1]=r,t[2]=i,t[3]=l):(i=t[2],l=t[3]),u(i,l)}l.default=d}),98);
__d("FDSMenuItemBase.react",["BaseMenuContext","BaseMenuFocusGroup","BaseNonBreakingSpace.react","CometFocusGroupFirstLetterNavigation","FDSMenuItemBaseRoleContext","FDSPressable.react","FDSText.react","FDSTextPairing.react","FDSTextWithIcon.react","XPlatReactEnvironment","mergeRefs","react","react-strict-dom","useScrollDefaultItemIntoView","useScrollVisuallyFocusedItemIntoView"],(function(t,n,r,o,a,i,l){"use strict";var e=["download","href","iconNode","overlayRadius","ref","routeTarget","target","traceParams","alignCenter","autoScrollOnLoad","aux","badge","bodyColor","bodyText","disabled","focusRingPosition","id","isIconAnImage","onClick","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPressIn","passthroughProps","prefetchQueriesOnHover","preventClosingMenuOnSelect","preventLocalNavigation","primaryColor","primaryColor_DEPRECATED","primaryText","role","secondaryColor","secondaryText","testid","visuallyFocused"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useMemo,_=c.useRef,f={aux:{flexShrink:"x2lah0s",marginInlineStart:"x1diwwjn",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",minWidth:"xeuugli",$$css:!0},disabled:{cursor:"x1h6gzvc",$$css:!0},extraHorizontalPadding:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,$$css:!0},listItem:{alignItems:"x6s0dn4",appearance:"xjyslct",boxSizing:"x9f619",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",marginTop:"x1i6fsjq",marginBottom:"xfvfia3",marginInlineStart:"x8e7100",marginInlineEnd:"x1a16bkn",marginLeft:null,marginRight:null,paddingTop:"x10wwi4t",paddingBottom:"x1x7e7qh",paddingInlineStart:"xgm7xcn",paddingInlineEnd:"x1ynn3ck",paddingLeft:null,paddingRight:null,position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},listItemAlignedCenter:{alignItems:"x6s0dn4",$$css:!0},listItemWithIcon:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1qpxxdj",paddingInlineEnd:"xa6wxux",paddingLeft:null,paddingRight:null,$$css:!0},pressableOverlay:{borderStartStartRadius:"xbxg5aw",borderStartEndRadius:"xxh58k5",borderEndEndRadius:"xzw787d",borderEndStartRadius:"xk59nb",$$css:!0}};function g(t){var n,a=t.download,i=t.href,l=t.iconNode,s=t.overlayRadius,c=s===void 0?o("XPlatReactEnvironment").isWeb()?void 0:4:s,g=t.ref,h=t.routeTarget,y=t.target,C=t.traceParams,b=t.alignCenter,v=b===void 0?!1:b,S=t.autoScrollOnLoad,R=S===void 0?!1:S,L=t.aux,E=t.badge,k=t.bodyColor,I=t.bodyText,T=t.disabled,D=T===void 0?!1:T,x=t.focusRingPosition,$=t.id,P=t.isIconAnImage,N=t.onClick,M=t.onFocusIn,w=t.onFocusOut,A=t.onHoverIn,F=t.onHoverOut,O=t.onPressIn,B=t.passthroughProps,W=t.prefetchQueriesOnHover,q=t.preventClosingMenuOnSelect,U=q===void 0?!1:q,V=t.preventLocalNavigation,H=t.primaryColor,G=t.primaryColor_DEPRECATED,z=t.primaryText,j=t.role,K=t.secondaryColor,Q=t.secondaryText,X=t.testid,Y=t.visuallyFocused,J=Y===void 0?!1:Y,Z=babelHelpers.objectWithoutPropertiesLoose(t,e),ee=H||G,te=_(null),ne=m(r("BaseMenuContext")),re=U!==!0&&ne?ne.onClose:null,oe=i!=null||h!=null||y!=null?{download:a,passthroughProps:B,prefetchQueriesOnHover:W,preventLocalNavigation:V,routeTarget:h,target:y,traceParams:C,url:i}:void 0,ae=d(function(e){re!=null&&re(),N&&N(e)},[N,re]),ie=m(r("FDSMenuItemBaseRoleContext")),le=(n=j!=null?j:ie)!=null?n:void 0;r("useScrollDefaultItemIntoView")({autoScrollOnLoad:R,pressableElementRef:te}),r("useScrollVisuallyFocusedItemIntoView")({pressableElementRef:te,visuallyFocused:J});var se=_(null),ue=o("CometFocusGroupFirstLetterNavigation").useFirstLetterNavigationTag(se),ce=p(function(){return r("mergeRefs")(g,te)},[g]),de=E!=null?typeof E=="number"?u.jsxs(u.Fragment,{children:[z,u.jsx(r("BaseNonBreakingSpace.react"),{size:.5}),u.jsx(r("FDSText.react"),{color:D?"disabled":ee,type:"body4",children:E})]}):u.jsx(r("FDSTextWithIcon.react"),{iconAfter:E,children:z}):z;return u.jsx(r("BaseMenuFocusGroup").FocusItem,{disabled:D,tag:ue,children:u.jsx(r("FDSPressable.react"),babelHelpers.extends({},Z,{disabled:D,display:o("XPlatReactEnvironment").isWeb()?"inline":void 0,id:$,linkProps:oe,onFocusIn:M,onFocusOut:w,onHoverIn:A,onHoverOut:F,onPress:ae,onPressIn:O,overlayFocusRingPosition:x,overlayFocused:J,overlayRadius:c,overlayXStyle:c==null?f.pressableOverlay:null,ref:ce,role:le,suppressFocusRing:!0,testid:void 0,xstyle:[f.listItem,v&&f.listItemAlignedCenter,l!=null&&f.listItemWithIcon,D&&f.disabled],children:u.jsxs(u.Fragment,{children:[l,u.jsxs(o("react-strict-dom").html.div,{style:[f.content,(P!=null?P:!1)&&f.extraHorizontalPadding],children:[u.jsx(r("FDSTextPairing.react"),{body:I,bodyColor:D?"disabled":k,headline:de,headlineColor:D?"disabled":ee,headlineRef:se,level:4,meta:Q,metaColor:D?"disabled":K,reduceEmphasis:!0}),L!=null&&u.jsx(o("react-strict-dom").html.div,{style:f.aux,children:L})]})]})}))})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("FDSMenuItemIcon.react",["CometImage.react","FDSIcon.react","IconSource","ImageIconSource","SVGIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},roundedRect:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(43),n=e.disabled,a=e.icon,i=e.iconColor,l=e.iconCssSelectorId,u=e.iconSize,d=e.isDecorative,m=e.use,p=u===void 0?20:u,_=m===void 0?"normal":m,f;e:{if(a instanceof r("IconSource")){var g=i!=null?i:"primary",h;t[0]!==n||t[1]!==a||t[2]!==g?(h=s.jsx(r("FDSIcon.react"),{color:g,disabled:n,icon:a}),t[0]=n,t[1]=a,t[2]=g,t[3]=h):h=t[3],f=h;break e}if(a instanceof r("ImageIconSource")){var y;t[4]!==n||t[5]!==a?(y=s.jsx(r("FDSIcon.react"),{disabled:n,icon:a}),t[4]=n,t[5]=a,t[6]=y):y=t[6],f=y;break e}if(a instanceof o("SVGIcon").SVGIcon){var C=i!=null?i:"primary",b;t[7]!==n||t[8]!==a||t[9]!==p||t[10]!==C?(b=s.jsx(r("FDSIcon.react"),{color:C,disabled:n,icon:a,size:p}),t[7]=n,t[8]=a,t[9]=p,t[10]=C,t[11]=b):b=t[11],f=b;break e}if(a instanceof o("SVGIcon").LegacySVGIcon||a instanceof o("SVGIcon").EmojiIcon){var v=i!=null?i:"primary",S;t[12]!==n||t[13]!==a||t[14]!==p||t[15]!==v?(S=s.jsx(r("FDSIcon.react"),{color:v,disabled:n,icon:a,size:p}),t[12]=n,t[13]=a,t[14]=p,t[15]=v,t[16]=S):S=t[16],f=S;break e}if(typeof a=="object"&&typeof a!="function"&&a._isSVG!==!0&&typeof a.src=="string"){var R=a.src,L=_==="contained"?36:20,E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1n2onr6"},t[17]=E):E=t[17];var k=a.style==="circle"&&c.circle,I=a.style==="roundedRect"&&c.roundedRect,T;t[18]!==k||t[19]!==I?(T=[k,I],t[18]=k,t[19]=I,t[20]=T):T=t[20];var D;t[21]!==L||t[22]!==R||t[23]!==T?(D=s.jsx(r("CometImage.react"),{height:L,src:R,width:L,xstyle:T}),t[21]=L,t[22]=R,t[23]=T,t[24]=D):D=t[24];var x;t[25]!==a.style||t[26]!==L?(x=a.style!=="square"?s.jsx("div",{className:{0:"xlg9a9y x1o0tod x10l6tqk x13vifvy",2:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p xlg9a9y x1o0tod x10l6tqk x13vifvy",1:"xlg9a9y x1o0tod x10l6tqk x13vifvy x1obq294 x5a5i1n xde0f50 x15x8krk",3:"xlg9a9y x1o0tod x10l6tqk x13vifvy x1obq294 x5a5i1n xde0f50 x15x8krk"}[(a.style==="circle")<<1|(a.style==="roundedRect")<<0],style:{height:L,width:L}}):null,t[25]=a.style,t[26]=L,t[27]=x):x=t[27];var $;t[28]!==D||t[29]!==x?($=s.jsxs("div",babelHelpers.extends({},E,{children:[D,x]})),t[28]=D,t[29]=x,t[30]=$):$=t[30],f=$;break e}var P=i!=null?i:"primary",N;t[31]!==n||t[32]!==a||t[33]!==p||t[34]!==P?(N=s.jsx(r("FDSIcon.react"),{color:P,disabled:n,icon:a,size:p}),t[31]=n,t[32]=a,t[33]=p,t[34]=P,t[35]=N):N=t[35],f=N}var M=f,w;t[36]!==_?(w={0:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xbmvrgn"},2:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xbmvrgn x1qhmfi1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p xvnh2x x1g0q3yh"},1:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xbmvrgn xcrj56b x1ua1ozc"},3:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xbmvrgn x1qhmfi1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p xcrj56b x1ua1ozc"}}[(_==="contained"||_==="contained_small_icon")<<1|(_==="normal")<<0],t[36]=_,t[37]=w):w=t[37];var A;return t[38]!==M||t[39]!==l||t[40]!==d||t[41]!==w?(A=s.jsx("div",babelHelpers.extends({},w,{"aria-hidden":d,id:l,children:M})),t[38]=M,t[39]=l,t[40]=d,t[41]=w,t[42]=A):A=t[42],A}var m=s.memo(d);l.default=m}),98);
__d("FDSMenuItemIconImage.react",["FDSProfilePhoto.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.image,a;return t[0]!==n.addOn||t[1]!==n.shape||t[2]!==n.size||t[3]!==n.source?(a=s.jsx(r("FDSProfilePhoto.react"),{addOn:n.addOn,shape:n.shape,size:n.size,source:n.source}),t[0]=n.addOn,t[1]=n.shape,t[2]=n.size,t[3]=n.source,t[4]=a):a=t[4],a}l.default=u}),98);
__d("FDSMenuItem.react",["fbt","FDSBadge.react","FDSMenuItemAuxItemIcon","FDSMenuItemBase.react","FDSMenuItemIcon.react","FDSMenuItemIconImage.react","FDSText.react","FDSTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["ref","auxItem","icon","iconColor","iconCssSelectorId","iconSize","iconStyle","image","isIconDecorative"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(35),a,i,l,u,d,m,p,_,f,g;n[0]!==t?(f=t.ref,a=t.auxItem,l=t.icon,u=t.iconColor,d=t.iconCssSelectorId,m=t.iconSize,g=t.iconStyle,p=t.image,_=t.isIconDecorative,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=m,n[7]=p,n[8]=_,n[9]=f,n[10]=g):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],m=n[6],p=n[7],_=n[8],f=n[9],g=n[10]);var h=g===void 0?"normal":g,y=null;if(a!=null)e:switch(a.type){case"text":{var C;n[11]!==a.auxText||n[12]!==a.style?(C=a.style==="link"?c.jsx(r("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:a.auxText}):c.jsx(r("FDSTextPairing.react"),{level:3,meta:a.auxText}),n[11]=a.auxText,n[12]=a.style,n[13]=C):C=n[13],y=C;break e}case"badge":{var b;n[14]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"${fbt.param(\"color\", auxItem.color)} dot"),n[14]=b):b=n[14];var v;n[15]!==a.color?(v=c.jsx(r("FDSBadge.react"),{accessibilityText:b,color:a.color}),n[15]=a.color,n[16]=v):v=n[16],y=v;break e}case"icon":{var S;n[17]!==a.color||n[18]!==a.icon?(S=c.jsx(r("FDSMenuItemAuxItemIcon"),{color:a.color,icon:a.icon}),n[17]=a.color,n[18]=a.icon,n[19]=S):S=n[19],y=S;break e}case"numberedBadge":{y=a.badge;break e}case"infoChip":y=a.chip}var R;n[20]!==i||n[21]!==l||n[22]!==u||n[23]!==d||n[24]!==m||n[25]!==h||n[26]!==p||n[27]!==_?(R=l!=null?c.jsx(r("FDSMenuItemIcon.react"),{disabled:i.disabled,icon:l,iconColor:u,iconCssSelectorId:d,iconSize:m,isDecorative:_,use:h}):p!=null?c.jsx(r("FDSMenuItemIconImage.react"),{image:p}):null,n[20]=i,n[21]=l,n[22]=u,n[23]=d,n[24]=m,n[25]=h,n[26]=p,n[27]=_,n[28]=R):R=n[28];var L=l==null&&p!=null,E;return n[29]!==y||n[30]!==i||n[31]!==f||n[32]!==R||n[33]!==L?(E=c.jsx(r("FDSMenuItemBase.react"),babelHelpers.extends({},i,{alignCenter:!0,aux:y,iconNode:R,isIconAnImage:L,ref:f})),n[29]=y,n[30]=i,n[31]=f,n[32]=R,n[33]=L,n[34]=E):E=n[34],E}l.default=d}),226);
__d("FDSMenuItemRadio.react",["FBNucleusCheckmarkFilled20Icon.react","FBNucleusCircle2Filled20Icon.react","FBNucleusCircleOutline20Icon.react","FDSIcon.react","FDSMenuItemBase.react","FDSMenuItemIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["icon","iconColor","iconStyle","radioStyle","ref","disabled","isSelected"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(26),a,i,l,s,c,d,m,p;n[0]!==t?(l=t.icon,s=t.iconColor,c=t.iconStyle,p=t.radioStyle,m=t.ref,i=t.disabled,d=t.isSelected,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8]);var _=p===void 0?"default":p,f;if(_==="checkmark"){var g;n[9]!==i||n[10]!==d?(g=d?u.jsx(r("FDSIcon.react"),{color:i===!0?"disabled":"highlight",icon:r("FBNucleusCheckmarkFilled20Icon.react"),size:20}):void 0,n[9]=i,n[10]=d,n[11]=g):g=n[11],f=g}else{var h;n[12]!==i||n[13]!==d?(h=d?u.jsx(r("FDSIcon.react"),{color:i===!0?"disabled":"highlight",icon:r("FBNucleusCircle2Filled20Icon.react"),size:20}):u.jsx(r("FDSIcon.react"),{color:i===!0?"disabled":"secondary",icon:r("FBNucleusCircleOutline20Icon.react"),size:20}),n[12]=i,n[13]=d,n[14]=h):h=n[14],f=h}var y;n[15]!==l||n[16]!==s||n[17]!==c?(y=l!=null?u.jsx(r("FDSMenuItemIcon.react"),{icon:l,iconColor:s,use:c}):void 0,n[15]=l,n[16]=s,n[17]=c,n[18]=y):y=n[18];var C;return n[19]!==f||n[20]!==a||n[21]!==i||n[22]!==d||n[23]!==m||n[24]!==y?(C=u.jsx(r("FDSMenuItemBase.react"),babelHelpers.extends({},a,{"aria-checked":d,aux:f,disabled:i,iconNode:y,ref:m,role:"menuitemradio"})),n[19]=f,n[20]=a,n[21]=i,n[22]=d,n[23]=m,n[24]=y,n[25]=C):C=n[25],C}l.default=c}),98);
__d("FDSTabMenu.react",["FDSMenu.react","FDSMenuItemRadio.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ariaLabelledby,a=e.id,i=e.menuItems,l=e.menuSize,u=e.truncate,d;t[0]!==i?(d=i.map(c),t[0]=i,t[1]=d):d=t[1];var m;return t[2]!==n||t[3]!==a||t[4]!==l||t[5]!==d||t[6]!==u?(m=s.jsx(r("FDSMenu.react"),{"aria-labelledby":n,id:a,size:l,testid:void 0,truncate:u,children:d}),t[2]=n,t[3]=a,t[4]=l,t[5]=d,t[6]=u,t[7]=m):m=t[7],m}function c(e,t){var n,o=e["aria-label"],a=e["aria-labelledby"],i=e.badge,l=e.disabled,u=e.icon,c=e.label,d=e.linkProps,m=e.onHoverIn,p=e.onHoverOut,_=e.onPress,f=e.onPressIn,g=e.selected,h=e.tabRef,y=e.testid;return s.jsx(r("FDSMenuItemRadio.react"),{"aria-label":o,"aria-labelledby":a,badge:i,disabled:l,href:(n=d==null?void 0:d.url)!=null?n:void 0,icon:u,isSelected:g!=null?g:!1,onClick:_,onHoverIn:m,onHoverOut:p,onPressIn:f,primaryText:c,radioStyle:"checkmark",ref:h,routeTarget:d==null?void 0:d.routeTarget,target:d==null?void 0:d.target,testid:void 0},t)}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);/*FB_PKG_DELIM*/
__d("JustKnobsData",[],(function(t,n,r,o,a,i){var e=new Map;function l(){return e}function s(t){try{if(e.has(t)){var n;e.set(t,(n=e.get(t))!=null?n:1);return}e.set(t,1)}catch(e){}}function u(t){try{if(e.has(t)){var n,r=0;e.set(t,r=((n=e.get(t))!=null?n:0)-1),r<=0&&e.delete(t)}}catch(e){}}i.getKnobsBeingFetched=l,i.setKnobBeingFetched=s,i.setKnobFetchComplete=u}),66);
__d("RSTTimespanBase",[],(function(t,n,r,o,a,i){"use strict";var e=200,l=(function(){function t(){this.$1=[]}var n=t.prototype;return n.getLastTimespan=function(){return this.$1.length>0?this.$1[this.$1.length-1]:null},n.startTimespan=function(){var t=this.getLastTimespan();(t==null||t.end!=null)&&(this.$1.push({start:Date.now(),end:null}),this.$1.length>e&&this.$1.shift())},n.endTimespan=function(){var e=this.getLastTimespan();e!=null&&e.end==null&&(e.end=Date.now())},n.clearLastUnfinishedTimespan=function(){var e=this.getLastTimespan();e!=null&&e.end==null&&this.$1.pop()},n.isWithinTimespan=function(){var e=this.getLastTimespan();return e==null?!1:e.end==null},n.isCurrentlyInTimespan=function(){var e=this.getLastTimespan();return e==null?!1:e.end==null},n.getIntersectionTime=function(t,n,r){var e,o;r===void 0&&(r=null);for(var a=(e=(o=r)==null?void 0:o.ignoreLastUnfinished)!=null?e:!1,i=0,l=this.$1.length,s=0;s<l;++s){var u,c,d=this.$1[s];if(!(a&&s===l-1&&d.end==null)&&!(((u=d.end)!=null?u:1/0)<=t)){if(d.start>=n)break;var m=Math.max(d.start,t),p=Math.min((c=d.end)!=null?c:1/0,n);i+=p-m}}return i},t})();i.default=l}),66);
__d("RSTBackgroundInfo",["RSTTimespanBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.background=function(){this.startTimespan()},n.foreground=function(){this.endTimespan()},n.isInBackground=function(){return this.isWithinTimespan()},n.isInForeground=function(){return!this.isInBackground()},n.getBackgroundTime=function(t,n){return this.getIntersectionTime(t,n)},t})(r("RSTTimespanBase"));l.RSTBackgroundInfoManager=e}),98);
__d("RSTBlockingTime",["RSTTimespanBase"],(function(t,n,r,o,a,i,l){"use strict";var e=50,s=50,u=typeof self!="undefined"?self:window,c=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$RSTBlockingTime$p_1=0,e.$RSTBlockingTime$p_2=!1,babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.startMonitoring=function(){var t=this;this.$RSTBlockingTime$p_2||(u.setInterval(function(){var n=Date.now();t.$RSTBlockingTime$p_1===0||(n-t.$RSTBlockingTime$p_1>e+s?t.endTimespan():t.clearLastUnfinishedTimespan()),t.$RSTBlockingTime$p_1=n,t.startTimespan()},e),this.$RSTBlockingTime$p_2=!0)},r.getBlockingTime=function(t,n){var e=this.getIntersectionTime(t,n);return Math.max(e-s,0)},n})(r("RSTTimespanBase")),d=new c;d.startMonitoring();var m=d;l.default=m}),98);
__d("RSTConfig",["CurrentUserInitialData","FBLogger","JustKnobsData","WebResponsivenessConfig","gkx","justknobx","reactComponentNameSemanticsCheck"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={app_id:"default",first_heartbeat_threshold_ms:1e4,freeze_threshold_ms:500,heart_beat_interval_ms:200,main_thread_logging_interval_ms:5e3,encrypt_db:!1,start_rst_from_main_thread_extra_delay_in_ms:0};function c(){var e,t,n=r("WebResponsivenessConfig").rst.app_config;return n.length===0?u:(e=(t=n.find(function(e){var t;return""+e.app_id==""+((t=(s||(s=r("CurrentUserInitialData"))).APP_ID)!=null?t:0)}))!=null?t:n.find(function(e){return e.app_id==="default"}))!=null?e:u}var d=c();function m(){var e="__felab_context"in window;return f.RST_ANNOTATION_KILLSWITCH_ON&&f.SHOULD_COLLECT_RST_ANNOTATIONS&&!e}function p(e){var t=[];if(e==null)return t;for(var n of e)try{var o=n.trim();o.startsWith("/")&&o.endsWith("/")&&(o=o.slice(1,o.length-1)),t.push(new RegExp(o))}catch(e){r("FBLogger")("responsive-tracker").warn("Failed to construct regex from %s",n)}return t}var _=new Map([["Relay_JustKnobsAsyncGetBoolWithoutHashvalQuery",function(e,t){var n=Array.from(o("JustKnobsData").getKnobsBeingFetched().keys());return n.length===0?t:(t!=null?t:"")+":"+n.join(",")}]]),f={PROJECT_NAME:"RST",PROJECT_ONCALL:"web_ecosystem",DEBUG:!1,ENCRYPT_DB:d.encrypt_db,ENABLE_SERVICE_WORKER:(e=r("justknobx"))._("4993"),FIRST_HEART_BEAT_THRESHOLD_MS:d.first_heartbeat_threshold_ms,FREEZE_THRESHOLD_MS:d.freeze_threshold_ms,HEART_BEAT_INTERVAL_MS:d.heart_beat_interval_ms,START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS:d.start_rst_from_main_thread_extra_delay_in_ms,INDEX_DB_NAME:"responsiveness-db",INDEX_DB_TABLE_NAME:"unresponsiveness-events-v2",PAST_INDEX_DB_TABLE_NAMES:["unresponsiveness-events"],INDEX_DB_VERSION:4,SERVICE_WORKER_INCIDENT_THRESHOLD_MS:4e3,SERVICE_WORKER_HEART_BEAT_INTERVAL_MS:1e3,WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING:60*1e3,WEB_WORKER_UPDATE_INCIDENTS_INTERVAL_MS:e._("3306"),UNRECOVER_LASTS_THRESHOLD_MS:e._("3307"),SHOULD_SAMPLE_RECOVERABLE:e._("3273"),SHOULD_CAPTURE_INTERACTION_DATA:e._("3709"),SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT:r("justknobx")._("4704")||r("gkx")("15466"),ELEMENT_TEXT_SIZE_LIMIT:20,RST_ANNOTATION_KILLSWITCH_ON:r("justknobx")._("3738"),SHOULD_COLLECT_RST_ANNOTATIONS:r("gkx")("10200"),SHOULD_COLLECT_RST_ANNOTATIONS_LOG_FOR_CRASH:r("justknobx")._("954"),SHOULD_COLLECT_RST_ANNOTATIONS_INTERACTION_DATA:r("justknobx")._("955"),BLOCKED_ANNOTATION_KEYS:p(d.blocked_rst_annotation_keys),OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS:5760*60*1e3,MAIN_THREAD_LOGGING_INTERVAL_MS:d.main_thread_logging_interval_ms,INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS:6*d.main_thread_logging_interval_ms,MESSAGE_TYPE:"responsiveness",DEBUG_LOGGING_ENABLED:r("gkx")("6199"),MAX_DB_FAILED_COUNT:10,TRACE_STATS_WINDOW_SIZE_MS:120*1e3,TRACE_STATS_MAX_QUEUE_SIZE:200,HIGH_MEMORY_USAGE_THRESHOLD_BYTES:1500*1024*1024,DEFAULT_REACT_COMPONENT_CONTEXT_SIZE:3,ONE_UNRECOVERABLE_INCIDENT_PER_SESSION:!0,shouldCollectAdditionalMetadata:m,isReactComponentNameBlocked:o("reactComponentNameSemanticsCheck").isReactComponentNameMeaningless,isReactComponentTextBlocked:o("reactComponentNameSemanticsCheck").isReactComponentTextBlocked,logSpanAnnotationsMapping:_},g=f;l.default=g}),98);
__d("RSTConstants",[],(function(t,n,r,o,a,i){"use strict";var e={incidentType:{unresponsive:"unresponsive",unexpectedExit:"unexpected-exit"},reportReason:{unrecoverable:"unrecoverable-unresponsive",recoverable:"recoverable-unresponsive",unexpectedExit:"unexpected-exit"},executionContext:{mainThread:"main-thread",webWorker:"web-worker",sharedWorker:"shared-worker",serviceWorker:"service-worker",unknown:"unknown"}},l=e;i.default=l}),66);
__d("RSTCrypt",["RSTConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.encrypt=function(t){if(!r("RSTConfig").ENCRYPT_DB)return t;try{return btoa(t)}catch(e){return t}},t.decrypt=function(t){return r("RSTConfig").ENCRYPT_DB?this.decryptEnforce(t):{result:t,exception:!1}},t.decryptEnforce=function(t){try{return{result:atob(t),exception:!1}}catch(e){return{result:t,exception:!0}}},e})(),s=new e,u=s;l.default=u}),98);
__d("RSTEvents",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({HEART_BEAT:0,BROWSER_TAB_FOREGROUND:1,BROWSER_TAB_BACKGROUND:2,TRACE_START:3,TRACE_END:4,TRACE_POLICY_SET:5,INTERACTION_DATA:6,SPAN_START:7,SPAN_END:8,LOG_FLUSH:9,BROWSER_TAB_CLOSED:10,RECOVERABLE_UNRESPONSIVENESS:1e5,UNRECOVERABLE_UNRESPONSIVENESS:100001,CHECKING_INDEXDB_FOR_EVENTS:100002,CRASH_INCIDENT:10003,UNRESPONSIVENESS_DETECTED:-1,LOGGING_UNRESPONSIVENESS_TO_INDEXDB:-2,NO_HEART_BEAT_SINCE_ORIGIN:-3});function l(t){return t===e.LOG_FLUSH}i.RSTEvent=e,i.isRSTFlushEvent=l}),66);
__d("RSTEventsMessageQueue",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t,n){e.has(t)||e.set(t,[]);var r=e.get(t);r&&r.indexOf(n)===-1&&r.push(n)}function s(t,n){var r=e.get(t);r!=null&&r.forEach(function(e){return e(n)})}i.subscribe=l,i.notify=s}),66);
__d("RSTUtils",["RSTConfig","RSTConstants","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=b().toUpperCase(),s=m(),u=r("uuidv4")(),c=d();function d(){return s&&typeof self!="undefined"&&typeof self.setTimeout=="function"?self:window}function m(){return typeof WorkerGlobalScope!="undefined"?!0:typeof document=="undefined"}function p(){}function _(){}function f(e){if(e==null)return"";var t=new URL(e);return t.origin+t.pathname}async function g(){return typeof scheduler!="undefined"&&typeof scheduler.yield=="function"?scheduler.yield():new Promise(function(e){return c.setTimeout(e,0)})}function h(){return"indexedDB"in c}function y(e){return e!=null?String(e):null}function C(e){var t=e.componentName,n=L(e.componentText);return t==null&&n==null?null:n==null?t:t==null?' ["'+n+'"]':t+' ["'+n+'"]'}function b(){if(typeof window!="undefined"&&typeof window.document!="undefined")return r("RSTConstants").executionContext.mainThread;if(typeof self!="undefined"){if(typeof ServiceWorkerGlobalScope!="undefined"&&self instanceof ServiceWorkerGlobalScope)return r("RSTConstants").executionContext.serviceWorker;if(typeof SharedWorkerGlobalScope!="undefined"&&self instanceof SharedWorkerGlobalScope)return r("RSTConstants").executionContext.sharedWorker;if(typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope)return r("RSTConstants").executionContext.webWorker}return r("RSTConstants").executionContext.unknown}function v(e){return e.startsWith("@")}function S(e){return"@"+e}function R(){return b()===r("RSTConstants").executionContext.webWorker}function L(e){return e==null?null:e.replace(/[\[\]\",\']/g,"")}l.getGlobalObject=d,l.isInWorker=m,l.debugLogImportant=p,l.debugLog=_,l.sanitizeURL=f,l.scheduleYield=g,l.isIndexedDBSupported=h,l.intToString=y,l.getInteractionDetail=C,l.getExecutionContext=b,l.isExternalAnnotationKey=v,l.getExternalAnnotationKey=S,l.isInWebWorker=R}),98);
__d("RSTDebugConsoleInWorker",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(){}l.registerDebugConsole=e}),98);
__d("RSTInjectAdsManagerAnnotationsWebWorker",["AdsManagerAutoLoggingAppConfig","RSTEvents","RSTEventsMessageQueue","RSTUtils","requireWeak"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=null;r("requireWeak")("AdsALWorkerTrackLastEventIndex",function(t){e=t}),r("requireWeak")("hyperionUtil",function(e){s=e});function u(){o("RSTUtils").isInWebWorker()&&o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.LOGGING_UNRESPONSIVENESS_TO_INDEXDB,function(t){var n,r=t.unresponsiveEventRecord;if(e!=null){var a=r==null?void 0:r.lastHeartBeatMetadata;if(a!=null){var i=e.getLastEventIndex();c(a,"AlLastEventIndex",""+i);var l=o("AdsManagerAutoLoggingAppConfig")==null?void 0:o("AdsManagerAutoLoggingAppConfig").session_id;l!=null&&c(a,"AlSessionID",l);var u=(n=s)==null?void 0:n.ClientSessionID;u!=null&&c(a,"AlBrowserSessionID",u)}}})}function c(e,t,n){var r;e.annotations=(r=e.annotations)!=null?r:{},e.annotations!=null&&(e.annotations[t]=n)}l.registerAdsManagerAnnotationsInjector=u}),98);
__d("RSTMainThreadDataInWorker",["RSTBackgroundInfo","RSTTracesManagerInWorker"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Set}var t=e.prototype;return t.getDataEntry=function(t){if(this.$2.has(t))return null;var e=this.$1.get(t);if(e!=null)return e;var n={lastHeartBeatTimeStamp:-1,lastEventMetadata:null,mainThreadSessionID:t,isClosed:!1,isBackgrounded:!1,backgroundInfoManager:new(o("RSTBackgroundInfo")).RSTBackgroundInfoManager,heartBeatCheckOn:!0,incidentsNotRecovered:new Set,incidentsRecovered:new Set,loggedFreezeTimeStamp:new Set([0]),tracesManager:new(o("RSTTracesManagerInWorker")).TracesManager};return this.$1.set(t,n),n},t.deleteDataEntry=function(t){this.$1.delete(t),this.$2.add(t)},t.iterateOverAllEntries=async function(t){try{await Promise.all(Array.from(this.$1.values()).map(function(e){return t(e)}))}catch(e){}},e})(),s=new e,u=s;l.default=u}),98);
__d("RSTTracesManagerInWorker",["RSTEvents","RSTEventsMessageQueue","RSTMainThreadDataInWorker","RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=100;function s(){o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.TRACE_START,function(e){var t,n=e.mainToWorkerMessage,a=n==null||(t=n.metadata)==null?void 0:t.trace;if(a!=null){var i=n==null?void 0:n.sessionID;if(i!=null){o("RSTUtils").debugLog("trace start from main thread received");var l=r("RSTMainThreadDataInWorker").getDataEntry(i);if(l!=null){var s=l.tracesManager;s.addTrace(a),s.compactTraces()}}}}),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.TRACE_POLICY_SET,function(e){var t,n=e.mainToWorkerMessage,a=n==null||(t=n.metadata)==null?void 0:t.trace;if(a!=null){var i=n==null?void 0:n.sessionID;if(i!=null){o("RSTUtils").debugLog("trace policy from main thread received");var l=r("RSTMainThreadDataInWorker").getDataEntry(i);if(l!=null){var s=l.tracesManager;s.addTrace(a),s.setLastTraceWithPolicySet(a),s.compactTraces()}}}}),o("RSTEventsMessageQueue").subscribe(o("RSTEvents").RSTEvent.TRACE_END,function(e){var t,n=e.mainToWorkerMessage,a=n==null||(t=n.metadata)==null?void 0:t.trace;if(a!=null){var i=n==null?void 0:n.sessionID;if(i!=null){var l=babelHelpers.extends({endTimestamp:Date.now()},a);o("RSTUtils").debugLog("trace end from main thread received");var s=r("RSTMainThreadDataInWorker").getDataEntry(i);if(s!=null){var u=s.tracesManager;u.setLastTraceWithPolicySet(l),u.deleteTrace(a.traceID)}}}})}var u=(function(){function t(){this.$1=new Map,this.$2=null}var n=t.prototype;return n.addTrace=function(t){this.$1.set(t.traceID,t)},n.deleteTrace=function(t){this.$1.delete(t)},n.setLastTraceWithPolicySet=function(t){this.$2==null?this.$2=t:this.$2.startTime<=t.startTime&&(this.$2=t)},n.getLastTraceWithPolicySet=function(){return this.$2},n.getCurrentTraces=function(){var e=Date.now(),t=Array.from(this.$1.values());return t.filter(function(t){var n;return e>=t.startTime&&e<=((n=t.endTime)!=null?n:1/0)})},n.compactTraces=function(){var t=this.$1;if(!(t.size<=e))for(var n=Array.from(t.values()).sort(function(e,t){return t.startTime-e.startTime});n.length>e;){var r=n.pop();r!=null&&t.delete(r==null?void 0:r.traceID)}},t})();l.registerTracesManager=s,l.TracesManager=u}),98);
__d("RSTUpdateBackgroundInfoInWorker",["RSTEvents","RSTEventsMessageQueue","RSTMainThreadDataInWorker","RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){var e=t.mainToWorkerMessage,n=e!=null?e:{},o=n.DOMData;if(o!=null){var a=e==null?void 0:e.sessionID;if(a!=null){var i=r("RSTMainThreadDataInWorker").getDataEntry(a);if(i!=null){var l=i.backgroundInfoManager,s=o.hidden;i.isBackgrounded=s,s?(l.background(),i.heartBeatCheckOn=!1):(l.foreground(),i.heartBeatCheckOn=!0)}}}};function s(){var t,n;(t=o("RSTEventsMessageQueue")).subscribe((n=o("RSTEvents")).RSTEvent.HEART_BEAT,e),t.subscribe(n.RSTEvent.TRACE_START,e),t.subscribe(n.RSTEvent.TRACE_END,e),t.subscribe(n.RSTEvent.TRACE_POLICY_SET,e),t.subscribe(n.RSTEvent.BROWSER_TAB_CLOSED,function(e){var t,n=(t=e.mainToWorkerMessage)==null?void 0:t.sessionID;if(n!=null){var a=r("RSTMainThreadDataInWorker").getDataEntry(n);a!=null&&(a.isClosed=!0,r("RSTMainThreadDataInWorker").deleteDataEntry(n),o("RSTUtils").debugLogImportant("session "+n+" closed"))}}),t.subscribe(n.RSTEvent.BROWSER_TAB_FOREGROUND,function(e){var t,n=(t=e.mainToWorkerMessage)==null?void 0:t.sessionID;if(n!=null){var a=r("RSTMainThreadDataInWorker").getDataEntry(n);if(a!=null){var i=a.backgroundInfoManager;i.foreground(),a.isBackgrounded=!1,a.heartBeatCheckOn=!0,o("RSTUtils").debugLogImportant("session "+n+" foregrounded")}}}),t.subscribe(n.RSTEvent.BROWSER_TAB_BACKGROUND,function(e){var t,n=(t=e.mainToWorkerMessage)==null?void 0:t.sessionID;if(n!=null){var a=r("RSTMainThreadDataInWorker").getDataEntry(n);if(a!=null){var i=a.backgroundInfoManager;i.background(),a.isBackgrounded=!0,a.heartBeatCheckOn=!1,o("RSTUtils").debugLogImportant("session "+n+" backgrounded")}}})}l.registerUpdateBackgroundInfo=s}),98);
__d("RSTEventsRegisterUseCasesInWorker",["RSTDebugConsoleInWorker","RSTInjectAdsManagerAnnotationsWebWorker","RSTTracesManagerInWorker","RSTUpdateBackgroundInfoInWorker","RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("RSTDebugConsoleInWorker").registerDebugConsole(),o("RSTTracesManagerInWorker").registerTracesManager(),o("RSTUpdateBackgroundInfoInWorker").registerUpdateBackgroundInfo(),o("RSTUtils").isInWebWorker()&&o("RSTInjectAdsManagerAnnotationsWebWorker").registerAdsManagerAnnotationsInjector()}l.default=e}),98);
__d("RSTIncidentID",["RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s=Date.now(),u=o("RSTUtils").getExecutionContext();function c(t){return t+"-"+s+"-"+u+"-"+e++}l.getUniqueIncidentID=c}),98);
__d("RSTIndexedDB",["FBLogger","RSTConfig","RSTCrypt","RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;try{e=self.indexedDB}catch(e){}var s=(function(){function t(){}var n=t.prototype;return n.initDB=function(){var t=this;return new Promise(function(n,o){if(e==null)return o("IndexedDB is not supported in this browser");if(t.$1!=null)return n(t.$1);var a=e.open(r("RSTConfig").INDEX_DB_NAME,r("RSTConfig").INDEX_DB_VERSION);a.onupgradeneeded=function(e){t.$1=e.target.result,t.$2(),t.$3(),t.$4(r("RSTConfig").INDEX_DB_TABLE_NAME,!0)},a.onsuccess=function(e){t.$1=e.target.result,t.$3(),n(e.target.result)},a.onblocked=function(){o("Database open blocked by another tab")},a.onerror=function(e){t.closeDBConnection();var n=a.error||e.target.error;o("Database error: "+((n==null?void 0:n.message)||String(n)||"Unknown error"))}})},n.$2=function(){var e=this.$1;if(e!=null)for(var t of r("RSTConfig").PAST_INDEX_DB_TABLE_NAMES)e.objectStoreNames.contains(t)&&e.deleteObjectStore(t)},n.$3=function(){var e=this;this.$1==null||this.$1.onversionchange!=null||(this.$1.onversionchange=function(){e.closeDBConnection()})},n.$4=function(t,n){n===void 0&&(n=!1);var e=this.$1;if(!(e==null||e.objectStoreNames.contains(t))){if(e.objectStoreNames.contains(t)){if(!n)return;e.deleteObjectStore(t)}e.createObjectStore(t,{autoIncrement:!0})}},n.$5=function(t){return r("RSTConfig").ENCRYPT_DB?r("RSTCrypt").encrypt(JSON.stringify(t)):t},n.$6=function(t){if(t==null)return null;var e=!1,n=null;if(typeof t=="string"){var o=r("RSTCrypt").decryptEnforce(t);n=JSON.parse(o.result),e=o.exception}else n=t;if(typeof n!="object"||n==null||n.incidentID==null)throw r("FBLogger")("responsive-tracker").mustfixThrow("data parsing error");var a=n;return a.hasDecryptionError=e,a},n.$7=function(t){t===void 0&&(t=null),this.closeDBConnection(),o("RSTUtils").debugLogImportant("indexedDB error, clearing the object store"),r("FBLogger")("responsive-tracker").catching(t).warn("Failed to operate on IndexedDB, clearing the object store"),this.clearObjectStore().catch(function(e){r("FBLogger")("responsive-tracker").catching(e).warn("Failed to clear object store after IndexedDB error")})},n.$8=async function(t){var e=[],n=50;try{for(var r=0;r<t.length;r+=n){var o=t.slice(r,r+n);for(var a of o){var i=this.$6(a);i!=null&&e.push(i)}r+n<t.length&&await new Promise(function(e){return window.setTimeout(e,0)})}}catch(e){this.$7(e)}return e},n.$9=function(t,n,r){var e=this;t.onerror=function(t){var a,i;e.closeDBConnection();var l=(a=t==null||(i=t.target)==null?void 0:i.errorCode)!=null?a:"",s="Failed to handle "+r+" request in IndexedDB."+l;o("RSTUtils").debugLogImportant(s),n(s)}},n.$10=function(t,n,r){var e=this;t.onerror=function(t){var a,i;e.closeDBConnection();var l=(a=t==null||(i=t.target)==null?void 0:i.errorCode)!=null?a:"",s="Failed to handle "+r+" transaction in IndexedDB."+l;o("RSTUtils").debugLogImportant(s),n(s)}},n.closeDBConnection=function(){var e=this.$1;if(e!=null){try{e.close()}catch(e){}this.$1=null}},n.persistLog=async function(t){await this.initDB(),await this.persistEventToDB(t)},n.persistEventToDB=async function(t){var e=this;await this.initDB();var n=Date.now(),a=babelHelpers.extends({loggingTime:n},t);return o("RSTEventsMessageQueue").notify(o("RSTEvents").RSTEvent.LOGGING_UNRESPONSIVENESS_TO_INDEXDB,{unresponsiveEventRecord:a}),new Promise(function(t,n){if(e.$1==null){n("indexed db instance is not initialized yet");return}var o=e.$1.transaction([r("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),i=o.objectStore(r("RSTConfig").INDEX_DB_TABLE_NAME),l=i.add(e.$5(a));l.onsuccess=function(){t()},e.$9(l,n,"persistEventToDB"),e.$10(o,n,"persistEventToDB")})},n.readEventsFromDB=async function(){var e=this;await this.initDB();var t=await new Promise(function(t,n){if(e.$1==null){n("indexed db instance is not initialized yet");return}var o=e.$1.transaction([r("RSTConfig").INDEX_DB_TABLE_NAME],"readonly"),a=o.objectStore(r("RSTConfig").INDEX_DB_TABLE_NAME),i=a.getAll();i.onsuccess=function(){t(i.result)},e.$9(i,n,"readEventsFromDB"),e.$10(o,n,"readEventsFromDB")});return this.$8(t)},n.updateIncidentInDB=async function(t){var e=this;return await this.initDB(),new Promise(function(n,a){if(e.$1==null){a("IndexedDB instance is not initialized yet");return}var i=e.$1.transaction([r("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),l=i.objectStore(r("RSTConfig").INDEX_DB_TABLE_NAME),s=l.openCursor();s.onsuccess=function(r){var a=r.target.result;if(a==null){o("RSTUtils").debugLog("Finished clearing incidents from indexDB"),n();return}try{var i=e.$6(a.value);if(i==null){var l;o("RSTUtils").debugLog("Unable to parse, deleting incident "+(((l=i==null?void 0:i.incidentID)!=null?l:"")+" from indexDB")),a.delete()}else{var s=t(i);if(s){var u;o("RSTUtils").debugLog("Update incident "+((u=a.value)==null?void 0:u.incidentID)+" in indexDB"),a.update(e.$5(i))}}}catch(e){a.delete()}a.continue()},e.$9(s,a,"updateIncidentInDB"),e.$10(i,a,"updateIncidentInDB")})},n.clearIncidentFromDB=async function(t){var e=this;return await this.initDB(),new Promise(function(n,a){if(e.$1==null){a("indexed db instance is not initialized yet");return}var i=e.$1.transaction([r("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),l=i.objectStore(r("RSTConfig").INDEX_DB_TABLE_NAME),s=l.openCursor();s.onsuccess=function(r){var a=r.target.result;if(a){try{var i=e.$6(a.value);if(i==null||t.has(i==null?void 0:i.incidentID)){var l;o("RSTUtils").debugLog("Deleting incident "+((l=i==null?void 0:i.incidentID)!=null?l:"")+" from indexDB"),a.delete()}}catch(e){a.delete()}a.continue()}else o("RSTUtils").debugLog("Finished clearing incidents from indexDB"),n()},e.$9(s,a,"clearIncidentFromDB"),e.$10(i,a,"clearIncidentFromDB")})},n.clearObjectStore=async function(t){var e=this;return t===void 0&&(t=r("RSTConfig").INDEX_DB_TABLE_NAME),await this.initDB(),o("RSTUtils").debugLogImportant("clearing object store:",t),new Promise(function(n,r){try{var o=e.$1;if(o==null){r("indexed db instance is not initialized yet");return}if(!o.objectStoreNames.contains(t)){n();return}var a=o.transaction([t],"readwrite"),i=a.objectStore(t),l=i.clear();l.onsuccess=function(){n()},l.onerror=function(t){e.closeDBConnection(),r("Error clearing the store: "+t.target.errorCode)},e.$9(l,r,"clearObjectStore"),e.$10(a,r,"clearObjectStore")}catch(e){n()}})},n.deleteEventFromDB=async function(t){var e=this;return await this.initDB(),new Promise(function(n,o){if(e.$1==null){o("indexed db instance is not initialized yet");return}var a=e.$1.transaction([r("RSTConfig").INDEX_DB_TABLE_NAME],"readwrite"),i=a.objectStore(r("RSTConfig").INDEX_DB_TABLE_NAME),l=i.delete(t);l.onsuccess=function(){n()},e.$9(l,o,"deleteEventFromDB"),e.$10(a,o,"deleteEventFromDB")})},t})();l.RSTIndexedDB=s}),98);
__d("RSTIndexedDBSafe",["FBLogger","RSTConfig","RSTIndexedDB","RSTUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("RSTUtils").isIndexedDBSupported(),s=(function(t){function n(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.$RSTIndexedDBSafe$p_1=!e,n.$RSTIndexedDBSafe$p_2=0,n.$RSTIndexedDBSafe$p_3=["The database connection is closing","Can't start a transaction on a closed database","A version change transaction is running"],babelHelpers.assertThisInitialized(n)||babelHelpers.assertThisInitialized(n)}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.guardDB=async function(t,n,a){if(this.$RSTIndexedDBSafe$p_1)return n();try{return await t()}catch(t){this.closeDBConnection(),t==null||t.stack;var e=r("getErrorSafe")(t);if(e==null||e.stack,!this.$RSTIndexedDBSafe$p_4(e))try{return n()}catch(e){}if(this.$RSTIndexedDBSafe$p_2<r("RSTConfig").MAX_DB_FAILED_COUNT&&this.$RSTIndexedDBSafe$p_2++,this.$RSTIndexedDBSafe$p_2>=r("RSTConfig").MAX_DB_FAILED_COUNT){this.$RSTIndexedDBSafe$p_1=!0;var i="Failed to "+a+" "+this.$RSTIndexedDBSafe$p_2+" times disabling RST indexedDB";o("RSTUtils").debugLogImportant(i),r("FBLogger")("responsive-tracker").catching(e).warn(i+": %s",e.message)}return n()}},a.$RSTIndexedDBSafe$p_4=function(t){if(t==null)return!1;var e=typeof t=="string"?t:t==null?void 0:t.message;return typeof e!="string"?!0:!this.$RSTIndexedDBSafe$p_3.some(function(t){return e.includes(t)})},a.initDB=function(){var e=this;return this.guardDB(function(){return t.prototype.initDB.call(e)},function(){return null},"initDB")},a.persistLog=function(n){var e=this;return this.guardDB(function(){return t.prototype.persistLog.call(e,n)},function(){},"persistLog")},a.persistEventToDB=function(n){var e=this;return this.guardDB(function(){return t.prototype.persistEventToDB.call(e,n)},function(){},"persistEventToDB")},a.readEventsFromDB=function(){var e=this;return this.guardDB(function(){return t.prototype.readEventsFromDB.call(e)},function(){return[]},"readEventsFromDB")},a.updateIncidentInDB=function(n){var e=this;return this.guardDB(function(){return t.prototype.updateIncidentInDB.call(e,n)},function(){},"updateIncidentInDB")},a.clearIncidentFromDB=function(n){var e=this;return this.guardDB(function(){return t.prototype.clearIncidentFromDB.call(e,n)},function(){},"clearIncidentFromDB")},a.clearObjectStore=function(n){var e=this;return n===void 0&&(n=r("RSTConfig").INDEX_DB_TABLE_NAME),this.guardDB(function(){return t.prototype.clearObjectStore.call(e,n)},function(){},"clearObjectStore")},a.deleteEventFromDB=function(n){var e=this;return this.guardDB(function(){return t.prototype.deleteEventFromDB.call(e,n)},function(){},"deleteEventFromDB")},a.maybeClearObsoleteIncidents=async function(){try{var e=await this.readEventsFromDB(),t=new Set;e.forEach(function(e){e!=null&&typeof e.incidentID=="string"&&(typeof e.detectTime!="number"||Date.now()-e.detectTime>(1+Math.random())*r("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS)&&t.add(e.incidentID)}),await this.clearIncidentFromDB(t)}catch(e){var n,o=r("getErrorSafe")(e);r("FBLogger")("responsive-tracker").catching(o).warn((n=o.message)!=null?n:"Failed to clear obsolete incidents")}},n})(o("RSTIndexedDB").RSTIndexedDB),u=new s,c=u;l.default=c}),98);
__d("WeakRefApiUtils",[],(function(t,n,r,o,a,i){"use strict";var e=typeof window!="undefined"?window:self,l=e.WeakMap,s=L(),u=e.WeakSet,c=E(),d=e.WeakRef,m=k(),p=s&&c&&m,_=(function(){function e(e){}var t=e.prototype;return t.deref=function(){},e})(),f=(function(){function e(e){}var t=e.prototype;return t.add=function(t){return this},t.delete=function(t){return!1},t.has=function(t){return!1},e})(),g=(function(){function e(e){}var t=e.prototype;return t.delete=function(t){return!1},t.get=function(t){},t.has=function(t){return!1},t.set=function(t,n){return this},e})();function h(){return s?l:null}function y(){return s&&l?l:g}function C(){return c?u:null}function b(){return c&&u?u:f}function v(){return m?d:null}function S(){return m&&d?d:_}function R(e){return typeof e.replace=="function"?e.replace(/\n/g," ").replace(/\s+/g," "):null}function L(){return l!=null&&typeof l.toString=="function"&&R(l.toString())==="function WeakMap() { [native code] }"}function E(){return u!=null&&typeof u.toString=="function"&&R(u.toString())==="function WeakSet() { [native code] }"}function k(){return d!=null&&typeof d.toString=="function"&&R(d.toString())==="function WeakRef() { [native code] }"}function I(){return p}i.WeakRefNoOp=_,i.WeakSetNoOp=f,i.WeakMapNoOp=g,i.getNativeWeakMap=h,i.getNativeWeakMapOrFallback=y,i.getNativeWeakSet=C,i.getNativeWeakSetOrFallback=b,i.getNativeWeakRef=v,i.getNativeWeakRefOrFallback=S,i.isWeakMapNative=L,i.isWeakSetNative=E,i.isWeakRefNative=k,i.isWeakAPINative=I}),66);
__d("RSTWeakRefList",["WeakRefApiUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=o("WeakRefApiUtils").getNativeWeakRefOrFallback(),s=(function(){function t(){this.$1=[]}var n=t.prototype;return n.add=function(n){this.$1.push(new e(n))},n.compact=function(){this.$1=this.$1.filter(function(e){return e.deref()!=null})},n.getSize=function(){return this.compact(),this.$1.length},t})();l.default=s}),98);
__d("RSTWorkerUtils",["RSTUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(e==null||t==null)return e!=null?e:t;var n=babelHelpers.extends({},e),r=t==null?void 0:t.spans;if(r!=null&&(n.spans=r),n.annotations==null)return n;var a=babelHelpers.extends({},n.annotations);for(var i of Object.keys(a))o("RSTUtils").isExternalAnnotationKey(i)&&delete a[i];return n.annotations=babelHelpers.extends({},a,t.externalAnnotations),n}l.mergeMetadata=e}),98);
__d("ResponsiveTrackerWorker",["RSTBlockingTime","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesInWorker","RSTIncidentID","RSTIndexedDBSafe","RSTMainThreadDataInWorker","RSTUtils","RSTWeakRefList","RSTWorkerUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=new(r("RSTWeakRefList"));r("RSTEventsRegisterUseCasesInWorker")(),r("RSTBlockingTime").startMonitoring();var u=(function(){function t(){this.$1=null}var n=t.prototype;return n.init=function(t){this.$1=t,this.startReceivingCommandFromMainThread(),this.startMonitoringMainThread(),r("RSTIndexedDBSafe").maybeClearObsoleteIncidents()},n.startReceivingCommandFromMainThread=function(){var e;(e=this.$1)==null||e.addMessageListener(r("RSTConfig").MESSAGE_TYPE,function(e){var t=e.event,n=e.eventTime,a=e.metadata,i=e.sessionID;if(o("RSTEventsMessageQueue").notify(t,{mainToWorkerMessage:e}),i!=null){var l=r("RSTMainThreadDataInWorker").getDataEntry(i);if(l!=null&&((a==null?void 0:a.isLightweight)===!0?l.lastEventMetadata=o("RSTWorkerUtils").mergeMetadata(l.lastEventMetadata,a):a!=null&&(l.lastEventMetadata=a),!o("RSTEvents").isRSTFlushEvent(t))){n>l.lastHeartBeatTimeStamp&&(l.lastHeartBeatTimeStamp=n);var s=l.incidentsNotRecovered,u=l.incidentsRecovered;l.incidentsNotRecovered.forEach(function(e){u.add(e)}),s.clear()}}})},n.$2=function(){var e=this;self.setInterval(async function(){o("RSTUtils").debugLog("RST web worker heart beat checking..."),await r("RSTMainThreadDataInWorker").iterateOverAllEntries(async function(t){await e.$3(t.mainThreadSessionID)})},r("RSTConfig").HEART_BEAT_INTERVAL_MS)},n.$3=async function(n){var t=r("RSTMainThreadDataInWorker").getDataEntry(n);if(t!=null&&t.heartBeatCheckOn!==!1){var a=t.incidentsNotRecovered,i=t.lastEventMetadata,l=t.lastHeartBeatTimeStamp,u=t.loggedFreezeTimeStamp,c=t.tracesManager,d=Date.now();if(l<0){performance.now()>=r("RSTConfig").FIRST_HEART_BEAT_THRESHOLD_MS&&o("RSTEventsMessageQueue").notify(o("RSTEvents").RSTEvent.NO_HEART_BEAT_SINCE_ORIGIN,{});return}if(!u.has(l)){var m=d-l-r("RSTBlockingTime").getBlockingTime(l,d);if(m>r("RSTConfig").FREEZE_THRESHOLD_MS){if(s.getSize()>e)return;var p=o("RSTIncidentID").getUniqueIncidentID(n);a.add(p);var _=c.getCurrentTraces(),f=c.getLastTraceWithPolicySet(),g={incidentID:p,detectTime:Date.now(),lastHeartBeatTimeStamp:l,message:"unresponsive",sessionID:n,lastHeartBeatMetadata:i,traces:_,lastTrace:f,hasRecovered:!1,unrecoverLastsForMs:d-l,incidentType:r("RSTConstants").incidentType.unresponsive};u.add(l),s.add(g),o("RSTUtils").debugLog("incident to indexedDB: "+g.incidentID),await r("RSTIndexedDBSafe").persistLog(g)}}}},n.$4=function(){var e=this;self.setInterval(async function(){await r("RSTMainThreadDataInWorker").iterateOverAllEntries(async function(t){await e.$5(t.mainThreadSessionID)})},r("RSTConfig").WEB_WORKER_UPDATE_INCIDENTS_INTERVAL_MS)},n.$5=async function(t){var e=r("RSTMainThreadDataInWorker").getDataEntry(t);if(e!=null){var n=e.backgroundInfoManager,a=e.incidentsNotRecovered,i=e.incidentsRecovered;if(!(a.size===0&&i.size===0)){var l=Date.now();await r("RSTIndexedDBSafe").updateIncidentInDB(function(e){if(e.incidentType===r("RSTConstants").incidentType.unexpectedExit)return!1;if(i.has(e.incidentID))return o("RSTUtils").debugLog("Update as recovered: "+e.incidentID),e.hasRecovered=!0,i.delete(e.incidentID),!0;if(a.has(e.incidentID)){var t=e.lastHeartBeatTimeStamp,s=l-t-n.getBackgroundTime(t,l)-r("RSTBlockingTime").getBlockingTime(t,l);o("RSTUtils").debugLog("Update unrecovered duration for "+(e.incidentID+": "+s+"ms"));var u=e.unrecoverLastsForMs;return e.unrecoverLastsForMs=s,u!==s}return!1})}}},n.startMonitoringMainThread=function(){this.$2(),this.$4()},t})(),c=new u,d=c;l.default=d}),98);
__d("RSTWebWorkerEntrypoint",["ResponsiveTrackerWorker","WorkerMessagePort","WorkerSelf"],(function(t,n,r,o,a,i,l){var e=new(o("WorkerMessagePort")).WorkerSyncedMessagePort(self,"RSTWebWorker"),s=!1;function u(){s||(o("WorkerSelf").init(e),r("ResponsiveTrackerWorker").init(e),s=!0)}u(),l.default=u}),98);
__d("RSTWebV2Worker",["RSTWebWorkerEntrypoint"],(function(t,n,r,o,a,i,l){l.default=r("RSTWebWorkerEntrypoint")}),98);/*FB_PKG_DELIM*/
__d("BoostedComponentProduct",[],(function(t,n,r,o,a,i){var e=Object.freeze({BOOSTED_APP_INSTALL:"boosted_app_install",BOOSTED_AUTOMATED_ADS:"boosted_automated_ads",BOOSTED_AUTOMOTIVE_INVENTORY:"boosted_automotive_inventory",BOOSTED_CALL_NOW:"boosted_call_now",BOOSTED_CATALOG_SALES:"boosted_catalog_sales",BOOSTED_CONSOLIDATED_PRODUCT:"boosted_consolidated_product",BOOSTED_CTA:"boosted_cta",BOOSTED_DYNAMIC_PRODUCTS:"boosted_dynamic_products",BOOSTED_EVENT:"boosted_event",BOOSTED_FB_INSTAGRAM_MEDIA:"boosted_fb_instagram_media",BOOSTED_FB_STORY:"boosted_fb_story",BOOSTED_FOOD_ORDERS:"boosted_food_orders",BOOSTED_GROUP:"boosted_group",BOOSTED_IG_STORY:"boosted_ig_story",BOOSTED_INSTAGRAM_MEDIA:"boosted_instagram_media",BOOSTED_INSTAGRAM_USER:"boosted_instagram_user",BOOSTED_INTEGRATED_BUSINESS:"boosted_integrated_business",BOOSTED_JOB_POST:"boosted_job_post",BOOSTED_LEAD_GEN:"boosted_lead_gen",BOOSTED_LOCAL_AWARENESS:"boosted_local_awareness",BOOSTED_MARKETPLACE_LISTING:"boosted_marketplace_listing",BOOSTED_MENU:"boosted_menu",BOOSTED_MESSAGE:"boosted_message",BOOSTED_MINI_SHOP:"boosted_mini_shop",BOOSTED_MULTI_MESSAGE:"boosted_multi_message",BOOSTED_PAGELIKE:"boosted_pagelike",BOOSTED_POST:"boosted_post",BOOSTED_POST_AB_TEST:"boosted_post_ab_test",BOOSTED_PURCHASE:"boosted_purchase",BOOSTED_REAL_ESTATE_LISTING:"boosted_real_estate_listing",BOOSTED_SHOP:"boosted_shop",BOOSTED_TOUR:"boosted_tour",BOOSTED_USER_POST:"boosted_user_post",BOOSTED_WEBSITE:"boosted_website"});i.default=e}),66);
__d("CometAIProductTagSuggestionsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9093585260742932"}),null);
__d("CometAIProductTagSuggestionsQuery.graphql",["CometAIProductTagSuggestionsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"max_suggestions_per_photo"},t={defaultValue:null,kind:"LocalArgument",name:"media_ids"},r=[{kind:"Variable",name:"max_suggestions_per_photo",variableName:"max_suggestions_per_photo"},{kind:"Variable",name:"media_ids",variableName:"media_ids"}],o={alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"top_left",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"bottom_right",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"sizing",value:"cover-fill-cropped"},{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:'image(height:64,sizing:"cover-fill-cropped",width:64)'},p={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"listing_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},_={alias:null,args:null,concreteType:"CatalogItemUnitPrice",kind:"LinkedField",name:"per_unit_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_text",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"XFBCommerceProductTagTimeRange",kind:"LinkedField",name:"time_range",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"CometAIProductTagSuggestionsQuery",selections:[{alias:null,args:r,concreteType:"ProductTagAISuggestionInfo",kind:"LinkedField",name:"product_tag_suggestions",plural:!0,selections:[o,{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"suggestions",plural:!0,selections:[a,i,l,s,u,{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[m],storageKey:null},p,_],storageKey:null},u,f],storageKey:null},g],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"CometAIProductTagSuggestionsQuery",selections:[{alias:null,args:r,concreteType:"ProductTagAISuggestionInfo",kind:"LinkedField",name:"product_tag_suggestions",plural:!0,selections:[o,{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"suggestions",plural:!0,selections:[a,i,l,s,u,{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m,c],storageKey:null},p,_],storageKey:null},u,f],storageKey:null},g],storageKey:null}],storageKey:null}]},params:{id:n("CometAIProductTagSuggestionsQuery_facebookRelayOperation"),metadata:{},name:"CometAIProductTagSuggestionsQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("CometAIProductTagSuggestionsQuery.react",["CometAIProductTagSuggestionsQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometAIProductTagSuggestionsQuery.graphql");l.default=s}),98);
__d("CometFeedStoryProfilePlusBoostPostButton_audienceBuildingInfo.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryProfilePlusBoostPostButton_audienceBuildingInfo",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_has_invalid_tags",storageKey:null},{alias:null,args:[{kind:"Literal",name:"should_expose",value:!1}],kind:"ScalarField",name:"should_show_new_experience",storageKey:"should_show_new_experience(should_expose:false)"},{alias:null,args:null,concreteType:"BoostedComponentButtonData",kind:"LinkedField",name:"boost_post_button_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_action_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tooltip_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_label_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_show_inline_boost_for_bizweb_feed_view",storageKey:null},{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"live_boosting_tooltip",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometTooltipQP_quickPromotion"}],storageKey:null}],type:"ProfilePlusAudienceBuildingInfo",abstractKey:null};a.exports=e}),null);
__d("LWICometEnterFlowClickWrapper.react",["LWIBoostedComponentFalcoEvenUtils","QPLUserFlow","qpl","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("requireDeferred")("LWICometFalcoEvent").__setRef("LWICometEnterFlowClickWrapper.react");function d(e){var t=o("react-compiler-runtime").c(13),n=e.adsLwiGoal,a=e.children,i=e.disableLog,l=e.entryPoint,s=e.extra,u=e.extraLogs,d=e.flow,p=e.pageID,_=e.postID,f=e.product,g=i===void 0?!1:i,h;t[0]!==n||t[1]!==g||t[2]!==l||t[3]!==s||t[4]!==u||t[5]!==d||t[6]!==p||t[7]!==_||t[8]!==f?(h=function(){g||(r("QPLUserFlow").start(r("qpl")._(584528872,"437"),{annotations:{string:{entry_point:l!=null?l:"unknown",flow:d,product:f}},cancelOnUnload:!1,timeoutInMs:1e4}),r("QPLUserFlow").addPoint(r("qpl")._(584528872,"437"),"enter_flow_click"),r("QPLUserFlow").storeBeforeNavigation(r("qpl")._(584528872,"437")),c.onReady(function(e){e.log({action:"enter",ads_lwi_goal:n,context:"flow",entry_point:l,event:"enter_flow_click",extra_data:o("LWIBoostedComponentFalcoEvenUtils").getFalcoExtraData(s),flow:d,page_id:p,post_id:_,product:f,side:"user_action"})}),u==null||u.forEach(m))},t[0]=n,t[1]=g,t[2]=l,t[3]=s,t[4]=u,t[5]=d,t[6]=p,t[7]=_,t[8]=f,t[9]=h):h=t[9];var y=h,C;return t[10]!==a||t[11]!==y?(C=a(y),t[10]=a,t[11]=y,t[12]=C):C=t[12],C}function m(e){return e()}l.LWICometEnterFlowClickWrapper=d}),98);
__d("CometFeedStoryProfilePlusBoostPostButton.react",["fbt","CometFeedStoryProfilePlusBoostPostButton_audienceBuildingInfo.graphql","CometRelay","FDSButton.react","FDSTooltip.react","LWICometEnterFlowClickWrapper.react","LWIRedirectionExperimentChecker","cr:7264","gkx","react","react-compiler-runtime","requireDeferred","stylex","useCometDeferredDialog","useCometTooltipQP"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=r("requireDeferred")("LWICometBoostedPostRemoveTaggingsDialog.react").__setRef("CometFeedStoryProfilePlusBoostPostButton.react"),p=r("requireDeferred")("logBoostedComponentCometFalcoEvent").__setRef("CometFeedStoryProfilePlusBoostPostButton.react");function _(t){var a=o("react-compiler-runtime").c(55),i=t.audienceBuildingInfo,l=t.boostedProduct,c=t.boostingStatus,_=t.contentType,f=t.delegatePageID,g=t.entryPoint,h=t.reduceEmphasis,y=t.renderLocation,C=t.size,b=t.targetID,v=t.type,S=t.xstyle,R=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedStoryProfilePlusBoostPostButton_audienceBuildingInfo.graphql"),i),L=R.boost_post_button_data,E=R.can_show_inline_boost_for_bizweb_feed_view,k=R.live_boosting_tooltip,I=R.post_has_invalid_tags,T=R.should_show_new_experience,D;a[0]===Symbol.for("react.memo_cache_sentinel")?(D={align:"start","aria-label":s._(/*BTDS*/"Post boost promotion tooltip"),hasCloseButton:!1},a[0]=D):D=a[0];var x=r("useCometTooltipQP")(k,D),$;a[1]!==(L==null?void 0:L.button_action_uri)||a[2]!==l||a[3]!==c||a[4]!==f||a[5]!==g||a[6]!==b?($=function(){var e=L==null?void 0:L.button_action_uri;e!=null&&e.includes("boost_id")&&p.onReady(function(e){e.logBoostedComponentCometFalcoEvent({action:"enter",context:"flow",entry_point:g,event:"duplicate_ad_click",flow:c==="ACTIVE"?"edit":"create",page_id:f,post_id:b,product:l,side:"user_action"})})},a[1]=L==null?void 0:L.button_action_uri,a[2]=l,a[3]=c,a[4]=f,a[5]=g,a[6]=b,a[7]=$):$=a[7];var P=$,N=L==null?void 0:L.button_label,M=r("useCometDeferredDialog")(m);if(L==null||N==null)return null;var w;a[8]!==L.button_action_uri?(w={url:L.button_action_uri},a[8]=L.button_action_uri,a[9]=w):w=a[9];var A=w,F=r("gkx")("21034");if((y==="cm_feed_view"||F)&&E===!0){var O;a[10]!==c||a[11]!==N||a[12]!==_||a[13]!==f||a[14]!==y||a[15]!==b?(O=b!=null&&n("cr:7264")!=null?d.jsx(n("cr:7264"),{boostData:{boostedButtonLabel:N,boostStatus:c},contentType:_,growToFill:!1,lwiEntryPoint:y==="bizweb_recent_posts_feed_card"?"bizweb_recent_posts_fb_feed":"business_content_manager_fb_feed_view",pageID:f,postID:b,productType:"FACEBOOK",workspaceType:"PUBLISHED_POSTS"}):null,a[10]=c,a[11]=N,a[12]=_,a[13]=f,a[14]=y,a[15]=b,a[16]=O):O=a[16];var B=O,W;a[17]!==S?(W=(u||(u=r("stylex"))).props(S),a[17]=S,a[18]=W):W=a[18];var q;a[19]!==B||a[20]!==L.tooltip_label?(q=d.jsx(r("FDSTooltip.react"),{position:"above",tooltip:L.tooltip_label,children:B}),a[19]=B,a[20]=L.tooltip_label,a[21]=q):q=a[21];var U;return a[22]!==W||a[23]!==q?(U=d.jsx("div",babelHelpers.extends({},W,{children:q})),a[22]=W,a[23]=q,a[24]=U):U=a[24],U}var V=b!=null&&I===!0&&T===!0,H;a[25]!==S?(H=(u||(u=r("stylex"))).props(S),a[25]=S,a[26]=H):H=a[26];var G=L==null?void 0:L.button_label_type,z;a[27]!==G?(z={button:G},a[27]=G,a[28]=z):z=a[28];var j;a[29]!==P?(j=[P],a[29]=P,a[30]=j):j=a[30];var K=c==="ACTIVE"?"edit":"create",Q;a[31]!==N||a[32]!==f||a[33]!==A||a[34]!==h||a[35]!==V||a[36]!==M||a[37]!==C||a[38]!==b||a[39]!==x||a[40]!==v?(Q=function(t){return d.jsx(r("FDSButton.react"),{label:N,linkProps:V?void 0:A,onPress:function(){V&&M({pageID:f,targetID:b!=null?b:"0"}),o("LWIRedirectionExperimentChecker").checkAccountIDRedirectEligibility(!0),t()},reduceEmphasis:h!=null?h:!1,ref:x,size:C,testid:void 0,type:v})},a[31]=N,a[32]=f,a[33]=A,a[34]=h,a[35]=V,a[36]=M,a[37]=C,a[38]=b,a[39]=x,a[40]=v,a[41]=Q):Q=a[41];var X;a[42]!==l||a[43]!==f||a[44]!==g||a[45]!==V||a[46]!==z||a[47]!==j||a[48]!==K||a[49]!==Q||a[50]!==b?(X=d.jsx(o("LWICometEnterFlowClickWrapper.react").LWICometEnterFlowClickWrapper,{disableLog:V,entryPoint:g,extra:z,extraLogs:j,flow:K,pageID:f,postID:b,product:l,children:Q}),a[42]=l,a[43]=f,a[44]=g,a[45]=V,a[46]=z,a[47]=j,a[48]=K,a[49]=Q,a[50]=b,a[51]=X):X=a[51];var Y;return a[52]!==X||a[53]!==H?(Y=d.jsx("div",babelHelpers.extends({},H,{children:X})),a[52]=X,a[53]=H,a[54]=Y):Y=a[54],Y}l.default=_}),226);
__d("CometPhotoViewerImgRenderer.react",["CometHeroHoldTrigger.react","CometImage.react","ExecutionEnvironment","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=["alt","currentImgSrc","height","origSrc","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useLayoutEffect,p=d.useState,_={img:{objectFit:"x19kjcj4",$$css:!0}};function f(t){var n,o=t.alt,a=t.currentImgSrc,i=t.height,l=t.origSrc,u=t.xstyle,d=babelHelpers.objectWithoutPropertiesLoose(t,e),f=r("useStable")(function(){if(!(s||(s=r("ExecutionEnvironment"))).canUseDOM)return null;var e=new Image;return e.src=a,e}),g=p((n=f==null?void 0:f.complete)!=null?n:!1),h=g[0],y=g[1],C=p(!1),b=C[0],v=C[1];return m(function(){if(f!=null)if(f.complete)y(!0);else return f.onload=function(){y(!0)},f.onerror=function(){v(!0)},function(){f.onload=null,f.onerror=null}},[f,y,v]),c.jsxs(c.Fragment,{children:[c.jsx(r("CometHeroHoldTrigger.react"),{description:"Progressive Image",hold:!h&&!b&&l!=null}),c.jsx(r("CometImage.react"),babelHelpers.extends({},d,{alt:o,height:h||l==null?void 0:i,src:h||l==null?a:l,testid:void 0,xstyle:[u,_.img]}))]})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=c.jsx(f,babelHelpers.extends({},e),e.currentImgSrc),t[0]=e,t[1]=n):n=t[1],n}l.default=g}),98);
__d("useFragmentNodes_DEPRECATED",["mapObject","react","react-relay/relay-hooks/legacy/FragmentResource","react-relay/relay-hooks/useRelayEnvironment","relay-runtime","warning"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef,m=u.useState;function p(t,n,a){var i=r("react-relay/relay-hooks/useRelayEnvironment")(),l=o("react-relay/relay-hooks/legacy/FragmentResource").getFragmentResourceForEnvironment(i),s=d(!1),u=m(0),p=u[1],g=f(t,n),h=d(0),y=d(0),C=_(i),b=_(g),v=C||b,S=m(n),R=S[0],L=S[1],E=Object.keys(n).filter(function(e){return!Object.prototype.hasOwnProperty.call(t,e)}),k=E.some(function(e){return R[e]!==n[e]}),I=E.some(function(e){return!o("relay-runtime").isScalarAndEqual(R[e],n[e])}),T=v||I;T&&y.current++,v&&h.current++,k&&L(n);var D=l.readSpec(t,n,a),x=d(!0);function $(){x.current=!0;var e=l.checkMissedUpdatesSpec(D);e&&N()}function P(){x.current=!1}function N(){var e;s.current===!1||x.current===!1||(y.current=((e=y.current)!=null?e:0)+1,p(function(e){return e+1}))}c(function(){s.current=!0;var e=l.subscribeSpec(D,N);return function(){s.current=!1,e.dispose()}},[h.current]);var M=(e||(e=r("mapObject")))(D,function(e,t){return e.data});return{data:M,disableStoreUpdates:P,enableStoreUpdates:$,shouldUpdateGeneration:y.current}}function _(e){var t=m(e),n=t[0],r=t[1],o=n!==e;return o&&r(e),o}function f(t,n){return JSON.stringify(o("relay-runtime").stableCopy((e||(e=r("mapObject")))(t,function(e,t){var r=n[t];return o("relay-runtime").getFragmentIdentifier(e,r)})))}l.default=p}),98);
__d("createSuspenseFragmentContainer_DEPRECATED",["mapObject","react","react-relay/assertFragmentMap","react-relay/relay-hooks/useRelayEnvironment","relay-runtime","useFragmentNodes_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u,c=u||(u=o("react")),d=u.useMemo;function m(t,n){var a=t.displayName||t.name||"Unknown",l="RelaySuspenseFragmentContainer("+a+")";r("react-relay/assertFragmentMap")(a,n);var u=n,m=(s||(s=r("mapObject")))(u,o("relay-runtime").getFragment);function p(n){var o=n.ref,a=babelHelpers.objectWithoutPropertiesLoose(n,e),i=r("react-relay/relay-hooks/useRelayEnvironment")(),s=d(function(){return{environment:i}},[i]),u=r("useFragmentNodes_DEPRECATED")(m,a,l),p=u.data,_=u.shouldUpdateGeneration;return d(function(){var e;return c.jsx(t,babelHelpers.extends({},a,p,{ref:(e=a.componentRef)!=null?e:o,relay:s}))},[_,o])}return p.displayName=p.name+" [from "+i.id+"]",p.displayName=l,p}l.default=m}),98);
__d("createSuspensePaginationContainer_DEPRECATED",["FBLogger","areEqual","createSuspenseFragmentContainer_DEPRECATED","forEachObject","mapObject","react","react-compiler-runtime","react-relay/relay-hooks/useRelayEnvironment","relay-runtime","warning"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["forwardedRef","isLoading","parentVariables","refetch","relay"],u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useMemo,h=p.useReducer,y=p.useRef,C="forward";function b(e,t,n){var a=e.displayName||e.name||"Unknown",i=(u||(u=r("mapObject")))(t,o("relay-runtime").getFragment),l=L(i),s=o("relay-runtime").getRequest(n.query),c=S(e,a,l.direction,E(l),n.getVariables),d=r("createSuspenseFragmentContainer_DEPRECATED")(c,t);return v(e,a,i,n.getFragmentRefsFromResponse,s,d)}function v(t,n,a,l,s,u){var d="RelaySuspensePaginationContainer("+n+")";function p(t){var n,i=t.ref,p=babelHelpers.objectWithoutPropertiesLoose(t,e),g=r("react-relay/relay-hooks/useRelayEnvironment")(),C={};r("forEachObject")(a,function(e,t){var n,r,a,i=o("relay-runtime").getSelector(e,p[t]),l=i!=null&&i.kind==="PluralReaderSelector"?(n=(r=i.selectors[0])==null?void 0:r.owner.variables)!=null?n:{}:(a=i==null?void 0:i.owner.variables)!=null?a:{};C=babelHelpers.extends({},C,l)});var b=o("relay-runtime").getDataIDsFromObject(a,p),v=h(R,{dataIDs:b,mirroredEnvironment:g,mirroredParentVariables:C,refetchFragmentRefs:{},refetchVariables:null}),S=v[0],L=v[1],E=y(!1),k=y(null),I=function(){k.current&&(k.current.dispose(),k.current=null)};f(function(){return function(){E.current=!0,I()}},[]),(g!==S.mirroredEnvironment||!(c||(c=r("areEqual")))(C,S.mirroredParentVariables)||!(c||(c=r("areEqual")))(S.dataIDs,b))&&(I(),L({dataIDs:b,environment:g,parentVariables:C,type:"reset"}));var T=_(function(e,t){if(E.current===!0)return r("warning")(!1,"Relay: Unexpected fetch on unmounted component `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger a fetch.",d),null;var n=o("relay-runtime").__internal.getOperationVariables(s.operation,s.params.providedVariables,e),a=t&&t.force?{force:!0}:{},i=o("relay-runtime").createOperationDescriptor(s,n,a),u=null,c=g.retain(i),m={dispose:function(){var e=u;u=null,e&&e.unsubscribe(),c.dispose()}},p=function(){var e={complete:function(){I(),L({type:"complete"}),t&&t.onComplete&&t.onComplete(null)},error:(function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t})(function(e){I(),L({type:"abort"}),t&&t.onComplete&&t.onComplete(e)}),next:function(){var e=g.lookup(i.fragment);L({fragmentRefs:l(e.data),type:"next"})},unsubscribe:function(){E.current!==!0&&(I(),L({type:"abort"}))}};return u=o("relay-runtime").__internal.fetchQuery(g,i).subscribe(e),m};return I(),k.current=p(),L({refetchVariables:n,type:"fetch"}),m},[g]);return m.jsx(u,babelHelpers.extends({},p,S.refetchFragmentRefs,{forwardedRef:i,isLoading:k.current!=null,parentVariables:(n=S.refetchVariables)!=null?n:C,refetch:T}))}return p.displayName=p.name+" [from "+i.id+"]",p.displayName=d,p}function S(e,t,n,a,i){function l(l){var u,c=o("react-compiler-runtime").c(19),d=l.forwardedRef,p=l.isLoading,_=l.parentVariables,f=l.refetch,g=l.relay,h=babelHelpers.objectWithoutPropertiesLoose(l,s),y=r("react-relay/relay-hooks/useRelayEnvironment")(),b=a(h),v=k(t,n,b),S;c[0]!==v||c[1]!==_||c[2]!==f||c[3]!==h?(S=function(t,a){if(v==null||!v.hasMore)return a&&a.onComplete&&a.onComplete(null),null;var e=o("relay-runtime").ConnectionInterface.get(),l=e.END_CURSOR,s=e.START_CURSOR,u=v.cursor;return r("warning")(u,"Relay: Cannot `loadMore` without valid `%s` (got `%s`)",n===C?l:s,u),f(i(h,{count:t,cursor:u},_),a)},c[0]=v,c[1]=_,c[2]=f,c[3]=h,c[4]=S):S=c[4];var R=S,L;c[5]!==_||c[6]!==f||c[7]!==h?(L=function(t,n,r){return f(i(h,{count:t,cursor:null},babelHelpers.extends({},_,n||{})),babelHelpers.extends({},r,{force:!0}))},c[5]=_,c[6]=f,c[7]=h,c[8]=L):L=c[8];var E=L,I=!!(v&&v.hasMore&&v.cursor),T;c[9]!==y||c[10]!==I||c[11]!==p||c[12]!==R||c[13]!==E?(T={environment:y,hasMore:I,isLoading:p,loadMore:R,refetchConnection:E},c[9]=y,c[10]=I,c[11]=p,c[12]=R,c[13]=E,c[14]=T):T=c[14];var D=T,x=(u=h.componentRef)!=null?u:d,$;return c[15]!==D||c[16]!==h||c[17]!==x?($=m.jsx(e,babelHelpers.extends({},h,{ref:x,relay:D})),c[15]=D,c[16]=h,c[17]=x,c[18]=$):$=c[18],$}return l}function R(e,t){var n;switch(t.type){case"reset":n={dataIDs:t.dataIDs,mirroredEnvironment:t.environment,mirroredParentVariables:t.parentVariables,refetchFragmentRefs:{},refetchVariables:null};break;case"fetch":n=babelHelpers.extends({},e,{refetchVariables:t.refetchVariables});break;case"abort":n=babelHelpers.extends({},e);break;case"next":n=babelHelpers.extends({},e,{refetchFragmentRefs:t.fragmentRefs});break;case"complete":default:n=babelHelpers.extends({},e);break}return n}function L(e){var t=null;for(var n in e){var o=e[n],a=o&&o.metadata&&o.metadata.connection;if(a!=null){if(!Array.isArray(a))throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Expected metadata to be array, got `%s` instead.",typeof a);if(a.length!==1)throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Only a single @connection is supported, `%s` has %s.",n,a.length);if(t)throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Only a single fragment with @connection is supported.");t=babelHelpers.extends({},a[0],{fragmentName:n})}}if(t===null)throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: A @connection directive must be present.");return t}function E(e){var t=e.path;if(!t)throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Unable to synthesize a getConnectionFromProps function.");return function(n){for(var r=n[e.fragmentName],o=0;o<t.length;o++){if(!r||typeof r!="object")return null;r=r[t[o]]}return r}}function k(e,t,n){if(n==null)return null;var a=o("relay-runtime").ConnectionInterface.get(),i=a.EDGES,l=a.END_CURSOR,s=a.HAS_NEXT_PAGE,u=a.HAS_PREV_PAGE,c=a.PAGE_INFO,d=a.START_CURSOR;if(typeof n!="object")throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Expected `getConnectionFromProps()` in `%s` to return `null` or a plain object with %s and %s properties, got `%s`.",e,i,c,n);var m=n[i],p=n[c];if(m==null||p==null)return null;if(!Array.isArray(m))throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Expected `getConnectionFromProps()` in `%s` to return an object with %s: Array, got `%s`.",e,i,m);if(typeof p!="object")throw r("FBLogger")("relay").mustfixThrow("SuspensePaginationContainer: Expected `getConnectionFromProps()` in `%s` to return an object with %s: Object, got `%s`.",e,c,p);var _=t===C?p[s]:p[u],f=t===C?p[l]:p[d];return typeof _!="boolean"||m.length!==0&&f==null?(r("warning")(!1,"Relay: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",c,e,t===C?s:u,_,t===C?l:d,f),null):{cursor:f,edgeCount:m.length,hasMore:_}}l.default=b}),98);
__d("createSuspenseQueryRenderer_DEPRECATED",["react","react-compiler-runtime","react-relay/ReactRelayContext","react-relay/relay-hooks/useLazyLoadQueryNode","react-relay/relay-hooks/useMemoOperationDescriptor","react-relay/relay-hooks/useRelayEnvironment","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("relay-runtime").getRequest(e),n="RelaySuspenseQueryRenderer("+t.params.name+")";function a(t){var a=o("react-compiler-runtime").c(18),i=t.UNSTABLE_renderPolicy,l=t.children,u=t.fetchKey,c=t.fetchPolicy,m=t.variables,p=r("react-relay/relay-hooks/useRelayEnvironment")(),_;a[0]===Symbol.for("react.memo_cache_sentinel")?(_={force:!0},a[0]=_):_=a[0];var f=r("react-relay/relay-hooks/useMemoOperationDescriptor")(e,m,_),g;a[1]!==p?(g=d(p),a[1]=p,a[2]=g):g=a[2];var h=g,y;a[3]!==p||a[4]!==f?(y=o("relay-runtime").__internal.fetchQuery(p,f),a[3]=p,a[4]=f,a[5]=y):y=a[5];var C;a[6]!==i||a[7]!==u||a[8]!==c||a[9]!==f||a[10]!==y?(C={componentDisplayName:n,fetchKey:u,fetchObservable:y,fetchPolicy:c,query:f,renderPolicy:i},a[6]=i,a[7]=u,a[8]=c,a[9]=f,a[10]=y,a[11]=C):C=a[11];var b=r("react-relay/relay-hooks/useLazyLoadQueryNode")(C),v;a[12]!==l||a[13]!==b?(v=l(b),a[12]=l,a[13]=b,a[14]=v):v=a[14];var S=v,R;return a[15]!==h||a[16]!==S?(R=s.jsx(r("react-relay/ReactRelayContext").Provider,{value:h,children:S}),a[15]=h,a[16]=S,a[17]=R):R=a[17],R}return a.displayName=n,a}function d(e){return{environment:e}}l.default=c}),98);
__d("CometRelay_DEPRECATED",["createSuspenseFragmentContainer_DEPRECATED","createSuspensePaginationContainer_DEPRECATED","createSuspenseQueryRenderer_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";i.exports={createSuspenseFragmentContainer_DEPRECATED:r("createSuspenseFragmentContainer_DEPRECATED"),createSuspensePaginationContainer_DEPRECATED:r("createSuspensePaginationContainer_DEPRECATED"),createSuspenseQueryRenderer_DEPRECATED:r("createSuspenseQueryRenderer_DEPRECATED")}}),34);
__d("LWICometProductUtils",["BoostedComponentProduct","FBLogger","getJSEnumSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getJSEnumSafe")(r("BoostedComponentProduct"),e);if(t==null)throw r("FBLogger")("pages_lwi").mustfixThrow("product should be a valid BoostedComponentProduct");return t}l.productFromGraphQLEnumToJSEnumStrict=e}),98);
__d("UFI2CometRelayBridge",["createSuspenseFragmentContainer_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";l.createFragmentContainer=r("createSuspenseFragmentContainer_DEPRECATED")}),98);/*FB_PKG_DELIM*/
__d("CometBatchNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30300156509571373"}),null);
__d("CometBatchNotificationsStateChangeSubscription.graphql",["CometBatchNotificationsStateChangeSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"environment"},t={defaultValue:null,kind:"LocalArgument",name:"input"},r=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"BatchNotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"batch_notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"CometBatchNotificationsStateChangeSubscription",selections:r,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"CometBatchNotificationsStateChangeSubscription",selections:r},params:{id:n("CometBatchNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"batch_notification_state_change_subscribe"},name:"CometBatchNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("CometBatchNotificationsStateChangeSubscription",["CometBatchNotificationsStateChangeSubscription.graphql","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometBatchNotificationsStateChangeSubscription.graphql");function u(e){return o("CometRelay").requestSubscription(e,{subscription:s,variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE",query_flags:["INCLUDE_WA_P2B_NOTIFS"]}}})}l.subscription=s,l.batchSubscribe=u}),98);
__d("CometNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23864641996495578"}),null);
__d("CometNotificationsStateChangeSubscription.graphql",["CometNotificationsStateChangeSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"environment"},t={defaultValue:null,kind:"LocalArgument",name:"input"},r=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"CometNotificationsStateChangeSubscription",selections:r,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"CometNotificationsStateChangeSubscription",selections:r},params:{id:n("CometNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("CometNotificationsStateChangeSubscription",["CometNotificationsStateChangeSubscription.graphql","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometNotificationsStateChangeSubscription.graphql");function u(e){return o("CometRelay").requestSubscription(e,{subscription:s,updater:function(t,n){if(n){var e=n.notification_state_change_subscribe;if(e){var r=e==null?void 0:e.notification,o=e==null?void 0:e.seen_state;if(!(!r||!o)&&r.id!=null&&r.id!==""){var a=t.get(r.id);a&&a.setValue(o,"seen_state")}}}},variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE",query_flags:["INCLUDE_WA_P2B_NOTIFS"]}}})}var c={subscribe:u,subscription:s};l.default=c}),98);
__d("FBNucleusArrowsCircleFilled24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M2.75 12a9.25 9.25 0 0 1 16.07-6.25H18a1.25 1.25 0 1 0 0 2.5h3.5a1.75 1.75 0 0 0 1.75-1.75V3a1.25 1.25 0 1 0-2.5 0v1.158A11.722 11.722 0 0 0 12 .25C5.51.25.25 5.51.25 12a1.25 1.25 0 1 0 2.5 0zm21 0a1.25 1.25 0 1 0-2.5 0 9.25 9.25 0 0 1-16.07 6.25H6a1.25 1.25 0 1 0 0-2.5H2.5A1.75 1.75 0 0 0 .75 17.5V21a1.25 1.25 0 1 0 2.5 0v-1.158A11.722 11.722 0 0 0 12 23.75c6.49 0 11.75-5.26 11.75-11.75z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=24,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSArrowsCircleFilled24Icon",["cr:14428"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14428")}),98);
__d("FDSArrowsCircleFilled24PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("538038"),24),u=e;l.default=u}),98);
__d("LSCheckThreadConsistency",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("threads",e[0]),r[0].set("metadata",e[1]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"check-thread-consistency",t.i64.cast([0,160019]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckThreadConsistencyStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCheckThreadConsistencyStoredProcedure",["LSCheckThreadConsistency","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCheckThreadConsistency"),a.threads,a.metadata);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMarkBumpedThreadsSeen",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.islc(t.filter(t.db.table(9).fetchDesc([[[e[0]]],"secondaryParentThreadKeyLastActivityTimestampMs"]),function(n){return t.i64.eq(n.secondaryParentThreadKey,e[0])&&[t.i64.cast([0,18]),t.i64.cast([0,23]),t.i64.cast([0,21]),t.i64.cast([0,27])].some(function(e){return t.i64.eq(n.threadType,e)})}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[0]=a.lastActivityTimestampMs,t.i64.gt(r[0],t.i64.cast([0,0]))?t.db.table(35).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[0]})},function(o){return r[2]=new t.Map,r[2].set("parent_thread_key",e[0]),r[2].set("last_seen_time_ms",r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[3])}]):(a=l.item,t.i64.lt(a.lastSeenRequestTimestampMs,r[0])?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[0]})},function(o){return r[2]=new t.Map,r[2].set("parent_thread_key",e[0]),r[2].set("last_seen_time_ms",r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[3])}]):t.resolve())}):t.resolve())})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkBumpedThreadsSeenStoredProcedure",e.__tables__=["threads","folder_metadata"],a.exports=e}),null);
__d("LSMarkBumpedThreadsSeenStoredProcedure",["LSMarkBumpedThreadsSeen","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkBumpedThreadsSeen"),a.secondaryParentThreadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMarkFolderSeen",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=void 0:(t=o.item,r[0]=t.threadType)})},function(o){return t.i64.eq(r[0],t.i64.cast([0,17]))?t.sequence([function(n){return r[2]=t.i64.of_float(Date.now()),t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastReadWatermarkTimestampMs:r[2]})})},function(o){return r[3]=t.i64.of_float(Date.now()),t.i64.gt(r[3],t.i64.cast([0,0]))?t.db.table(35).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[3]})},function(o){return r[6]=new t.Map,r[6].set("parent_thread_key",e[0]),r[6].set("last_seen_time_ms",r[3]),r[7]=t.toJSON(r[6]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[7])}]):(a=l.item,t.i64.lt(a.lastSeenRequestTimestampMs,r[3])?t.sequence([function(n){return t.forEach(t.db.table(35).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastSeenRequestTimestampMs:r[3]})})},function(o){return r[6]=new t.Map,r[6].set("parent_thread_key",e[0]),r[6].set("last_seen_time_ms",r[3]),r[7]=t.toJSON(r[6]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[7])}]):t.resolve())}):t.resolve()},function(n){return r[4]=t.i64.of_float(Date.now()),t.forEach(t.db.table(162).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({readTimestampMs:r[4]})})}]):t.sequence([function(n){return t.islc(t.sortBy(t.filter(t.db.table(276).fetch(),function(n){return t.i64.eq(n.folderType,e[0])}),[["lastActivityAuthoritativeTsMs","DESC"]]),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o=e.done,a=e.value;return o?r[2]=t.i64.cast([0,0]):(n=a.item,r[9]=n.lastActivityAuthoritativeTsMs,t.i64.neq(r[9],void 0)?r[8]=r[9]:r[8]=t.i64.cast([0,0]),r[2]=r[8])})},function(n){return t.islc(t.db.table(9).fetchDesc([[[e[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o=e.done,a=e.value;return o?r[4]=t.i64.cast([0,0]):(n=a.item,r[9]=n.lastActivityTimestampMs,t.i64.neq(r[9],void 0)?r[8]=r[9]:r[8]=t.i64.cast([0,0]),r[4]=r[8])})},function(n){return r[7]=t.i64.gt(r[2],r[4])?r[2]:r[4],r[6]=t.i64.of_float(Date.now()),t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastReadWatermarkTimestampMs:r[6]})})},function(o){return t.i64.gt(r[7],t.i64.cast([0,0]))?t.db.table(35).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[7]})},function(o){return r[9]=new t.Map,r[9].set("parent_thread_key",e[0]),r[9].set("last_seen_time_ms",r[7]),r[10]=t.toJSON(r[9]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[10])}]):(a=l.item,t.i64.lt(a.lastSeenRequestTimestampMs,r[7])?t.sequence([function(n){return t.forEach(t.db.table(35).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastSeenRequestTimestampMs:r[7]})})},function(o){return r[9]=new t.Map,r[9].set("parent_thread_key",e[0]),r[9].set("last_seen_time_ms",r[7]),r[10]=t.toJSON(r[9]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[10])}]):t.resolve())}):t.resolve()}])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkFolderSeenStoredProcedure",e.__tables__=["threads","folder_metadata","community_folders","client_threads"],a.exports=e}),null);
__d("LSMarkFolderSeenStoredProcedure",["LSMarkFolderSeen","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkFolderSeen"),a.parentThreadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUserVisibleErrorsUtil",["LSFactory","LSRemoveErrorStoredProcedure","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){r("promiseDone")(e.runInTransaction(function(e){return r("LSRemoveErrorStoredProcedure")(r("LSFactory")(e),{errorId:t})},"readwrite",void 0,void 0,i.id+":24"))}l.removeUserVisibleErrorFromTable=e}),98);
__d("MAWThreadConsistencyLogger",["FBLogger","I64","LSAuthorityLevel","LSCheckThreadConsistencyStoredProcedure","LSDatabaseSingleton","LSFactory","LSMessagingThreadTypeUtil","LSShape","LSVec","ODS","ReQL","WAArrayZip","clearInterval","justknobx","promiseDone","qex","setInterval"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=20,d=r("justknobx")._("3207"),m=!1,p=null;function _(){m||(m=!0,r("clearInterval")(p),p=r("setInterval")(function(){document.visibilityState==="visible"&&r("promiseDone")(f())},d*1e3))}async function f(){var t=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("promiseDone")(t.runInTransaction(async function(e){(s||(s=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","initiate_snapshot");var t=await o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(e.threads.index("lastActivityTimestampMs")).filter(g).take(c));if(t.length===0){(s||(s=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","no_e2ee_threads_fetched_on_client");return}var n;r("qex")._("18")?n=await Promise.all(t.map(function(t){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(t.threadKey))})):n=await Promise.all(t.map(function(t){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages.index("messageDisplayOrder")).getKeyRange(t.threadKey))}));var a=o("WAArrayZip").zip(t,n).map(function(e){var t=e[0],n=e[1];return o("LSShape").ofRecord({is_last_activity_optimistic:h(n),last_activity_timestamp_ms:t.lastActivityTimestampMs,last_read_timestamp_ms:t.lastReadWatermarkTimestampMs,thread_key:t.threadKey})});return r("LSCheckThreadConsistencyStoredProcedure")(r("LSFactory")(e),{metadata:o("LSShape").ofRecord({client_snapshot_timestamp_ms:(u||(u=o("I64"))).of_float(Date.now()),session_timestamp_ms:u.of_int32(Math.round(window.performance.now()))}),threads:r("LSVec").ofArray(a)})},"readonly",void 0,void 0,i.id+":57"),function(){return(s||(s=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","send_snapshot")},function(e){r("FBLogger")("maw_tc_metric").catching(e).warn("failed to send tc metric snapshot")})}function g(e){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)&&e.folderName==="inbox"&&(u||(u=o("I64"))).to_int32(e.authorityLevel)>=r("LSAuthorityLevel").AUTHORITATIVE}function h(e){return e==null?!1:(u||(u=o("I64"))).to_int32(e.authorityLevel)<r("LSAuthorityLevel").AUTHORITATIVE}l.startMAWThreadConsistencyLogger=_,l.MAWThreadConsistencyLoggerTakeSnapshot=f}),98);
__d("MWCMMarkBumpedThreadsSeen",["LSFactory","LSMarkBumpedThreadsSeenStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){e!=null&&await r("LSMarkBumpedThreadsSeenStoredProcedure")(r("LSFactory")(t),{secondaryParentThreadKey:e})}l.MWCMMarkBumpedThreadsSeen=e}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.profilePictureLargeUrlExpirationTimestampMs;if(t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)){var n;return(n=e.profilePictureLargeFallbackUrl)!=null?n:e.profilePictureLargeUrl}else return e.profilePictureLargeUrl}l.default=e}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","ReQL","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","promiseDone"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;async function c(t,n,a){var i,l,s;if(((i=Notification)==null?void 0:i.permission)==="granted"){var u=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n.threadKey)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange(n.senderId)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(n.threadKey,n.senderId)),o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.attachments).getKeyRange(n.threadKey,n.messageId))]),c=u[0],_=u[1],f=u[2],g=u[3];if(!(c==null||_==null||f==null)){var h=o("LSMessagingThreadTypeUtil").isGroup(c.threadType),y=d(h,c.threadName,f.nickname,_.name),C=m(n,g),b=await p(g,o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)),v=new Notification(y,{body:C,icon:(l=(s=r("getLSMediaThreadPictureUrl")(c))!=null?s:r("getLSMediaContactProfilePictureLargeUrl")(_))!=null?l:r("getLSMediaContactProfilePictureUrl")(_),image:b,tag:n.messageId,timestamp:(e||(e=o("I64"))).to_float(n.timestampMs)});v.onclick=function(){window.focus(),r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n.threadKey)),function(e){e!=null&&a.openInbox({threadKey:n.threadKey,threadType:e.threadType},"desktopNotification")})}}}}function d(e,t,n,r){var o=n!=null?n:r;return e&&t!=null?s._(/*BTDS*/"{senderName} to {threadName}",[s._param("senderName",o),s._param("threadName",t)]).toString():e?s._(/*BTDS*/"{senderName} to your group",[s._param("senderName",o)]).toString():o}function m(e,t){var o,a=e.text,i=a!=null?n("cr:2472")==null?a:n("cr:2472").unvault(a):null;return i!=null&&i!==""?i:(o=r("getMWPAttachmentMessageAnnouncement")(t,!1))==null?void 0:o.toString()}async function p(t,n){if(t.length!==0){var a=t[0];if(!n)return o("LSMediaUrlAttachment").previewUrl(a);var i=a.attachmentFbid,l=a.attachmentType,s=a.authorityLevel;if(!(i===(e||(e=o("I64"))).to_string((e||(e=o("I64"))).max_int)&&(e||(e=o("I64"))).equal(s,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))))switch(!0){case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):try{return o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(e){if(e instanceof Promise)return e;throw e}case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)):if(a.previewUrl!=null)return o("LSMediaUrlAttachment").previewUrl(a);try{return o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MWDesktopNotifications")}catch(e){if(e instanceof Promise)return e;throw e}case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)):case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)):case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):try{return o("MAWAttachmentBlob.react").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(e){if(e instanceof Promise)return e;throw e}}}}l.triggerLocalNotification=c}),226);
__d("MWPMarkSeenDeferred",["LSFactory","LSMarkFolderSeenStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){e!=null&&await r("LSMarkFolderSeenStoredProcedure")(r("LSFactory")(t),{parentThreadKey:e})}l.markSeen=e}),98);
__d("MWXListCellHoverActions.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={action:{marginInlineStart:"x13fj5qh",$$css:!0},menuButtonContainer:{alignItems:"x6s0dn4",bottom:"x1hgdm3",display:"x78zum5",flexDirection:"x1q0g3np",insetInlineEnd:"x9olu1o",left:null,right:null,pointerEvents:"x67bb7w",position:"x10l6tqk",top:"x1jl3hli",$$css:!0},visuallyHidden:{clip:"x1qvwoe0",clipPath:"x1vzd84k",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1i1rx1s",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=e.hidden,a=r&&u.visuallyHidden,i;t[0]!==a?(i=[u.menuButtonContainer,a],t[0]=a,t[1]=i):i=t[1];var l;t[2]!==n?(l=Array.isArray(n)?n.filter(m).map(d):n,t[2]=n,t[3]=l):l=t[3];var c;return t[4]!==i||t[5]!==l?(c=s.jsx(o("react-strict-dom").html.div,{role:"gridcell",style:i,children:l}),t[4]=i,t[5]=l,t[6]=c):c=t[6],c}function d(e,t){return s.jsx(o("react-strict-dom").html.div,{style:u.action,children:e},t)}d.displayName=d.name+" [from "+i.id+"]";function m(e){return e!=null}l.default=c}),98);
__d("MWXListCellHoverButton.react",["fbt","FocusWithinHandler.react","MWXCircleButton.react","MWXEntryPointPopoverTrigger.react","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["popoverProps"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useState;function _(t){var n=o("react-compiler-runtime").c(31),a=t.label,i=t.onFocusChange,l=t.onHoverChange,u=t.onMenuStateChange,d=t.onPress,m=t.size,_=t.testid,f=p(!1),g=f[0],h=f[1],y;n[0]!==u?(y=function(t){h(t),u!=null&&u(t)},n[0]=u,n[1]=y):y=n[1];var C=y,b;n[2]!==g||n[3]!==a||n[4]!==i||n[5]!==l||n[6]!==d||n[7]!==m||n[8]!==_?(b=function(t,n,u,p,_){return c.jsx(o("react-strict-dom").html.div,{ref:t,children:c.jsx(r("FocusWithinHandler.react"),{onFocusChange:i,children:function(t){return c.jsx(o("react-strict-dom").html.div,{children:c.jsx(r("MWXCircleButton.react"),{"aria-controls":"thread-list-menu-buttons","aria-expanded":g,"aria-haspopup":"menu","aria-label":a!=null?a:s._(/*BTDS*/"Menu"),color:"secondary",icon:r("MWXIconDots3Horizontal"),onHoverIn:function(t){u&&u(t),l&&l(!0)},onHoverOut:function(t){p&&p(),l&&l(!1)},onPress:function(){d&&d(),n()},onPressIn:_,size:m!=null?m:36,testid:void 0,type:"overlay-raised"})})}})})},n[2]=g,n[3]=a,n[4]=i,n[5]=l,n[6]=d,n[7]=m,n[8]=_,n[9]=b):b=n[9];var v=b,S;n[10]!==C||n[11]!==t.popoverFallback||n[12]!==t.popoverProps?(S={align:"middle",fallback:t.popoverFallback,onVisibilityChange:C,popoverProps:t.popoverProps,position:"below"},n[10]=C,n[11]=t.popoverFallback,n[12]=t.popoverProps,n[13]=S):S=n[13];var R=S;if(t.popoverTriggerType==="lazy"){var L;n[14]!==v?(L=function(t,n){return v(t,n)},n[14]=v,n[15]=L):L=n[15];var E;return n[16]!==R||n[17]!==t.popoverResource||n[18]!==L?(E=c.jsx(r("MWXLazyPopoverTrigger.react"),babelHelpers.extends({},R,{popoverResource:t.popoverResource,children:L})),n[16]=R,n[17]=t.popoverResource,n[18]=L,n[19]=E):E=n[19],E}else{var k,I;n[20]!==R?(k=R.popoverProps,I=babelHelpers.objectWithoutPropertiesLoose(R,e),n[20]=R,n[21]=k,n[22]=I):(k=n[21],I=n[22]);var T;n[23]!==v?(T=function(t,n,r,o,a,i){return v(t,n,o,a,i)},n[23]=v,n[24]=T):T=n[24];var D;return n[25]!==k||n[26]!==t.entryPointParams||n[27]!==t.popoverEntryPoint||n[28]!==I||n[29]!==T?(D=c.jsx(r("MWXEntryPointPopoverTrigger.react"),babelHelpers.extends({},I,{entryPointParams:t.entryPointParams,otherProps:k,popoverEntryPoint:t.popoverEntryPoint,preloadTrigger:"button_aggressive",children:T})),n[25]=k,n[26]=t.entryPointParams,n[27]=t.popoverEntryPoint,n[28]=I,n[29]=T,n[30]=D):D=n[30],D}}l.default=_}),226);
__d("useMWGetThreadTitleForLabel",["mwCMIsAnyCMThread","react-compiler-runtime","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=e.threadName,a=e.threadType,i;t[0]!==n||t[1]!==a?(i=r("mwCMIsAnyCMThread")(a)||n!=null,t[0]=n,t[1]=a,t[2]=i):i=t[2];var l=r("useLSGetThreadTitle.react")(e,i).threadTitle;return n!=null?n:l}l.default=e}),98);
__d("MWThreadListItemMoreActions.react",["fbt","I64","JSResourceForInteraction","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWXListCellHoverActions.react","MWXListCellHoverButton.react","MWXPopoverLoadingState.react","MessageRequestsBulkActionsContext.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","gkx","react","react-compiler-runtime","useMWGetThreadTitleForLabel"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useMemo,_=r("JSResourceForInteraction")("MWThreadListHoverButtonDropdownMenu.react").__setRef("MWThreadListItemMoreActions.react");function f(e){var t=o("react-compiler-runtime").c(21),a=e.menuButtonVisibilityState,i=e.messagingEntrypoint,l=e.onClose,d=e.selected,p=e.thread,f=p.threadKey,g=p.threadType,h;t[0]!==f?(h=(u||(u=o("I64"))).to_string(f),t[0]=f,t[1]=h):h=t[1];var y=h,C=o("MWPIsThreadUnread").useIsThreadUnread(f),b=a[0],v=a[1],S=v.setMenuBtnFocused,R=v.setMenuBtnHovered,L=v.setMenuOpened,E=r("MessengerWebUXLogger").useInteractionLogger(),k=m(r("MessageRequestsBulkActionsContext.react")),I=k.isBulkActionsEditMode,T=r("useMWGetThreadTitleForLabel")(p),D;t[2]!==T?(D=T!=null?s._(/*BTDS*/"More options for {chat_name}",[s._param("chat_name",T)]):s._(/*BTDS*/"More options for this chat"),t[2]=T,t[3]=D):D=t[3];var x=D,$;t[4]!==y||t[5]!==I||t[6]!==b||t[7]!==C||t[8]!==x||t[9]!==E||t[10]!==i||t[11]!==l||t[12]!==d||t[13]!==S||t[14]!==R||t[15]!==L||t[16]!==f||t[17]!==g?($=I?null:c.jsx(r("MWXListCellHoverActions.react"),{hidden:!b,children:c.jsx(r("MWXListCellHoverButton.react"),{label:x,onFocusChange:S,onHoverChange:R,onMenuStateChange:function(t){return t&&(n("cr:2580")&&n("cr:2580")({threadKey:f,threadType:g},"open_thread_settings_menu",i),E==null||E({eventName:"open_thread_overflow_menu",threadKey:f,threadType:g})),L(t)},popoverFallback:c.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{fbid:y,isUnread:C,messagingEntrypoint:i,onCloseJewel:l,selected:d,threadKey:f},popoverResource:_,popoverTriggerType:"lazy",size:r("gkx")("23219")?32:void 0,testid:void 0})}),t[4]=y,t[5]=I,t[6]=b,t[7]=C,t[8]=x,t[9]=E,t[10]=i,t[11]=l,t[12]=d,t[13]=S,t[14]=R,t[15]=L,t[16]=f,t[17]=g,t[18]=$):$=t[18];var P;return t[19]!==$?(P=c.jsx(o("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_list_options",children:$})}),t[19]=$,t[20]=P):P=t[20],P}l.default=f}),226);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","FDSArrowsCircleFilled24Icon","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useRef;function _(){var e=o("react-compiler-runtime").c(10),t=p(null),a=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),i=a.startFlow,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=n("cr:6570")?c.jsx(n("cr:6570"),{color:"primary",icon:r("FDSArrowsCircleFilled24Icon"),isDecorative:!0,size:24}):void 0,e[0]=l):l=e[0];var d=l,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=n("cr:1376")?new(n("cr:1376"))(u("685423"),32,32):void 0,e[1]=m):m=e[1];var _=m,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=r("BaseToasterStateManager").getInstance(),e[2]=f):f=e[2];var g=f,h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=function(){t.current!=null&&(g.expire(t.current),t.current=null)},e[3]=h):h=e[3];var y=h,C;e[4]!==i?(C=function(){y(),t.current=o("mwPushToast").mwPushToast({body:s._(/*BTDS*/"Restoring messages..."),icon:{comet:d,mds:_},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),i({event:o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},e[4]=i,e[5]=C):C=e[5];var b=C,v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=function(){y(),o("mwPushToast").mwPushErrorToast({body:s._(/*BTDS*/"Failed to restore end-to-end encrypted messages. Try again.")})},e[6]=v):v=e[6];var S=v,R;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=function(){var e=n("cr:6570")?c.jsx(n("cr:6570"),{icon:r("FDSCheckmarkFilled24Icon"),isDecorative:!0,size:24}):void 0,a=n("cr:4027")?o("SVGIcon").svgIcon(n("cr:4027")):void 0;y(),t.current=o("mwPushToast").mwPushToast({body:s._(/*BTDS*/"End-to-end encrypted messages restored."),icon:{comet:e,mds:a},testid:"mw-chat-encrypted-backups-restore-successful-toast"}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast"),o("MWChatEncryptedBackupsLogging").endSuccess({event:o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},e[7]=R):R=e[7];var L=R,E;return e[8]!==b?(E={hideToast:y,showErrorToast:S,showInProgressToast:b,showSuccessToast:L},e[8]=b,e[9]=E):E=e[9],E}l.default=_}),226);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var e=function(t,n){this.key=t,(n==="ecb"||n==="cbc")&&(this.mode=n),this.sBox0=e.sBox0.slice(),this.sBox1=e.sBox1.slice(),this.sBox2=e.sBox2.slice(),this.sBox3=e.sBox3.slice(),this.pArray=e.pArray.slice(),this.generateSubkeys(t)};e.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(e,t){if(this.mode==="ecb")return this.encryptECB(e);if(this.mode==="cbc")return this.encryptCBC(e,t);throw new Error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")},decrypt:function(e,t){if(this.mode==="ecb")return this.decryptECB(e);if(this.mode==="cbc")return this.decryptCBC(e,t);throw new Error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")},encryptECB:function(e){e=this.utf8Decode(e);for(var t=Math.ceil(e.length/8),n="",r=0;r<t;r++){var o=e.substr(r*8,8);if(o.length<8)for(var a=8-o.length;0<a--;)o+="\0";var i,l,s=this.split64by32(o);i=s[0],l=s[1],s=this.encipher(i,l),i=s[0],l=s[1],n+=this.num2block32(i)+this.num2block32(l)}return n},encryptCBC:function(e,t){e=this.utf8Decode(e);var n=Math.ceil(e.length/8),r,o,a;a=this.split64by32(t),r=a[0],o=a[1];for(var i="",l=0;l<n;l++){var s=e.substr(l*8,8);if(s.length<8)for(var u=8-s.length;0<u--;)s+="\0";var c,d,m;m=this.split64by32(s),c=m[0],d=m[1],c=this.xor(c,r),d=this.xor(d,o),m=this.encipher(c,d),c=m[0],d=m[1],r=c,o=d,i+=this.num2block32(c)+this.num2block32(d)}return i},decryptECB:function(e){for(var t=Math.ceil(e.length/8),n="",r=0;r<t;r++){var o=e.substr(r*8,8);if(o.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0430: \u0434\u043B\u0438\u043D\u043D\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u0430 8 \u0431\u0430\u044B\u0439\u0442\u0430\u043C.");var a,i,l;l=this.split64by32(o),a=l[0],i=l[1],l=this.decipher(a,i),a=l[0],i=l[1],n+=this.num2block32(a)+this.num2block32(i)}return n=this.utf8Encode(n),n},decryptCBC:function(e,t){var n=Math.ceil(e.length/8),r,o,a,i,l;l=this.split64by32(t),r=l[0],o=l[1];for(var s="",u=0;u<n;u++){var c=e.substr(u*8,8);if(c.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0430: \u0434\u043B\u0438\u043D\u043D\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043C.");var d,m,p;p=this.split64by32(c),d=p[0],m=p[1],a=d,i=m,p=this.decipher(d,m),d=p[0],m=p[1],d=this.xor(d,r),m=this.xor(m,o),r=a,o=i,s+=this.num2block32(d)+this.num2block32(m)}return s=this.utf8Encode(s),s},F:function(e){var t=e>>>24,n=e<<8>>>24,r=e<<16>>>24,o=e<<24>>>24,a=this.addMod32(this.sBox0[t],this.sBox1[n]);return a=this.xor(a,this.sBox2[r]),a=this.addMod32(a,this.sBox3[o]),a},encipher:function(e,t){for(var n,r=0;r<16;r++)e=this.xor(e,this.pArray[r]),t=this.xor(this.F(e),t),n=e,e=t,t=n;return n=e,e=t,t=n,t=this.xor(t,this.pArray[16]),e=this.xor(e,this.pArray[17]),[e,t]},decipher:function(e,t){var n;e=this.xor(e,this.pArray[17]),t=this.xor(t,this.pArray[16]),n=e,e=t,t=n;for(var r=15;r>=0;r--)n=e,e=t,t=n,t=this.xor(this.F(e),t),e=this.xor(e,this.pArray[r]);return[e,t]},generateSubkeys:function(e){var t=0,n=0,r,o;for(r=0;r<18;r++){for(o=4;o>0;o--)t=this.fixNegative(t<<8|e.charCodeAt(n)),n=(n+1)%e.length;this.pArray[r]=this.xor(this.pArray[r],t),t=0}var a=[0,0];for(r=0;r<18;r+=2)a=this.encipher(a[0],a[1]),this.pArray[r]=a[0],this.pArray[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox0[r]=a[0],this.sBox0[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox1[r]=a[0],this.sBox1[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox2[r]=a[0],this.sBox2[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox3[r]=a[0],this.sBox3[r+1]=a[1]},block32toNum:function(e){return this.fixNegative(e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3))},num2block32:function(e){return String.fromCharCode(e>>>24)+String.fromCharCode(e<<8>>>24)+String.fromCharCode(e<<16>>>24)+String.fromCharCode(e<<24>>>24)},xor:function(e,t){return this.fixNegative(e^t)},addMod32:function(e,t){return this.fixNegative(e+t|0)},fixNegative:function(e){return e>>>0},split64by32:function(e){var t=e.substring(0,4),n=e.substring(4,8);return[this.block32toNum(t),this.block32toNum(n)]},utf8Decode:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},utf8Encode:function(e){for(var t="",n=0,r=0,o=0,a=0;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((r&31)<<6|o&63),n+=2):(o=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63),n+=3);return t},base64Encode:function(e){for(var t="",n,r,o,a,i,l,s,u=0;u<e.length;)n=e.charCodeAt(u++),r=e.charCodeAt(u++),o=e.charCodeAt(u++),a=n>>2,i=(n&3)<<4|r>>4,l=(r&15)<<2|o>>6,s=o&63,isNaN(r)?l=s=64:isNaN(o)&&(s=64),t=t+this.keyStr.charAt(a)+this.keyStr.charAt(i)+this.keyStr.charAt(l)+this.keyStr.charAt(s);return t},base64Decode:function(e){var t="",n,r,o,a,i,l,s,u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)a=this.keyStr.indexOf(e.charAt(u++)),i=this.keyStr.indexOf(e.charAt(u++)),l=this.keyStr.indexOf(e.charAt(u++)),s=this.keyStr.indexOf(e.charAt(u++)),n=a<<2|i>>4,r=(i&15)<<4|l>>2,o=(l&3)<<6|s,t=t+String.fromCharCode(n),l!=64&&(t=t+String.fromCharCode(r)),s!=64&&(t=t+String.fromCharCode(o));return t},trimZeros:function(e){return e.replace(/\0+$/g,"")}},e.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],e.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],e.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],e.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],e.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],l.exports=e}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(t,n,r,o,a,i){a.exports=n("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
__d("BizKitRelayEnvironmentFactory",["cr:9515"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9515")}),98);
__d("CometTahoeEndScreenProgressCircle.react",["ix","FDSIcon.react","fbicon","react","react-compiler-runtime","useInterval"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p=c.useState;function _(e){var t=o("react-compiler-runtime").c(38),n=e.circleDiameter,a=e.circleStrokeColor,i=e.circleStrokeWidth,l=e.iconSize,s=e.isMakingProgress,c=e.onProgressDone,_=e.timeoutSec,g=n===void 0?52:n,h=a===void 0?"var(--always-white)":a,y=i===void 0?4:i,C=l===void 0?32:l,b=g/2,v=b*2*Math.PI,S=v/100,R=p(v),L=R[0],E=R[1],k=p(!1),I=k[0],T=k[1],D;t[0]!==L||t[1]!==s||t[2]!==S||t[3]!==I?(D=!s||I?null:function(){if(L<=2){E(0),T(!0);return}E(L-S)},t[0]=L,t[1]=s,t[2]=S,t[3]=I,t[4]=D):D=t[4];var x;t[5]!==s||t[6]!==I?(x=[s,I],t[5]=s,t[6]=I,t[7]=x):x=t[7],r("useInterval")(D,_*10,x);var $=m(c),P,N;t[8]!==c?(P=function(){$.current=c},N=[c],t[8]=c,t[9]=P,t[10]=N):(P=t[9],N=t[10]),d(P,N);var M,w;t[11]!==I?(w=function(){if(I){var e=$.current;e()}},M=[I],t[11]=I,t[12]=M,t[13]=w):(M=t[12],w=t[13]),d(w,M);var A,F;t[14]===Symbol.for("react.memo_cache_sentinel")?(A={className:"x6s0dn4 x78zum5 xl56j7k"},F="x1plvlek xryxfnj x9tu13d",t[14]=A,t[15]=F):(A=t[14],F=t[15]);var O;t[16]!==g?(O={height:g,width:g},t[16]=g,t[17]=O):O=t[17];var B;t[18]!==b?(B=u.jsx("circle",{cx:b,cy:b,fill:"var(--fds-black-alpha-40)",r:b}),t[18]=b,t[19]=B):B=t[19];var W;t[20]!==h||t[21]!==y||t[22]!==v||t[23]!==L||t[24]!==b?(W=u.jsx("circle",{cx:b,cy:b,fill:"transparent",r:b,stroke:h,strokeDasharray:v,strokeDashoffset:L,strokeWidth:y}),t[20]=h,t[21]=y,t[22]=v,t[23]=L,t[24]=b,t[25]=W):W=t[25];var q;t[26]!==O||t[27]!==B||t[28]!==W?(q=u.jsxs("svg",{className:F,style:O,children:[B,W]}),t[26]=O,t[27]=B,t[28]=W,t[29]=q):q=t[29];var U;t[30]===Symbol.for("react.memo_cache_sentinel")?(U={className:"x1lliihq xr1yuqi x11t971q x4ii5y1 xvc5jky x10l6tqk"},t[30]=U):U=t[30];var V;t[31]!==C?(V=f(C),t[31]=C,t[32]=V):V=t[32];var H;t[33]!==V?(H=u.jsx("div",babelHelpers.extends({},U,{children:u.jsx(r("FDSIcon.react"),{color:"white",icon:V})})),t[33]=V,t[34]=H):H=t[34];var G;return t[35]!==q||t[36]!==H?(G=u.jsxs("div",babelHelpers.extends({},A,{children:[q,H]})),t[35]=q,t[36]=H,t[37]=G):G=t[37],G}function f(e){switch(e){case 20:return o("fbicon")._(s("484863"),20);case 32:return o("fbicon")._(s("582360"),32)}}l.default=_}),98);
__d("E2eeStateTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2}),s=e({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1}),u=e({SENDER_KEY:0,SESSION_KEY:1}),c=e({NOT_SET:0,CONTROL:1,TEST:2}),d=e({NOT_SET:0,CONTROL:1,TEST:2}),m=e({ENABLED:0,DISABLED:1,FALLBACK:2});a.exports={E2eeKeyNegotiationProtocolEnum:u,E2eeStateCapabilitiesEnum:s,E2eeStateP2PSFrameExpStatus:d,InfraMandatedExpStatus:c,KeyNegotiationModeEnum:l,SignalingKeyMessageProtocolEnum:m}}),null);
__d("FBNucleusChevronLeftCircleFilled20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M10 19.5a9.5 9.5 0 1 0 0-19 9.5 9.5 0 0 0 0 19zM8.737 9.823a.25.25 0 0 0 0 .354l2.543 2.543a.75.75 0 1 1-1.06 1.06l-2.543-2.542a1.75 1.75 0 0 1 0-2.475L10.22 6.22a.75.75 0 0 1 1.06 1.06L8.737 9.823z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusCrossCircleOutline20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M13.78 7.28a.75.75 0 0 0-1.061-1.06l-2.72 2.72L7.28 6.22a.75.75 0 1 0-1.06 1.06L8.939 10l-2.72 2.72a.75.75 0 0 0 1.061 1.06L10 11.06l2.719 2.72a.75.75 0 0 0 1.06-1.06L11.06 10l2.72-2.72z"}),s.jsx("path",{d:"M9.75.5A9.25 9.25 0 0 0 .5 9.75v.5a9.25 9.25 0 0 0 9.25 9.25h.5a9.25 9.25 0 0 0 9.25-9.25v-.5A9.25 9.25 0 0 0 10.25.5h-.5zM2 9.75A7.75 7.75 0 0 1 9.75 2h.5A7.75 7.75 0 0 1 18 9.75v.5A7.75 7.75 0 0 1 10.25 18h-.5A7.75 7.75 0 0 1 2 10.25v-.5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusWatchTvFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5.198 1h5.604c.899 0 1.648 0 2.242.08.628.084 1.195.27 1.65.725.456.456.642 1.023.726 1.65.08.595.08 1.345.08 2.243v2.604c0 .899 0 1.648-.08 2.242-.084.628-.27 1.195-.726 1.65-.455.456-1.022.642-1.65.726-.594.08-1.344.08-2.242.08H5.198c-.898 0-1.648 0-2.242-.08-.628-.084-1.195-.27-1.65-.726-.456-.455-.642-1.022-.726-1.65C.5 9.95.5 9.2.5 8.302V5.698C.5 4.8.5 4.05.58 3.456c.084-.628.27-1.195.725-1.65.456-.456 1.023-.642 1.65-.726C3.55 1 4.3 1 5.199 1zm5.052 6.433a.5.5 0 0 0 0-.866l-3-1.732a.5.5 0 0 0-.75.433v3.464a.5.5 0 0 0 .75.433l3-1.732zM5.25 14a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSCamcorderFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("493173"),16),u=e;l.default=u}),98);
__d("FDSChevronLeftCircleFilled20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("527679"),20),u=e;l.default=u}),98);
__d("FDSCrossCircleOutline20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("491584"),20),u=e;l.default=u}),98);
__d("FDSDots3VerticalOutline20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("555291"),20),u=e;l.default=u}),98);
__d("FDSMinusCircleOutline20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("518013"),20),u=e;l.default=u}),98);
__d("FDSRefreshLeftFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("534218"),16),u=e;l.default=u}),98);
__d("FDSWatchTvFilled16Icon",["cr:14109"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14109")}),98);
__d("FDSWatchTvFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("607168"),16),u=e;l.default=u}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e=r("LSJSInMemoryStorage")(o("LSMetadata").schema);l.default=e}),98);
__d("LSPlatformDGWTransport",["DGWClient","DGWLoggingContext","DGWStream","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","LSStreamGroupRef","MWPBumpEntityKey","MessengerWebRegion","MqttConfig","QuickPerformanceLogger","Random","getErrorSafe","gkx","justknobx","promiseDone","qex","qpl","setTimeout","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=r("gkx")("3218"),_=r("gkx")("12101"),f=(e=r("qex")._("2084"))!=null?e:!1,g=(s=r("qex")._("2088"))!=null?s:!1,h=(u=r("qex")._("2092"))!=null?u:!1,y=(c=r("qex")._("2102"))!=null?c:3e4,C=r("justknobx")._("1573"),b=r("justknobx")._("3666"),v=r("qpl")._(701246226,"1285"),S=15,R=0,L=!1,E=new Map,k=null,I=!1,T=null,D={contents:function(){}},x={contents:new Promise(function(e,t){D.contents=e})};function $(e){var t=1*Math.pow(2,e);return t=Math.max(t,1),t=Math.min(t,64),Math.ceil(t*(1e3+o("Random").random()*200))}function P(e,t,n,a){var i;if(T!=null){var l;(l=o("LSStreamGroupRef").streamGroupRef.current)==null||l.streamGroupLoggingContext.logWarn(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","","deviceId:"+e);return}o("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(o("LSStreamGroupRef").streamGroupRef.status="Disconnected"),x.contents=new Promise(function(e,t){D.contents=e});var s=$(R++);g&&R>S&&(R=0);var u="deviceId:"+e+", reconnectMs:"+s+", attempt:"+R+", isClosedLocally:"+String(I);(i=o("LSStreamGroupRef").streamGroupRef.current)==null||i.streamGroupLoggingContext.logWarn(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect","",u),o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect"),T=r("setTimeout")(function(){N(e,t,n,a)},s)}function N(e,t,n,a){var i=r("uuidv4")();o("LSStreamGroupRef").streamGroupRef.currentStreamGroupId=i;var l={authToken:n,authType:a,connectTimeoutMs:b,deviceId:e,keepAliveMs:C,loggingId:i,serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:p};_&&(l.trafficTracing="dgw-"+i),o("MessengerWebRegion").regionNullable!=null&&(l.regionHint=o("MessengerWebRegion").regionNullable);var s={onStreamGroupError:function(r){var t;if(o("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==i){var l;(l=o("LSStreamGroupRef").streamGroupRef.current)==null||l.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError_StaleCallback","Ignored stale callback","deviceId:"+e+", callbackLoggingId:"+i);return}o("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(o("LSStreamGroupRef").streamGroupRef.status="Disconnected",o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Error")),(t=o("LSStreamGroupRef").streamGroupRef.current)==null||t.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",o("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(r),"deviceId:"+e),o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,o("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(r)),o("DGWStreamGroupCallbacks").isRetryableError(r)?(o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),P(e,"reconnect_on_streamgrouperror."+o("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(r),n,a)):o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(r){var t;if(o("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==i){var l;(l=o("LSStreamGroupRef").streamGroupRef.current)==null||l.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain_StaleCallback","Ignored stale callback","deviceId:"+e+", callbackLoggingId:"+i);return}o("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+r),(t=o("LSStreamGroupRef").streamGroupRef.current)==null||t.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain",r,"deviceId:"+e),P(e,"reconnect_on_streamgroupmustdrain",n,a)},onStreamGroupTransportClose:function(){var t;if(o("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==i){var r;(r=o("LSStreamGroupRef").streamGroupRef.current)==null||r.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose_StaleCallback","Ignored stale callback","deviceId:"+e+", callbackLoggingId:"+i);return}o("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(o("LSStreamGroupRef").streamGroupRef.status="Disconnected",o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Close")),(t=o("LSStreamGroupRef").streamGroupRef.current)==null||t.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+e),P(e,"onStreamGroupTransportClose",n,a)}};E.clear(),o("LSStreamGroupRef").streamGroupRef.status="Connecting";var u=r("DGWClient")().createStreamGroup(s,l),c="deviceId:"+e+", runtime_site_is_comet_fb_web:"+String(r("gkx")("2116"))+", endpoint:"+r("MqttConfig").endpoint+", reason:"+t;return u.streamGroupLoggingContext.logWarn(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport","",c),r("promiseDone")(u.initTransport(),function(n){var r;if(T=null,o("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==i){var a;(a=o("LSStreamGroupRef").streamGroupRef.current)==null||a.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen_StaleCallback","Ignored stale callback","deviceId:"+e+", callbackLoggingId:"+i);return}o("LSLogHistory").log("StreamGroupTransport Connected","debug"),o("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(o("LSStreamGroupRef").streamGroupRef.status="Connected",o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Connected")),L&&o("LSStreamGroupRef").streamGroupRef.reconnectHandler&&o("LSStreamGroupRef").streamGroupRef.reconnectHandler(3),L=!0,(r=o("LSStreamGroupRef").streamGroupRef.current)==null||r.streamGroupLoggingContext.logWarn(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","","deviceId:"+e+", reason:"+t),R=0,D.contents()},function(t){var r;if(T=null,o("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==i){var l;(l=o("LSStreamGroupRef").streamGroupRef.current)==null||l.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError_StaleCallback","Ignored stale callback","deviceId:"+e+", callbackLoggingId:"+i);return}o("LSLogHistory").log("StreamGroupTransport onError","debug"),o("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(o("LSStreamGroupRef").streamGroupRef.status="Disconnected",o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected",t)),(r=o("LSStreamGroupRef").streamGroupRef.current)==null||r.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(t),"deviceId:"+e),o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError"),t!==o("DGWStream").StreamError.UNAUTHORIZED&&P(e,"reconnect_on_streamgrouptransportonerror."+String(t),n,a)}),o("LSStreamGroupRef").streamGroupRef.current=u,o("LSStreamGroupRef").streamGroupRef.current}async function M(e,t,n,a){n===void 0&&(n=!0);var i=o("LSStreamGroupRef").streamGroupRef.current;if(i==null)throw r("FBLogger")("ls_web_init").mustfixThrow("LS Stream Group not initialized");var l=new TextDecoder,s={};o("LSPlatformDGWHostnameOverride").useHostNameOverride&&o("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(s["javascript-sandbox"]=o("LSPlatformDGWHostnameOverride").hostNameOverride);try{var u=r("uuidv4")(),c=await i.establishStream({ackTimeoutMs:y,groupedStreamHeaders:s,loggingId:u,verboseLoggingEnabled:p},{onClose:function(){o("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(t){var e=l.decode(t);e.length>0&&o("LSStreamGroupRef").streamGroupRef.subscribers.forEach(function(t){t(e)})},onError:function(t){o("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(t){o("LSLogHistory").log("Stream finished sending data","debug"),t.loggingContext().logEvent(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),t.close()},onStreamMustDrain:function(t){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),o("LSLogHistory").log("Stream must drain","debug"),t.loggingContext().logEvent(o("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),t.close()}},t,n,a);return o("LSLogHistory").log("Stream Connected","debug"),c}catch(t){throw o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+e),o("LSLogHistory").log("Error Establishing Stream. Disconnected","debug"),t}}var w="Disconnected",A=function(){return w};function F(e,t,n,r){return k||(k=O(e,t,"init_single_transport_instance",n,r)),k}function O(e,t,n,a,i){var l=new TextEncoder;return N(t,n,a,i),{cleanup:function(){var e;I=!0,(e=o("LSStreamGroupRef").streamGroupRef.current)==null||e.close(),o("LSStreamGroupRef").streamGroupRef.reconnectHandler=null,o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null,o("LSStreamGroupRef").streamGroupRef.subscribers.clear()},logEvent:function(t){var e;(e=o("LSStreamGroupRef").streamGroupRef.current)==null||e.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,t)},onConnectionStatusChange:function(t){return o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=t,function(){o("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null}},onReconnect:function(t){return o("LSStreamGroupRef").streamGroupRef.reconnectHandler=t,function(){o("LSStreamGroupRef").streamGroupRef.reconnectHandler=null}},publish:async function(n,s,u){var e=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);(m||(m=r("QuickPerformanceLogger"))).markerStart(v,e),m.markerAnnotate(v,{int:{database:u},string:{streamGroupId:o("LSStreamGroupRef").getTransportId()}},{instanceKey:e});var c=(d||(d=o("LSIntEnum"))).toNumber(s);try{o("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(h&&o("LSStreamGroupRef").streamGroupRef.status==="Disconnected"&&((m||(m=r("QuickPerformanceLogger"))).markerPoint(v,"reconnect",{instanceKey:e}),P(t,"reconnect_when_publish",a,i)),(m||(m=r("QuickPerformanceLogger"))).markerPoint(v,"wait_for_connection",{instanceKey:e}),await x.contents.catch(function(){var e;return o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+c),(e=o("LSStreamGroupRef").streamGroupRef.current)==null||e.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(c)),Promise.reject({RE_EXN_ID:o("LSPlatformRealtimeTransport").NotConnected})})),(m||(m=r("QuickPerformanceLogger"))).markerPoint(v,"send_message",{instanceKey:e});var p=(d||(d=o("LSIntEnum"))).unwrapIntEnum(s)===1||(d||(d=o("LSIntEnum"))).unwrapIntEnum(s)===2;if(p&&E.has(u)){var _=E.get(u);await(_==null?void 0:_.send(l.encode(n)))}else{var g=(d||(d=o("LSIntEnum"))).unwrapIntEnum(s)!==4,y={int:{databaseType:u,requestType:c}},C=await M(c,l.encode(n),g,y);g&&(m||(m=r("QuickPerformanceLogger"))).markerPoint(v,"send_message_acked",{instanceKey:e}),(m||(m=r("QuickPerformanceLogger"))).markerEnd(v,2,e),p&&E.set(u,C)}}catch(t){var b;if(t===o("DGWStream").StreamError.ACK_TIMEOUT&&(m||(m=r("QuickPerformanceLogger"))).markerPoint(v,"ack_timeout",{instanceKey:e}),(m||(m=r("QuickPerformanceLogger"))).markerEnd(v,3,e),r("getErrorSafe")(t).message==="Max number of stream IDs reached"){var S;o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+c),(S=o("LSStreamGroupRef").streamGroupRef.current)==null||S.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream","StreamIdLimitExceeded",c.toString())}o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+c),(b=o("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logError(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",c.toString());var R=f&&(d||(d=o("LSIntEnum"))).unwrapIntEnum(s)===3;return R?Promise.resolve():Promise.reject(t)}},subscribe:function(t){return o("LSStreamGroupRef").streamGroupRef.subscribers.set(t,t),function(){o("LSStreamGroupRef").streamGroupRef.subscribers.delete(t)}}}}l.getStatusForDebugging=A,l.LSPlatformDGWTransport=F}),98);
__d("LSPlatformRealtimeTransportEager",["LSPlatformRealtimeTransport","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve({LSPlatformRealtimeTransport:o("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport})};l.load=s}),98);
__d("LSPlatformTaskSystemTransportEager",["LSPlatformTaskSystemTransport","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve(r("LSPlatformTaskSystemTransport"))};l.load=s}),98);
__d("MWPlatformTaskSystemEager",["MWPlatformTaskSystem","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve(r("MWPlatformTaskSystem"))};l.load=s}),98);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24429620016626810"}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql",["RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtwebCallBlockedSettingSubscribeResponsePayload",kind:"LinkedField",name:"rtweb_call_blocked_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:t,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:t},params:{id:n("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"rtweb_call_blocked_setting_subscribe"},name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("RTWebCallBlockedSettingSubscription",["CometRelay","RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql");function u(e,t,n){return o("CometRelay").requestSubscription(e,{onNext:n,subscription:s,variables:{input:t}})}l.subscribe=u}),98);
__d("RTWebCometCallMessageLayout.react",["FDSEntityHeaderFacepile.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="/images/chat/webrtc/no_profile_pic.png";function c(e){var t=o("react-compiler-runtime").c(26),n=e.caller,a=e.mainMessage,i=e.participants,l=e.subMessage,u;t[0]!==i?(u=d(i),t[0]=i,t[1]=u):u=t[1];var c=u,p=i.length>1,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x78zum5 x1q0g3np x1nhvcw1"},t[2]=_):_=t[2];var f;t[3]!==n?(f=m(n),t[3]=n,t[4]=f):f=t[4];var g;t[5]!==f?(g=s.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:60,source:{uri:f}}),t[5]=f,t[6]=g):g=t[6];var h,y;t[7]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x78zum5 xdt5ytf xl56j7k x1hm9lzh"},y={className:"xzsf02u x1lkfr7t x117nqv4 xu06os2"},t[7]=h,t[8]=y):(h=t[7],y=t[8]);var C;t[9]!==a?(C=s.jsx("div",babelHelpers.extends({},y,{children:a})),t[9]=a,t[10]=C):C=t[10];var b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xi81zsa x1nxh6w3 xyqdw3p"},t[11]=b):b=t[11];var v;t[12]!==c||t[13]!==p?(v=p?s.jsx(r("FDSEntityHeaderFacepile.react"),{profiles:c}):null,t[12]=c,t[13]=p,t[14]=v):v=t[14];var S;t[15]!==l?(S=s.jsx("div",{children:l}),t[15]=l,t[16]=S):S=t[16];var R;t[17]!==S||t[18]!==v?(R=s.jsxs("div",babelHelpers.extends({},b,{children:[v,S]})),t[17]=S,t[18]=v,t[19]=R):R=t[19];var L;t[20]!==R||t[21]!==C?(L=s.jsxs("div",babelHelpers.extends({},h,{children:[C,R]})),t[20]=R,t[21]=C,t[22]=L):L=t[22];var E;return t[23]!==L||t[24]!==g?(E=s.jsxs("div",babelHelpers.extends({},_,{children:[g,L]})),t[23]=L,t[24]=g,t[25]=E):E=t[25],E}function d(e){return e.length>0?e.map(function(e){return{name:e.name,pictureURI:m(e),profileURL:"#",size:32}}):[]}function m(e){var t;return(t=e.profilePictureUrl)!=null?t:u}l.default=c}),98);
__d("RTWebDropInUtils",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="drop_in_metadata",s=function(n){var t;return t={},t[e]=JSON.stringify({is_drop_in:n?"1":"0"}),t},u=function(t){var e=c(t),n=e.isDropIn;return n},c=function(n){var t=n==null?void 0:n[e];if(t!=null)try{var o=JSON.parse(t);return{isDropIn:o.is_drop_in==="1"}}catch(e){var a=r("getErrorSafe")(e);return r("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message"),{isDropIn:!1}}return{isDropIn:!1}};l.getDropInAppMessages=s,l.isDropInFromAppMessages=u}),98);
__d("XBizSuiteControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/latest/{?*rest}",Object.freeze({boosted_auto_open:!1,auto_open_saved_replies:!1,auto_open_order_tip:!1,auto_open_promote:!1,launch_notifications:!1,launch_onboarding:!1,partnership_messages:!1,preloaded_with_autodraft:!1,unified_composer_mode:"REEL",should_open_edit_fb_profile:!1,long_form_to_reels_playlist_flow:!1,redirect_notice:!1,is_expanded:!1}),void 0),s=e;l.default=s}),98);
__d("XCometGamingVanityControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/gaming/{vanity}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("ZenonSharedWorkerPortManager",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=null,s=null;function u(t){s!=null&&s(t),l=(e||(e=n("Promise"))).resolve(t)}function c(){return l==null&&(l=new(e||(e=n("Promise")))(function(e){s=e})),l}i.setSharedWorkerPort=u,i.getSharedWorkerPort=c}),66);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e="_SearchBootstrapCache_",l=n("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);i.StorageKeyPrefix=e,i.StorageKey=l}),66);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","FBLogger","Promise","WebStorage","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=["storageKey","storageTimespan"],s,u,c=864e5,d=(function(){function t(t){var n=t.storageKey,a=t.storageTimespan,i=a===void 0?c:a,l=babelHelpers.objectWithoutPropertiesLoose(t,e);this.$1=new(r("BaseTypeaheadDataProvider"))(l),this.$3=n!=null?o("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+n:null,this.$4=i;var s=l.queryVariablesBuilder;this.$2=s}var a=t.prototype;return a.fetch=function(t){var e=this,r=this.$3!=null?this.$5(t):null;if(r!=null){var o=this.$2.build(),a=o(t);return(u||(u=n("Promise"))).resolve({requestQueryVariables:a,response:r})}return this.$1.fetch(t).then(function(n){var r=n.response;return r!=null&&e.$3!=null&&e.$6(t,r),n})},a.clearLocalStorage=function(){var e=this.$3,t=(s||(s=r("WebStorage"))).getLocalStorage();t==null||e==null||t.removeItem(e)},a.$5=function(t){var e=this.$3,n=(s||(s=r("WebStorage"))).getLocalStorage();if(n==null||e==null)return null;var o=n.getItem(e);if(o==null)return null;var a;try{a=JSON.parse(o)}catch(e){r("FBLogger")("search").catching(r("getErrorSafe")(e)).mustfix("Cannot deserialize bootstrap response from local storage due to error")}if(a==null)return null;var i=a,l=i.queryVariables,u=i.response,c=i.timestamp,d=this.$2.build(),m=d(t);if(JSON.stringify(l)!==JSON.stringify(m))return n.removeItem(e),null;var p=Date.now();return c+Number(this.$4)>=p?u:(n.removeItem(e),null)},a.$6=function(t,n){var e=this.$3,o=(s||(s=r("WebStorage"))).getLocalStorage();if(!(o==null||e==null)){var a=this.$2.build(),i=a(t);try{var l=Date.now(),u=JSON.stringify({queryVariables:i,response:n,timestamp:l});o.setItem(e,u)}catch(e){r("FBLogger")("search").catching(r("getErrorSafe")(e)).mustfix("Cannot save bootstrap response to local storage due to error")}}},t})();l.default=d}),98);
__d("CometComposerWarnStatusTextLengthForLexical.react",["fbt","CometComposerInlineErrorRenderer.react","CometComposerStylingConstants","MLCCharacterLimitCountPlugin.react","gkx","lengthInUTF8Bytes","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=c.useState;function _(e){var t=e.characterLimit,n=e.customWarningLimit,a=e.lexicalEditor,i=e.xstyle,l=p(null),c=l[0],_=l[1],f=n!=null?n:o("CometComposerStylingConstants").COMPOSER_WARNING_LIMIT,g=d(function(e){e<=f?_(e):e>f&&_(null)},[f]),h=m(function(){return!r("gkx")("16050")||t==null||c==null?c:s._(/*BTDS*/"_j{\"*\":{\"*\":\"A status can't be longer than {limit} characters, but this one is {numCharacters} characters long. please make it a little shorter and try again.\",\"_1\":\"A status can't be longer than {limit} characters, but this one is {numCharacters} character long. please make it a little shorter and try again.\"},\"_1\":{\"*\":\"A status can't be longer than {limit} character, but this one is {numCharacters} characters long. please make it a little shorter and try again.\",\"_1\":\"A status can't be longer than {limit} character, but this one is {numCharacters} character long. please make it a little shorter and try again.\"}}",[s._plural(t),s._plural(t-c),s._param("limit",t),s._param("numCharacters",t-c)])},[t,c]);return u.jsxs(u.Fragment,{children:[u.jsx(r("MLCCharacterLimitCountPlugin.react"),{editor__DEPRECATED:a,limit:t,onChange:g,strlen:r("lengthInUTF8Bytes")}),c!=null&&c<=f&&u.jsx(r("CometComposerInlineErrorRenderer.react"),{error:h,xstyle:i})]})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("getImplicitMentionsGating",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("qex")._("3492");return e==null?!0:e}function s(){return r("qex")._("3495")}l.getIsImplicitMentionsEnabledComposer=e,l.getIsImplicitMentionsMatchLengthComposerOverride=s}),98);
__d("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.entries,n=t.filter(function(e){return l(e)}),r=t.filter(function(e){return!l(e)});return babelHelpers.extends({},e,{entries:n.concat(r)})}function l(e){return e.type==="entry"&&(e.rawData.type==="MENTION_TYPE_SELECTION"||e.rawData.type==="MENTION_TYPE_RESET")}i.default=e}),66);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.fetchPolicy,n=e.gqlQuery,a=e.limit,i=e.matchStrategy,l=e.normalize,u=e.queryVariables,c=e.storageKey,d=s(function(){return r("BaseTypeaheadPayloadDecoratorAddLimit")(a)},[a]),m=o("CometRelay").useRelayEnvironment(),p=r("useDeepEqualMemo")(u),_=s(function(){var e=new(r("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return u}}),o=new(r("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:t},query:n,queryVariablesBuilder:e,relayEnvironment:m,storageKey:c});return new(r("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:o,matchStrategy:i,normalize:l})},[p,m]);return s(function(){return{bootstrap:function(){return _.bootstrap()},fetchCache:function(t){return d(_.fetchCache(t))}}},[_,d])}l.default=u}),98);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24037885915835927"}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},t={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},r={defaultValue:null,kind:"LocalArgument",name:"options"},o={defaultValue:null,kind:"LocalArgument",name:"scale"},a={defaultValue:null,kind:"LocalArgument",name:"typeaheadFirstDegreeFilters"},i={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},l=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"typeaheadFirstDegreeFilters"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},p={alias:"photo",args:[{kind:"Literal",name:"height",value:40},m,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},_={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},f=[u,c,p],g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s,{kind:"InlineFragment",selections:[u,c,d,p,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[_],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[_,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:f,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[u,c,{alias:"thumbnail_link",args:[m],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[u,c,d,p],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[u,p],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:f,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:f,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:f,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null},h={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o,a,i],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[s,g,{kind:"InlineFragment",selections:[h,y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[g],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,o,i,a,e],kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[s,g,{kind:"InlineFragment",selections:[h,y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[s,g],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:n("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react-compiler-runtime","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function u(e){var t=o("react-compiler-runtime").c(12),n=e.canUseSections,a=e.firstDegreeFinderOptions,i=e.includeViewer,l=e.limit,u=e.matchStrategy,d=e.storageKey,m=e.typeaheadContext,p=e.typeaheadFirstDegreeFilters,_=u===void 0?"prefix":u,f=i!=null?i:!0,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=o("WebPixelRatio").get(),t[0]=g):g=t[0];var h=m!=null?m:"mentions",y;t[1]!==n||t[2]!==a||t[3]!==f||t[4]!==h||t[5]!==p?(y={canUseSections:n,include_viewer:f,options:a,scale:g,typeahead_context:h,typeaheadFirstDegreeFilters:p},t[1]=n,t[2]=a,t[3]=f,t[4]=h,t[5]=p,t[6]=y):y=t[6];var C;return t[7]!==l||t[8]!==_||t[9]!==d||t[10]!==y?(C={gqlQuery:s,limit:l,matchStrategy:_,normalize:c,queryVariables:y,storageKey:d},t[7]=l,t[8]=_,t[9]=d,t[10]=y,t[11]=C):C=t[11],r("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")(C)}function c(e){var t;return r("filterNulls")(((t=e==null?void 0:e.comet_composer_typeahead_bootload)!=null?t:[]).map(function(e){if((e==null?void 0:e.__typename)==="CometComposerTypeaheadResultEntry")return r("createFeedCometMentionsDataEntry")({data:e,type:"MENTION_SEARCH_RESULT"});if((e==null?void 0:e.__typename)==="XFBMentionsSectionEntry"){var t=e.cache_id,n=e.label;return t==null||n==null?null:{entries:r("filterNulls")(e.entries.map(function(e){return r("createFeedCometMentionsDataEntry")({data:e,type:"MENTION_SEARCH_RESULT"})})),key:t,label:n,type:"section"}}return null}))}l.default=u}),98);
__d("useCometTypeaheadNameDataSource",["react-compiler-runtime","useCometTypeaheadCompositeDataSource","useFeedComposerCometMentionsBootloadDataSource"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("react-compiler-runtime").c(12),a=e.canUseSections,i=e.implicitMentionsConfig,l=e.limit,s=e.matchStrategy,u=e.payloadDecorators,c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c=["FRIENDS_ONLY"],n[0]=c):c=n[0];var d=(t=i.typeaheadContext)!=null?t:"mentions",m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m=["USER","WORKROOMS_USER"],n[1]=m):m=n[1];var p;n[2]!==a||n[3]!==l||n[4]!==s||n[5]!==d?(p={canUseSections:a,firstDegreeFinderOptions:c,includeViewer:!0,limit:l,matchStrategy:s,storageKey:null,typeaheadContext:d,typeaheadFirstDegreeFilters:m},n[2]=a,n[3]=l,n[4]=s,n[5]=d,n[6]=p):p=n[6];var _=r("useFeedComposerCometMentionsBootloadDataSource")(p),f;n[7]===Symbol.for("react.memo_cache_sentinel")?(f={type:"feed_mentions_non_intentful_datasource_cache_key"},n[7]=f):f=n[7];var g;return n[8]!==l||n[9]!==u||n[10]!==_?(g={bootstrapDataSource:_,cacheKey_SEARCH_ONLY:f,limit:l,payloadDecorators:u},n[8]=l,n[9]=u,n[10]=_,n[11]=g):g=n[11],r("useCometTypeaheadCompositeDataSource")(g)}l.default=e}),98);
__d("useBaseFeedMentionsDataSourceResolverConfig",["Actor","CometComposerViewStateContext","MentionsCommonWordsBlocklist","cr:6888","cr:6961","cr:7090","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","getTaggingTransparencyGating","gkx","qex","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useCometTypeaheadNameDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(65),a=e.canUseSections,i=e.contextID,l=e.enableTypeSelection,s=e.firstDegreeTypesForBootstrap,c=e.implicitMentionsConfig,d=e.limit,m=e.matchStrategy,p=e.mentionTypesForNetwork,_=e.payloadDecorators,f=e.postID,g=e.shouldBootstrapOnLayoutEffect,h=e.surface,y=e.taggingSurface,C=l===void 0?!1:l,b=m===void 0?"token":m,v=o("Actor").useActor(),S=v[0],R=u(r("CometComposerViewStateContext")),L=R.creationSessionID,E=r("gkx")("608"),k;t[0]===Symbol.for("react.memo_cache_sentinel")?(k=o("getTaggingTransparencyGating").getIsTaggingTransparencyEnabledForBootload(),t[0]=k):k=t[0];var I=k,T;if(t[1]===Symbol.for("react.memo_cache_sentinel")){var D;T=(D=r("qex")._("4512"))!=null?D:!1,t[1]=T}else T=t[1];var x=T,$;t[2]!==i||t[3]!==p||t[4]!==f||t[5]!==h||t[6]!==y?($={contextID:i,mentionTypes:p,postID:f,surface:h,taggingSurface:y},t[2]=i,t[3]=p,t[4]=f,t[5]=h,t[6]=y,t[7]=$):$=t[7];var P=$,N;t[8]!==a||t[9]!==L||t[10]!==s||t[11]!==S||t[12]!==d.intentful||t[13]!==b||t[14]!==f||t[15]!==y?(N=I?{creationSessionID:L,limit:Math.floor(d.intentful/2),postID:f,profileID:S,storageKey:null,taggingSurface:y,typeaheadFirstDegreeFilters:s}:{canUseSections:a,includeViewer:!0,limit:Math.floor(d.intentful/2),matchStrategy:b,postID:f,storageKey:null,taggingSurface:y,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:s},t[8]=a,t[9]=L,t[10]=s,t[11]=S,t[12]=d.intentful,t[13]=b,t[14]=f,t[15]=y,t[16]=N):N=t[16];var M=n("cr:6888")(N),w;t[17]!==C||t[18]!==p||t[19]!==f?(w=f!=null&&x?{enableTypeSelection:C,mentionTypes:p!=null?p:[],postID:f,type:"feed_post_mentions_intentful_datasource_cache_key"}:{enableTypeSelection:C,mentionTypes:p!=null?p:[],type:"feed_mentions_intentful_datasource_cache_key"},t[17]=C,t[18]=p,t[19]=f,t[20]=w):w=t[20];var A=d.intentful,F;t[21]!==a||t[22]!==L||t[23]!==C||t[24]!==S||t[25]!==d.intentful||t[26]!==P?(F=E?babelHelpers.extends({},P,{creationSessionID:L,limit:d.intentful,profileID:S}):babelHelpers.extends({},P,{canUseSections:a,enableTypeSelection:C,includeViewer:!0,limit:d.intentful,typeaheadContext:"mentions"}),t[21]=a,t[22]=L,t[23]=C,t[24]=S,t[25]=d.intentful,t[26]=P,t[27]=F):F=t[27];var O=n("cr:6961")(F),B;t[28]!==a||t[29]!==L||t[30]!==S||t[31]!==d.nullstate||t[32]!==P?(B=E?babelHelpers.extends({},P,{creationSessionID:L,limit:d.nullstate,profileID:S}):babelHelpers.extends({},P,{limit:d.nullstate,useSections:a}),t[28]=a,t[29]=L,t[30]=S,t[31]=d.nullstate,t[32]=P,t[33]=B):B=t[33];var W=n("cr:7090")(B),q;t[34]!==d.intentful||t[35]!==_||t[36]!==O||t[37]!==W||t[38]!==M||t[39]!==w?(q={bootstrapDataSource:M,cacheKey_SEARCH_ONLY:w,limit:A,networkDataSource:O,nullstateDataSource:W,payloadDecorators:_},t[34]=d.intentful,t[35]=_,t[36]=O,t[37]=W,t[38]=M,t[39]=w,t[40]=q):q=t[40];var U=r("useCometTypeaheadCompositeDataSource")(q),V;t[41]!==a||t[42]!==c||t[43]!==d.nonIntentful||t[44]!==b||t[45]!==_?(V={canUseSections:a,implicitMentionsConfig:c,limit:d.nonIntentful,matchStrategy:b,payloadDecorators:_},t[41]=a,t[42]=c,t[43]=d.nonIntentful,t[44]=b,t[45]=_,t[46]=V):V=t[46];var H=r("useCometTypeaheadNameDataSource")(V),G;if(t[47]!==U||t[48]!==c.isImplicitMentionsEnabled||t[49]!==c.matchLimitOverride||t[50]!==H){e:{var z,j,K;t[52]===Symbol.for("react.memo_cache_sentinel")?(K=r("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:0}),t[52]=K):K=t[52];var Q;t[53]!==U?(Q={dataSource:U,matchStrategy:K},t[53]=U,t[54]=Q):Q=t[54];var X=[Q];if(!c.isImplicitMentionsEnabled){G=X;break e}var Y=(z=c==null?void 0:c.matchLimitOverride)!=null?z:3,J;t[55]!==Y?(J=r("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:r("MentionsCommonWordsBlocklist").wordList,minMatchLength:Y,nameCase:"capitalized"}),t[55]=Y,t[56]=J):J=t[56];var Z;t[57]!==H||t[58]!==J?(Z={dataSource:H,matchStrategy:J},t[57]=H,t[58]=J,t[59]=Z):Z=t[59],X.push(Z);var ee=(j=c==null?void 0:c.matchLimitOverride)!=null?j:4,te;t[60]!==ee?(te=r("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:r("MentionsCommonWordsBlocklist").wordList,minMatchLength:ee,nameCase:"lower-case"}),t[60]=ee,t[61]=te):te=t[61];var ne;t[62]!==H||t[63]!==te?(ne={dataSource:H,matchStrategy:te},t[62]=H,t[63]=te,t[64]=ne):ne=t[64],X.push(ne),G=X}t[47]=U,t[48]=c.isImplicitMentionsEnabled,t[49]=c.matchLimitOverride,t[50]=H,t[51]=G}else G=t[51];var re=G;return r("useCometMentionsDataSourceResolverConfig")(re,g)}l.default=d}),98);
__d("useFeedComposerCometMentionsDataSourceResolverConfig",["cometFeedComposerCometMentionsTypeSelectionPayloadDecorator","qex","react-compiler-runtime","useBaseFeedMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=["user","workrooms_user","group","event","page"],s=["USER","WORKROOMS_USER","GROUP","EVENT","PAGE"],u=5;function c(t){var n=o("react-compiler-runtime").c(15),a=t.enableTypeSelection,i=t.firstDegreeTypesForBootstrap,l=t.mentionTypesForNetwork,c=t.shouldBootstrapOnLayoutEffect,d=t.canUseSections,m=t.contextID,p=t.implicitMentionsConfig,_=t.postID,f=t.surface,g=t.taggingSurface,h=a===void 0?!1:a,y=i===void 0?s:i,C=l===void 0?e:l,b;n[0]!==h?(b=h?[r("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator")]:[],n[0]=h,n[1]=b):b=n[1];var v=b,S;if(n[2]===Symbol.for("react.memo_cache_sentinel")){var R,L,E;S={intentful:(R=r("qex")._("1777"))!=null?R:u,nonIntentful:(L=r("qex")._("576"))!=null?L:u,nullstate:(E=r("qex")._("617"))!=null?E:u},n[2]=S}else S=n[2];var k;return n[3]!==d||n[4]!==m||n[5]!==h||n[6]!==y||n[7]!==p||n[8]!==C||n[9]!==v||n[10]!==_||n[11]!==c||n[12]!==f||n[13]!==g?(k={canUseSections:d,contextID:m,enableTypeSelection:h,firstDegreeTypesForBootstrap:y,implicitMentionsConfig:p,limit:S,mentionTypesForNetwork:C,payloadDecorators:v,postID:_,shouldBootstrapOnLayoutEffect:c,surface:f,taggingSurface:g},n[3]=d,n[4]=m,n[5]=h,n[6]=y,n[7]=p,n[8]=C,n[9]=v,n[10]=_,n[11]=c,n[12]=f,n[13]=g,n[14]=k):k=n[14],r("useBaseFeedMentionsDataSourceResolverConfig")(k)}l.default=c}),98);
__d("FeedComposerCometMentionsPluginForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","getImplicitMentionsGating","react","react-compiler-runtime","useCometMentionsViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig","withComposerViewStatePart"],(function(t,n,r,o,a,i,l){"use strict";var e=["editor"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useState;function p(t){var n=o("react-compiler-runtime").c(6),r,a;if(n[0]!==t?(r=t.editor,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),r==null)return null;var i;return n[3]!==r||n[4]!==a?(i=u.jsx(_,babelHelpers.extends({},a,{editor:r})),n[3]=r,n[4]=a,n[5]=i):i=n[5],i}function _(e){var t=o("react-compiler-runtime").c(14),n=e.composerType,a=e.contextID,i=e.createNodeStrategy,l=e.editor,s=e.postID,c=i===void 0?r("cometMentionsLexicalCreateNodeStrategy"):i,d=m(void 0),p=d[0],_=d[1],f=n==="feed",g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g={isImplicitMentionsEnabled:o("getImplicitMentionsGating").getIsImplicitMentionsEnabledComposer(),matchLimitOverride:o("getImplicitMentionsGating").getIsImplicitMentionsMatchLengthComposerOverride(),typeaheadContext:void 0},t[0]=g):g=t[0];var h;t[1]!==a||t[2]!==f||t[3]!==p||t[4]!==s?(h={contextID:a,enableTypeSelection:f,implicitMentionsConfig:g,mentionTypesForNetwork:p,postID:s,shouldBootstrapOnLayoutEffect:!0},t[1]=a,t[2]=f,t[3]=p,t[4]=s,t[5]=h):h=t[5];var y=r("useFeedComposerCometMentionsDataSourceResolverConfig")(h),C;t[6]===Symbol.for("react.memo_cache_sentinel")?(C=function(t){switch(t.rawData.type){case"MENTION_TYPE_SELECTION":return _(t.rawData.typesToShow),{shouldMentionSelectedEntry:!1};case"MENTION_TYPE_RESET":return _(void 0),{shouldMentionSelectedEntry:!1};default:return{shouldMentionSelectedEntry:!0}}},t[6]=C):C=t[6];var b=C,v;t[7]===Symbol.for("react.memo_cache_sentinel")?(v={viewItemStrategyRenderer:r("FeedComposerCometMentionsViewItemResolver.react")},t[7]=v):v=t[7];var S=r("useCometMentionsViewListStrategy")(v),R;t[8]===Symbol.for("react.memo_cache_sentinel")?(R={context_id:null,context_type:"undirected",surface:"FEED_COMPOSER",typeahead_type:"ENTITY"},t[8]=R):R=t[8];var L=R,E;return t[9]!==c||t[10]!==y||t[11]!==l||t[12]!==S?(E=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:c,dataSourceResolverConfig:y,editor:l,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),mentionsHandlerForSelectedEntry:b,mentionsLoggerContext:L,viewStrategyRenderer:S}),t[9]=c,t[10]=y,t[11]=l,t[12]=S,t[13]=E):E=t[13],E}var f=r("withComposerViewStatePart")(p,function(e){return{editor:e.lexicalEditor}});l.default=f}),98);
__d("createFeedCometMentionsDataEntryWithTaggingTransparency_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"createFeedCometMentionsDataEntryWithTaggingTransparency_data"};a.exports=e}),null);
__d("createFeedCometMentionsDataEntryWithTaggingTransparency",["CometRelay","FBLogger","createFeedCometMentionsDataEntryWithTaggingTransparency_data.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("createFeedCometMentionsDataEntryWithTaggingTransparency_data.graphql");function u(e){return o("CometRelay").readInlineData(s,e)}function c(e){var t,n,o,a,i=u(e.key),l=i==null?void 0:i.profile;if(l==null)return r("FBLogger")("comet_composer").warn("missing profile node for Comet mentions tag suggestion"),null;var s=l.id,c=l.name,d=(t=l.profile_picture)==null?void 0:t.uri;return s==null||c==null||d==null?(r("FBLogger")("comet_composer").warn("missing necessary profile info (id, name, data) for Comet mentions tag suggestion"),null):{key:s,label:c,rawData:{ineligibleReason:(n=i==null||(o=i.eligibility)==null?void 0:o.description)!=null?n:"",isEligible:(i==null||(a=i.eligibility)==null?void 0:a.is_eligible)===!0,isVerified:(l==null?void 0:l.is_verified)===!0,photoURI:d,resultType:i==null?void 0:i.__typename,score:0,subtext:i==null?void 0:i.subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}l.default=c}),98);
__d("linkAttachmentAreaFeedTransformDataUtil",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){var o=e!=null&&e.filter_id!=null&&e.is_used?{filter_id:e.filter_id,gradient_background:e.gradient_background}:void 0;return t?{reshare_filter_metadata:o,reshare_original_post:"RESHARE_ORIGINAL_POST"}:{is_throwback_post:n!=null?n:l(r),reshare_filter_metadata:o}}function l(e){var t;if((e==null||(t=e.goodwillCampaignInfo)==null?void 0:t.campaignId)!=null)return(e==null?void 0:e.storyId)!=null?"THROWBACK_POST":"NOT_THROWBACK_POST"}function s(e,t,n){var r,o,a=n==null||(r=n.linkPreview)==null?void 0:r.share_scrape_data,i=(n==null?void 0:n.isSponsoredPost)===!0,l=a!==void 0&&(t===!0||i),s=l?a:e==null||(o=e.linkPreview)==null?void 0:o.share_scrape_data;return{shareScrapeData:s,useOriginalContent:l}}function u(e){var t;return(e==null?void 0:e.customAttachments)===void 0&&(e==null||(t=e.linkPreview)==null?void 0:t.share_scrape_data)===void 0}i.getReshareMetadata=e,i.getLinkAttachmentMetadata=s,i.isLinkAttachmentEmpty=u}),66);
__d("linkAttachmentAreaFeedCreationDataTransform",["linkAttachmentAreaFeedTransformDataUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.linkAttachment,a=e.originalContentLinkAttachment,i=e.reshareFilterMetadata,l=e.useOriginalContentLinkAttachment;if(o("linkAttachmentAreaFeedTransformDataUtil").isLinkAttachmentEmpty(r))return n(t);var s=o("linkAttachmentAreaFeedTransformDataUtil").getLinkAttachmentMetadata(r,l,a),u=s.shareScrapeData,c=s.useOriginalContent,d={link:{share_scrape_data:u}},m;!c&&(r==null?void 0:r.customAttachments)!=null?m=r==null?void 0:r.customAttachments:m=[d],n(babelHelpers.extends({},t,{attachments:m},o("linkAttachmentAreaFeedTransformDataUtil").getReshareMetadata(i,c,t.is_throwback_post,r)))}l.default=e}),98);/*FB_PKG_DELIM*/
__d("destroyOnUnload",["cr:8905"],(function(t,n,r,o,a,i,l){l.default=n("cr:8905")}),98);
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],(function(t,n,r,o,a,i){"use strict";var e=1e4,l=10*1e3,s=200,u=(function(){function t(){var e=this;this.$1=null,this.$2=null,this.$3=-1,n("gkx")("20935")||n("destroyOnUnload")(function(){return e.destroy()}),window.addEventListener("unload",function(){e.destroy()})}var r=t.prototype;return r.destroy=function(){this.$4(),this.$5(),this.$6()},r.handleStartEvent=function(){this.$7()||this.$8(),this.$9()},r.handleStopEvent=function(){this.$4()},r.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")},r.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")},r.$7=function(){return!!this.$1},r.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)},r.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)},r.$9=function(){var e=this,t=Date.now(),n=this.$3;t>n+s&&(this.$3=t,this.$5(),this.$2=setTimeout(function(){e.$4()},l))},r.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()},r.$8=function(){var t=this;this.publishStartEvent(),this.$6(),this.$1=setTimeout(function(){t.$8()},e)},t})();i.default=u}),66);
__d("CometUFIFeedbackReactSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25376473545367991"}),null);
__d("CometUFIFeedbackReactSubscription.graphql",["CometUFIFeedbackReactSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[r],a=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[r,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:o,storageKey:null}],storageKey:null}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},s={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},c=[u],d=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],m=[i,r],p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:o,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[r,l,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},s],storageKey:null},u],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:o,storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:d,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[r,i,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_comment_anonymously",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_provider",plural:!1,selections:[i,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"eligible_actors",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[i,r,p],storageKey:null},s,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[i,p,r],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isActor"},r],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:m,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:a,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[i,{kind:"InlineFragment",selections:_,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:_,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:n("CometUFIFeedbackReactSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};a.exports=e}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;e!==void 0||(e=n("CometUFIFeedbackReactSubscription_feedback.graphql")),s!==void 0||(s=n("CometUFIFeedbackReactSubscription_liker.graphql")),u!==void 0||(u=n("CometUFIFeedbackReactSubscription_viewer.graphql"));var d=c!==void 0?c:c=n("CometUFIFeedbackReactSubscription.graphql");function m(e,t,n){return o("CometRelay").requestSubscription(e,{subscription:d,updater:function(t,n){var e,r;if(n!=null){var o=(e=n.feedback_like_subscribe)==null||(e=e.liker)==null?void 0:e.id,a=(r=n.feedback_like_subscribe)==null||(r=r.viewer)==null||(r=r.actor)==null?void 0:r.id;if(o!==a){var i,l=(i=n.feedback_like_subscribe)==null||(i=i.feedback)==null?void 0:i.id;if(l!=null){var s=t.get(l);s&&s.setValue(!0,"is_unseen")}}}},variables:{input:t,useDefaultActor:n}})}l.subscribe=m}),98);
__d("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9815271091886179"}),null);
__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",["CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:t},params:{id:n("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9972315006159780"}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",["CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:t},params:{id:n("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),c=s!==void 0?s:s=n("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function d(e,t,n,r){var a={input:{feedback_id:n.feedbackID,session_id:o("ChannelClientID").getID()}},i,l={onCompleted:r,variables:a};return e?i=o("CometRelay").commitMutation(t,babelHelpers.extends({mutation:u},l)):i=o("CometRelay").commitMutation(t,babelHelpers.extends({mutation:c},l)),{dispose:function(){i&&i.dispose(),i=null}}}var m=d.bind(null,!0),p=d.bind(null,!1);l.start=m,l.stop=p}),98);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o){var a;return a=e.call(this)||this,a.$CometUFILiveTypingBroadcastPublisher$p_1=t,a.$CometUFILiveTypingBroadcastPublisher$p_2=n,a.$CometUFILiveTypingBroadcastPublisher$p_3=o,a.$CometUFILiveTypingBroadcastPublisher$p_4=null,a.$CometUFILiveTypingBroadcastPublisher$p_5=null,a.$CometUFILiveTypingBroadcastPublisher$p_6=r,a}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher$p_4&&this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5&&this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose()},n.handleStartEvent=function(){e.prototype.handleStartEvent.call(this)},n.handleStopEvent=function(){e.prototype.handleStopEvent.call(this)},n.publishStartEvent=function(){var e=this;if(!this.$CometUFILiveTypingBroadcastPublisher$p_4){this.$CometUFILiveTypingBroadcastPublisher$p_5&&(this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5=null);var t=function(){e.$CometUFILiveTypingBroadcastPublisher$p_4=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_4=o("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},t))}},n.publishStopEvent=function(){var e=this;if(!this.$CometUFILiveTypingBroadcastPublisher$p_5){this.$CometUFILiveTypingBroadcastPublisher$p_4&&(this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_4=null);var t=function(){e.$CometUFILiveTypingBroadcastPublisher$p_5=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_5=o("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},t))}},t})(r("AbstractCommentLiveTypingPublisher"));l.default=e}),98);
__d("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","Lexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef;function m(t){var n,a=o("react-compiler-runtime").c(13),i=t.pluginProps,l=t.feedback,s=t.groupID,u=t.relayEnvironment,m=(n=l.viewer_actor)==null?void 0:n.id,p=i.addCommitListener,_=l.id,f=d(!1),g=d(null),h=i.editor,y;a[0]!==m||a[1]!==p||a[2]!==h||a[3]!==_||a[4]!==s||a[5]!==u?(y=function(){if(f.current!==!0){if(m==null||_==null&&s==null){r("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id`, or both `feedback.id` and `groupID` are null, in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI."),f.current=!0;return}var t="",n=function(){if(g.current===null){var e=new(r("CometUFILiveTypingBroadcastPublisher"))(m,_,u,s);g.current=e}return g.current},a=h.registerTextContentListener(function(o){if(t!==o){var a=n();t=o,(e||(e=r("JSScheduler"))).defer(function(){a.handleStartEvent()})}}),i=h.registerCommand(o("Lexical").BLUR_COMMAND,function(){var e=g.current;return e!==null&&e.handleStopEvent(),!1},o("Lexical").COMMAND_PRIORITY_LOW),l=p(function(){var e=g.current;return e!==null&&e.handleStopEvent(),"continue-commit"});return(function(){var e=g.current;e!==null&&(g.current=null,e.destroy()),a(),i(),l()})}},a[0]=m,a[1]=p,a[2]=h,a[3]=_,a[4]=s,a[5]=u,a[6]=y):y=a[6];var C;return a[7]!==m||a[8]!==p||a[9]!==h||a[10]!==_||a[11]!==u?(C=[m,p,h,_,u],a[7]=m,a[8]=p,a[9]=h,a[10]=_,a[11]=u,a[12]=C):C=a[12],c(y,C),null}l.default=m}),98);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9832850366770548"}),null);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql",["CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"stickerId"}],t=[{kind:"Variable",name:"id",variableName:"stickerId"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={kind:"Variable",name:"scale",variableName:"scale"},a=[{kind:"Literal",name:"height",value:80},o,{kind:"Literal",name:"width",value:80}],i={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},l=[i,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentSticker_sticker"}],type:"Sticker",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r],storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[i],storageKey:null},{alias:"sticker_image",args:a,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},o,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},r],storageKey:null}]},params:{id:n("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"),metadata:{},name:"CometUFIStickersComposerUpgradedPreviewContentQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"Variable",name:"scale",variableName:"scale"},t=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}],n={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},r=[n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"UFI2CommentSticker_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:t,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[n],storageKey:null},{alias:"sticker_image",args:t,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:r,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null}})();a.exports=e}),null);
__d("UFI2CommentSticker.react",["JSResource","UFI2CometRelayCreateFragmentContainer","UFI2CommentSticker_sticker.graphql","UFI2ScaleRect","lazyLoadComponent","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function d(e){var t,n,r,a=e.className,i=e.sticker,l=i.sticker_type==="AVATAR",s=i.sprite_image,d=l?i.larger_sticker_image:i.sticker_image;if(d==null)return null;var m=l?120:80,p=o("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:m,maxWidth:m,srcHeight:(t=d.height)!=null?t:m,srcWidth:(n=d.width)!=null?n:m}),_=p.height,f=p.width,g=u.jsx("div",{style:{backgroundImage:"url("+(d.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:f+"px "+_+"px",height:_,width:f}});return u.jsx(u.Suspense,{fallback:g,children:u.jsx(c,{accessibilityLabel:i.label,animationTrigger:"load_and_hover",className:a,frameCount:i.frame_count,frameRate:i.frame_rate,framesPerCol:i.frames_per_column,framesPerRow:i.frames_per_row,packName:(r=i.pack)==null?void 0:r.name,sourceHeight:_,sourceURI:d.uri,sourceWidth:f,spriteURI:s==null?void 0:s.uri})})}d.displayName=d.name+" [from "+i.id+"]",d.displayName="UFI2CommentSticker";var m=r("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(d,{sticker:e!==void 0?e:e=n("UFI2CommentSticker_sticker.graphql")});l.default=m}),98);
__d("CometUFIStickersComposerUpgradedPreviewContent.react",["cx","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFIStickersComposerUpgradedPreviewContentQuery.graphql","FBLogger","SiteData","UFI2CommentSticker.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(2),i=t.stickerId,l=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql"),{scale:r("SiteData").pr,stickerId:i}),s=l.sticker;if(!s)return r("FBLogger")("ufi2").addMetadata("UFI","STICKER_ID",i).mustfix("Failed to fetch a sticker."),null;var u;return a[0]!==s?(u=c.jsx(r("UFI2CommentSticker.react"),{className:"mal",sticker:s}),a[0]=s,a[1]=u):u=a[1],u}function m(e){var t=o("react-compiler-runtime").c(8),n=e.loadingIndicatorElement,a=e.onError,l=e.stickerId,s;t[0]!==l?(s=c.jsx(d,{stickerId:l}),t[0]=l,t[1]=s):s=t[1];var u;t[2]!==n||t[3]!==s?(u=c.jsx(r("CometPlaceholder.react"),{fallback:n,name:i.id,children:s}),t[2]=n,t[3]=s,t[4]=u):u=t[4];var m;return t[5]!==a||t[6]!==u?(m=c.jsx(r("CometErrorBoundary.react"),{fallback:p,onError:a,children:u}),t[5]=a,t[6]=u,t[7]=m):m=t[7],m}function p(){}l.default=m}),98);
__d("CometUFIVoteCountDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25540795705531391"}),null);
__d("CometUFIVoteCountDialogQuery$Parameters",["CometUFIVoteCountDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometUFIVoteCountDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIVoteCountDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometUFIVoteCountDialog.entrypoint",["CometUFIVoteCountDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.actorID,r=t.questionID;return{queries:{cometUFIVoteCountDialogQueryRef:{environmentProviderOptions:{actorID:e},parameters:n("CometUFIVoteCountDialogQuery$Parameters"),variables:{questionID:r,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometUFIVoteCountDialog.react").__setRef("CometUFIVoteCountDialog.entrypoint")};l.default=e}),98);
__d("CometUFIVotesText.react",["fbt","CometUFISummaryBarLabel.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.voteCount,a;t[0]!==n?(a=s._(/*BTDS*/"_j{\"*\":\"{number} Votes\",\"_1\":\"1 Vote\"}",[s._plural(n,"number")]),t[0]=n,t[1]=a):a=t[1];var i=a,l;return t[2]!==i||t[3]!==n?(l=u.jsx(r("CometUFISummaryBarLabel.react"),{count:n,icon:"ballot-box",label:i}),t[2]=i,t[3]=n,t[4]=l):l=t[4],l}l.default=c}),226);
__d("CometUFIVoteCountButton.react",["fbt","Actor","CometPressable.react","CometUFIVoteCountDialog.entrypoint","CometUFIVotesText.react","react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useRef,d={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",":hover_textDecoration":"xt0b8zv",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(11),n=e.questionID,a=e.voteCount,i=o("Actor").useActor(),l=i[0],m=c(null),p;t[0]!==l||t[1]!==n?(p={actorID:l,questionID:n},t[0]=l,t[1]=n,t[2]=p):p=t[2];var _=r("useCometEntryPointDialog")(r("CometUFIVoteCountDialog.entrypoint"),p),f=_[0],g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"voter dialog"),t[3]=g):g=t[3];var h;t[4]!==f?(h=function(){f({})},t[4]=f,t[5]=h):h=t[5];var y;t[6]!==a?(y=u.jsx(r("CometUFIVotesText.react"),{voteCount:a}),t[6]=a,t[7]=y):y=t[7];var C;return t[8]!==h||t[9]!==y?(C=u.jsx(r("CometPressable.react"),{"aria-label":g,display:"inline",onPress:h,overlayDisabled:!0,ref:m,xstyle:d.link,children:y}),t[8]=h,t[9]=y,t[10]=C):C=t[10],C}l.default=m}),226);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","gkx","react","useCometMentionsViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("gkx")("23229"),c=["USER","EVENT","GROUP","PAGE"],d=u?[].concat(c,["WORKROOMS_USER"]):c,m=["user","event","group","page"],p=u?[].concat(m,["workrooms_user"]):m;function _(){function e(e){var t=e.config,n=t.contextID,o=t.postID,a=e.pluginProps.editor,i=r("useFeedComposerCometMentionsDataSourceResolverConfig")({canUseSections:!1,contextID:n,firstDegreeTypesForBootstrap:d,implicitMentionsConfig:{isImplicitMentionsEnabled:!0,matchLimitOverride:null,typeaheadContext:void 0},mentionTypesForNetwork:p,postID:o,shouldBootstrapOnLayoutEffect:!1,surface:"COMMENT",taggingSurface:"COMMENT"}),l={context_id:null,context_type:"undirected",surface:"COMMENT",typeahead_type:"ENTITY"},u=r("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:r("FeedComposerCometMentionsViewItemResolver.react")});return s.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:i,editor:a,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),mentionsLoggerContext:l,viewStrategyRenderer:u})}return e.displayName=e.name+" [from "+i.id+"]",e}l.default=_}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(t,n,r,o,a,i,l){"use strict";var e=r("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();l.default=e}),98);
__d("destroyOnUnloadWWW",["Run"],(function(t,n,r,o,a,i,l){function e(e){return o("Run").onLeave(e)}l.default=e}),98);
__d("getUpgradedCometUFIEmoticonsComposerHandler",["CometLexicalEmojiNode","EmoticonsList","FBEmojiResource","Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.isSimpleText()){var t=o("Lexical").$getSelection(),n=e.getTextContent();o("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&t.anchor.type==="text"&&t.anchor.key===e.getKey()&&(n=n.slice(0,t.anchor.offset));for(var a,i,l=e;(a=n.match(o("EmoticonsList").noncapturingRegexp))&&l!==void 0;){var s=a[1],u=a[0][0]===" "?a.index+1:a.index,c=s.length,d=u+c,m=o("EmoticonsList").emotes[s];if(m!==void 0){var p=o("EmoticonsList").emoji[m],_=l.getNextSibling(),f=d===n.length?o("Lexical").$isLineBreakNode(_):n[d]===" ";if(p!==void 0&&f){var g=void 0;if(u===0){var h=l.splitText(c);g=h[0],l=h[1]}else{var y=l.splitText(u,d);g=y[1],l=y[2]}var C=p.length===5&&p.slice(0,2)==="1f",b=C?String.fromCodePoint(parseInt("0x"+p,0)):m,v=C?b:s,S=new(r("FBEmojiResource"))(p),R=S.getImageURL(o("CometLexicalEmojiNode").UFI_EMOJI_SIZE);R!=null&&(i=o("CometLexicalEmojiNode").$createEmojiNode(b,v,R,o("CometLexicalEmojiNode").UFI_EMOJI_SIZE),g.replace(i))}}n=n.slice(d)}}}function s(t){return t.registerNodeTransform(o("Lexical").TextNode,e)}l.default=s}),98);/*FB_PKG_DELIM*/
__d("CaptionsTextSizeMapping",[],(function(t,n,r,o,a,i){"use strict";var e={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"},l={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"},s={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};i.AdjustedCaptionsTextSizeMapFeedUnit=e,i.FixedCaptionsTextSizeMap=l,i.DynamicCaptionsTextSizeMap=s}),66);
__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","react-compiler-runtime","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useLayoutEffect;function c(){var e=o("react-compiler-runtime").c(6),t=o("useCometTahoeChainingDepth").useChainingDepthContext(),n=t.chainingDepthState,a=t.chainingSessionID,i=(s||(s=o("VideoPlayerHooks"))).useController(),l=r("useRoutePassthroughProps")(),c=l==null?void 0:l.chainingSeedVideoId,d,m;return e[0]!==n||e[1]!==c||e[2]!==a||e[3]!==i?(d=function(){n!=null&&a!=null&&(i.setLoggingToVPLAdditionalData("video_chaining_session_id",a),i.setLoggingToVPLAdditionalData("video_chaining_depth_level",n),i.setLoggingToSNAPLAdditionalData({video_chaining_depth_level:String(n),video_chaining_session_id:a})),c!=null&&(i.setLoggingToVPLAdditionalData("video_chaining_parent_video_id",String(c)),i.setLoggingToSNAPLAdditionalData({video_chaining_parent_video_id:String(c)}))},m=[n,a,i,c],e[0]=n,e[1]=c,e[2]=a,e[3]=i,e[4]=d,e[5]=m):(d=e[4],m=e[5]),u(d,m),null}l.default=c}),98);
__d("CometTahoeTracePolicyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabled.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){var e;return(e=r("gkx")("10188"))!=null?e:!1}};l.default=e}),98);
__d("CometVideoHomePositionInUnitContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(0);l.default=u}),98);
__d("CometVideoHomeSectionPositionContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometVideoHomeVideoContextMenuContentsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="33834030492908537"}),null);
__d("CometVideoHomeVideoContextMenuContentsQuery$Parameters",["CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabled.relayprovider","CometVideoHomeVideoContextMenuContentsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometVideoHomeVideoContextMenuContentsQuery_facebookRelayOperation"),metadata:{},name:"CometVideoHomeVideoContextMenuContentsQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabledrelayprovider:n("CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabled.relayprovider")}}};a.exports=e}),null);
__d("CometVideoHomeVideoContextMenuContents.entrypoint",["CometVideoHomeVideoContextMenuContentsQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.storyDebugInfo,r=t.videoID,o=t.videoMenuLocation;return{queries:{menuContentsQuery:{parameters:n("CometVideoHomeVideoContextMenuContentsQuery$Parameters"),variables:{story_debug_info:e,videoID:r,videoMenuLocation:o}}}}},root:r("JSResourceForInteraction")("CometVideoHomeVideoContextMenuContents.react").__setRef("CometVideoHomeVideoContextMenuContents.entrypoint")};l.default=e}),98);
__d("CometVideoHomeVideoContextMenu.react",["CometTrackingNodeProvider.react","CometVideoHomeVideoContextMenuContents.entrypoint","FDSEntryPointPopoverTrigger.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(18),n=e.button,a=e.enableLogging,i=e.hideableToken,l=e.identifierToken,u=e.onHideVideo,c=e.onMenuVisibilityChange,d=e.onUnsaveVideo,m=e.position,p=e.storyDebugInfo,_=e.tracking,f=e.videoChannelType,g=e.videoID,h=e.videoMenuLocation,y=a===void 0?!0:a;if(g==null)return null;var C;t[0]!==p||t[1]!==g||t[2]!==h?(C={storyDebugInfo:p,videoID:g,videoMenuLocation:h},t[0]=p,t[1]=g,t[2]=h,t[3]=C):C=t[3];var b;t[4]!==y||t[5]!==i||t[6]!==l||t[7]!==u||t[8]!==d||t[9]!==_||t[10]!==f?(b={enableLogging:y,hideableToken:i,identifierToken:l,onHideVideo:u,onUnsaveVideo:d,tracking:_,videoChannelType:f},t[4]=y,t[5]=i,t[6]=l,t[7]=u,t[8]=d,t[9]=_,t[10]=f,t[11]=b):b=t[11];var v=m!=null?m:"below",S;return t[12]!==n||t[13]!==c||t[14]!==C||t[15]!==b||t[16]!==v?(S=s.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:55,children:s.jsx(r("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:C,onVisibilityChange:c,otherProps:b,popoverEntryPoint:r("CometVideoHomeVideoContextMenuContents.entrypoint"),position:v,children:n})}),t[12]=n,t[13]=c,t[14]=C,t[15]=b,t[16]=v,t[17]=S):S=t[17],S}l.default=u}),98);
__d("CometVideoHomeThreeDotContextMenu.react",["fbt","ix","CometVideoHomeVideoContextMenu.react","FDSIcon.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e=["color","icon","onPress","position","stopPropagation"],c,d=c||(c=o("react"));function m(t){var n=o("react-compiler-runtime").c(17),a,i,l,c,m,_;n[0]!==t?(m=t.color,a=t.icon,i=t.onPress,c=t.position,_=t.stopPropagation,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=c,n[5]=m,n[6]=_):(a=n[1],i=n[2],l=n[3],c=n[4],m=n[5],_=n[6]);var f=m===void 0?"primary":m,g=_===void 0?!1:_,h;n[7]!==f||n[8]!==a||n[9]!==i?(h=function(t,n){return d.jsx(r("FDSIcon.react"),{"aria-label":s._(/*BTDS*/"More"),color:f,icon:a!=null?a:o("fbicon")._(u("484390"),20),onPress:i?function(e){i(),n(e)}:n,ref:t})},n[7]=f,n[8]=a,n[9]=i,n[10]=h):h=n[10];var y;n[11]!==l||n[12]!==c||n[13]!==h?(y=d.jsx(r("CometVideoHomeVideoContextMenu.react"),babelHelpers.extends({button:h,position:c},l)),n[11]=l,n[12]=c,n[13]=h,n[14]=y):y=n[14];var C=y;if(g){var b;return n[15]!==C?(b=d.jsx("div",{onClick:p,children:C}),n[15]=C,n[16]=b):b=n[16],b}return C}function p(e){e.stopPropagation()}l.default=m}),226);
__d("VideoHomeLoggingUpstreamPlayerSourceContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("VideoPlayerActionButton.react",["FDSIcon.react","FDSLink.react","FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(21),n=e.icon,a=e.label,i=e.onPress,l=e.shouldJustifyContentCenter,u=e.showSingleButton,c=e.testid,d=e.useVerticalLayout,m=l===void 0?!1:l,p=u===void 0?!1:u,_=d===void 0?!1:d,f;t[0]!==m||t[1]!==p||t[2]!==_?(f={0:{},8:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf"},4:{className:"xl56j7k"},12:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xl56j7k"},2:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},10:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},6:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},14:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},1:{className:"xja02kk"},9:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xja02kk"},5:{className:"xl56j7k xja02kk"},13:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xl56j7k xja02kk"},3:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},11:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},7:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},15:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"}}[(_!==!0)<<3|!!m<<2|(_===!0)<<1|(p!==!0)<<0],t[0]=m,t[1]=p,t[2]=_,t[3]=f):f=t[3];var g;t[4]!==_?(g={0:{},2:{className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xbmvrgn x889kno x2vl965 x1a8lsjc xe2zdcy"},1:{className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"},3:{className:"xbmvrgn xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"}}[(_!==!0)<<1|(_===!0)<<0],t[4]=_,t[5]=g):g=t[5];var h;t[6]!==n||t[7]!==a||t[8]!==i?(h=s.jsx(r("FDSIcon.react"),{"aria-label":a,color:"white",hideHoverOverlay:!0,icon:n,onPress:i}),t[6]=n,t[7]=a,t[8]=i,t[9]=h):h=t[9];var y;t[10]!==g||t[11]!==h?(y=s.jsx("div",babelHelpers.extends({},g,{children:h})),t[10]=g,t[11]=h,t[12]=y):y=t[12];var C;t[13]!==a||t[14]!==i?(C=s.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:s.jsx(r("FDSLink.react"),{onClick:i,children:a})}),t[13]=a,t[14]=i,t[15]=C):C=t[15];var b;return t[16]!==f||t[17]!==y||t[18]!==C||t[19]!==c?(b=s.jsxs("div",babelHelpers.extends({},f,{"data-testid":void 0,children:[y,C]})),t[16]=f,t[17]=y,t[18]=C,t[19]=c,t[20]=b):b=t[20],b}l.default=u}),98);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","react-compiler-runtime","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useContext;function c(){var e=o("react-compiler-runtime").c(13),t=r("useVideoPlayerPortalingPassthroughProps")(),n=u(r("CometTrackingCodeContext")),a=u(r("CometTrackingNodesContext")),i=u(r("CometProductTagFunnelIDContext")),l=o("CometWarningScreenContext").useIsOverlayShown(),c=o("CometWarningScreenContext").useHasOverlay(),d;e[0]!==a?(d=r("getAggregatedStoryTrackingNodeIndex")(a),e[0]=a,e[1]=d):d=e[1];var m=d,p=(s||(s=o("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy(),_=r("usePlayerOriginRouteTracePolicy")(),f=r("useIsVideoHomePlayerOriginFromTracePolicy")(_),g=p!=null?p:_,h;e[2]!==f?(h=f?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},e[2]=f,e[3]=h):h=e[3];var y;return e[4]!==i||e[5]!==m||e[6]!==c||e[7]!==l||e[8]!==t||e[9]!==g||e[10]!==h||e[11]!==n?(y=babelHelpers.extends({bypassAutoplaySettings:!0},t,{index:m,initialTracePolicy:g,origOverlayShown:l,overlayExists:c,productTagFunnelID:i,trackingCode:n},h),e[4]=i,e[5]=m,e[6]=c,e[7]=l,e[8]=t,e[9]=g,e[10]=h,e[11]=n,e[12]=y):y=e[12],y}l.default=c}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","useNavigateToTahoePassthroughProps"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(12),n=e.onPress,a=e.reactionVideoChannelType,i=e.subOrigin,l=e.videoTahoeUrl,d=r("useNavigateToTahoePassthroughProps")(),m;t[0]!==d||t[1]!==a||t[2]!==i?(m=babelHelpers.extends({},d,{playerSubOrigin:i,reactionVideoChannelType:a}),t[0]=d,t[1]=a,t[2]=i,t[3]=m):m=t[3];var p=m,_;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Enlarge"),t[4]=_):_=t[4];var f=_,g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=o("fbicon")._(u("517763"),20),t[5]=g):g=t[5];var h;t[6]!==p||t[7]!==l?(h={passthroughProps:p,url:l},t[6]=p,t[7]=l,t[8]=h):h=t[8];var y;return t[9]!==n||t[10]!==h?(y=c.jsx(r("VideoPlayerControlIcon.react"),{icon:g,label:f,linkProps:h,onPress:n,tooltip:f}),t[9]=n,t[10]=h,t[11]=y):y=t[11],y}l.default=d}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","FDSResizeUpFilled20Icon","VideoPlayerControlIcon.react","react","react-compiler-runtime","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(16),n=e.isARLTW,a=e.onPress,i=e.routeTracePolicy,l=e.subOrigin,c=e.videoPlayerSessionID,d=e.videoWatchUrl,m=r("useVideoPlayerPortalingPassthroughProps")(),p=m.portableVideoID,_=r("useCometRouterState")(),f=_==null?void 0:_.main.route.tabKey,g;t[0]!==f?(g=f!=="watch"?s._(/*BTDS*/"Open in Video"):s._(/*BTDS*/"Enlarge"),t[0]=f,t[1]=g):g=t[1];var h=g,y;t[2]!==n||t[3]!==p||t[4]!==i||t[5]!==l||t[6]!==c?(y={isARLTW:n,portableVideoID:p,portalingRouteTracePolicy:i,portalingSubOrigin:l,unmute:!0,videoPlayerSessionID:c},t[2]=n,t[3]=p,t[4]=i,t[5]=l,t[6]=c,t[7]=y):y=t[7];var C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C={navigation_source:"video_expand"},t[8]=C):C=t[8];var b;t[9]!==y||t[10]!==d?(b={passthroughProps:y,traceParams:C,url:d},t[9]=y,t[10]=d,t[11]=b):b=t[11];var v;return t[12]!==h||t[13]!==a||t[14]!==b?(v=u.jsx(r("VideoPlayerControlIcon.react"),{icon:r("FDSResizeUpFilled20Icon"),label:h,linkProps:b,onPress:a,tooltip:h}),t[12]=h,t[13]=a,t[14]=b,t[15]=v):v=t[15],v}l.default=c}),226);
__d("VideoPlayerLoggingExternalLogContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({externalLogID:null,externalLogType:null});l.default=u}),98);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.isAdVideo,a=e.isBroadcast,i=e.onPressFullscreenControl,l=e.onPressTahoeControl,u=e.onUserInteraction,c=e.reactionVideoChannelType,d=e.shouldUnmute,m=e.subOrigin,p=e.videoTahoeUrl,_=r("gkx")("24206"),f;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==u||t[5]!==c||t[6]!==d||t[7]!==m||t[8]!==p?(f=s.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:144,children:(!n||a===!0&&r("qex")._("4408")===!0)&&m!=null&&p!=null&&p!==""&&!_?s.jsx(r("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:l,reactionVideoChannelType:c,subOrigin:m,videoTahoeUrl:p}):s.jsx(r("VideoPlayerFullscreenControl.react"),{onPress:i,onUserInteraction:u,shouldUnmute:d})}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=c,t[6]=d,t[7]=m,t[8]=p,t[9]=f):f=t[9],f}l.default=u}),98);
__d("VideoPlayerReshareButton_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerReshareButton_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[{alias:"wwwUrl",args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerReshareButton.react",["fbt","ix","CometRelay","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerReshareButton_video.graphql","createEmptyCometComposerViewState","fbicon","react","react-compiler-runtime","useFeedComposerCometDialog"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=o("react")),m=c.useCallback;function p(e){var t=o("react-compiler-runtime").c(18),n=e.renderActionButton,a=e.shouldJustifyContentCenter,i=e.url,l=e.useVerticalLayout,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={composerEntryPointName:"reshare_from_feed",composerSourceSurface:"share_dialog",composerType:"share",title:s._(/*BTDS*/"Write post"),tracePolicy:"comet.composer.shareVideo"},t[0]=c):c=t[0];var m=r("useFeedComposerCometDialog")(c),p=m[0],_;t[1]!==i?(_=r("createEmptyCometComposerViewState")({attachmentArea:{activeAttachmentType:"SHARE"},linkAttachment:{url:i},submitText:s._(/*BTDS*/"Share")}),t[1]=i,t[2]=_):_=t[2];var f=_,g;t[3]!==f||t[4]!==p?(g=function(){p({beginningViewState:f})},t[3]=f,t[4]=p,t[5]=g):g=t[5];var h=g,y,C;t[6]===Symbol.for("react.memo_cache_sentinel")?(y=o("fbicon")._(u("484394"),16),C=s._(/*BTDS*/"Share"),t[6]=y,t[7]=C):(y=t[6],C=t[7]);var b;t[8]!==h||t[9]!==a||t[10]!==l?(b=d.jsx(r("VideoPlayerActionButton.react"),{icon:y,label:C,onPress:h,shouldJustifyContentCenter:a,useVerticalLayout:l}),t[8]=h,t[9]=a,t[10]=l,t[11]=b):b=t[11];var v=b,S;t[12]!==v||t[13]!==h||t[14]!==n?(S=n!=null?n({onPress:h}):v,t[12]=v,t[13]=h,t[14]=n,t[15]=S):S=t[15];var R=S,L;return t[16]!==R?(L=d.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:17,children:R}),t[16]=R,t[17]=L):L=t[17],L}function _(t){var r,a=o("react-compiler-runtime").c(6),i=t.renderActionButton,l=t.shouldJustifyContentCenter,s=t.useVerticalLayout,u=t.video,c=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerReshareButton_video.graphql"),u),m=c==null?void 0:c.can_viewer_share,_=c==null||(r=c.creation_story)==null||(r=r.shareable)==null?void 0:r.wwwUrl,f;return a[0]!==m||a[1]!==i||a[2]!==l||a[3]!==_||a[4]!==s?(f=m===!0&&_!=null?d.jsx(p,{renderActionButton:i,shouldJustifyContentCenter:l,url:_,useVerticalLayout:s}):null,a[0]=m,a[1]=i,a[2]=l,a[3]=_,a[4]=s,a[5]=f):f=a[5],f}l.default=_}),226);
__d("VideoPlayerWatchAgainButton.react",["fbt","ix","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(9),n=e.useVerticalLayout,a=(c||(c=o("VideoPlayerHooks"))).useController(),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=o("fbicon")._(u("534218"),16),t[0]=i):i=t[0];var l;t[1]!==n?(l=n===!0?s._(/*BTDS*/"Replay Video"):s._(/*BTDS*/"Watch again"),t[1]=n,t[2]=l):l=t[2];var m;t[3]!==a?(m=function(){return a.play("user_initiated")},t[3]=a,t[4]=m):m=t[4];var p;return t[5]!==l||t[6]!==m||t[7]!==n?(p=d.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:188,children:d.jsx(r("VideoPlayerActionButton.react"),{icon:i,label:l,onPress:m,useVerticalLayout:n})}),t[5]=l,t[6]=m,t[7]=n,t[8]=p):p=t[8],p}l.default=m}),226);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2wvKjr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"2wvKjr")'}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(7),a=t.playerFormat,i=t.pressInteraction,l=t.video,s=o("CometRelay").useFragment(e!==void 0?e:e=n("VideoPlayerWithAudioOverlay_video.graphql"),l),c=s==null?void 0:s.comet_video_player_audio_overlay_renderer;if(c==null)return null;var d;r[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"},r[0]=d):d=r[0];var m;r[1]!==a||r[2]!==i?(m={playerFormat:a,pressInteraction:i},r[1]=a,r[2]=i,r[3]=m):m=r[3];var p;return r[4]!==c||r[5]!==m?(p=u.jsx("div",babelHelpers.extends({},d,{children:u.jsx(o("CometRelay").MatchContainer,{match:c,props:m})})),r[4]=c,r[5]=m,r[6]=p):p=r[6],p}l.default=c}),98);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(5),n=e.feedAggregationType,r=e.reactionVideoChannelType,a=(s||(s=o("VideoPlayerHooks"))).useController(),i,l;return t[0]!==a||t[1]!==n||t[2]!==r?(i=function(){r!=null&&a.setLoggingToVPLAdditionalData("reaction_video_channel_type",r),n!=null&&a.setLoggingToVPLAdditionalData("feed_aggregation_type",n)},l=[a,n,r],t[0]=a,t[1]=n,t[2]=r,t[3]=i,t[4]=l):(i=t[3],l=t[4]),u(i,l),null}l.default=c}),98);
__d("useInnerMostTrackingCode",["CometTrackingCodeContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=o("react-compiler-runtime").c(10),t=s(r("CometTrackingCodeContext")),n=c,a;e[0]!==t.click_tracking_linkshim_cb?(a=n(t.click_tracking_linkshim_cb),e[0]=t.click_tracking_linkshim_cb,e[1]=a):a=e[1];var i;e[2]!==t.encrypted_click_tracking?(i=n(t.encrypted_click_tracking),e[2]=t.encrypted_click_tracking,e[3]=i):i=e[3];var l;e[4]!==t.encrypted_tracking?(l=n(t.encrypted_tracking),e[4]=t.encrypted_tracking,e[5]=l):l=e[5];var u;e[6]!==a||e[7]!==i||e[8]!==l?(u={click_tracking_linkshim_cb:a,encrypted_click_tracking:i,encrypted_tracking:l},e[6]=a,e[7]=i,e[8]=l,e[9]=u):u=e[9];var d=u;return d}function c(e){return e.length>0?[e[e.length-1]]:[]}l.default=u}),98);/*FB_PKG_DELIM*/
__d("CometUFIReactionStrategy_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionStrategy_feedback",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3PKu67"},{kind:"Literal",name:"use_static_icons",value:!1}],concreteType:null,kind:"LinkedField",name:"comet_ufi_reaction_icon_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIReactionStrategy_feedback",fragmentName:"CometAnimatedReactionIconRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometUFIAnimatedReactionIconRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIReactionStrategy_feedback",fragmentName:"CometStaticReactionIconRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometUFIStaticReactionIconRenderer",abstractKey:null}],storageKey:'comet_ufi_reaction_icon_renderer(supported:"3PKu67",use_static_icons:false)'}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFIReactionsMenuIcon.react",["CometFocusGroupContext","CometPressable.react","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c="x1au9btt-B",d="xekv6nw-B",m={reactionIcon:{transitionDuration:"x13dflua",transitionProperty:"x11xpdln",$$css:!0},reactionIconActive:{transform:"x295jky",$$css:!0},reactionIconTooltip:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x127lhb5",backgroundColor:"xjb1437",borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",bottom:"xmqbgn8",color:"x126bsmu",fontSize:"x1pg5gke",fontWeight:"x117nqv4",left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,paddingTop:"xyqdw3p",paddingInlineEnd:"x1gabggj",paddingBottom:"xg8j3zb",paddingInlineStart:"xaso8d8",position:"x10l6tqk",transform:"xuuh30",$$css:!0},reactionIconTooltipHidden:{display:"x1s85apg",$$css:!0},reactionIconWrapper:{alignItems:"x6s0dn4",animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xif3mjy",animationTimingFunction:"x4hg4is",cursor:"x1ypdohk",display:"x78zum5",marginInlineEnd:"x2fvf9",marginInlineStart:"xdwrcjd",position:"x1n2onr6",$$css:!0},selectedReactionDotIndicator:{backgroundColor:"x4wba6h",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xols6we",insetInlineStart:"x47vyx8",left:null,right:null,position:"x10l6tqk",top:"xcgnprq",width:"x1v4s8kt",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(22),n=e.ariaLabel,a=e.children,i=e.isActive,l=e.onFocusIn,c=e.onFocusOut,d=e.onSelect,p=e.reactionID,_=e.reactionName,f=e.showSelectedIndicator,g=[m.reactionIcon];i&&g.push(m.reactionIconActive);var h=u(r("CometFocusGroupContext")),y=h.FocusItem,C=y!=null?y:s.Fragment,b=r("CometTrackingNodeProvider.react"),v=5,S=r("CometPressable.react"),R=!0,L="reaction_"+p,E=m,k=a({xstyle:g}),I;t[0]!==i||t[1]!==_?(I=_!=null&&s.jsx("div",babelHelpers.extends({},{0:{className:"x5hsz1j x10e4vud x1v7wizp x127lhb5 xjb1437 x1rgw4pv x1vjm0to xnqoqkk x16lu3ki xmqbgn8 x126bsmu x1pg5gke x117nqv4 x1nrll8i xyqdw3p x1gabggj xg8j3zb xaso8d8 x10l6tqk xuuh30"},1:{className:"x5hsz1j x10e4vud x1v7wizp x127lhb5 xjb1437 x1rgw4pv x1vjm0to xnqoqkk x16lu3ki xmqbgn8 x126bsmu x1pg5gke x117nqv4 x1nrll8i xyqdw3p x1gabggj xg8j3zb xaso8d8 x10l6tqk xuuh30 x1s85apg"}}[!i<<0],{"data-testid":void 0,children:_})),t[0]=i,t[1]=_,t[2]=I):I=t[2];var T;t[3]!==f?(T=f===!0&&s.jsx("div",{className:"x4wba6h x1c9tyrk xeusxvb x1pahc9y x1ertn4p xols6we x47vyx8 x10l6tqk xcgnprq x1v4s8kt"}),t[3]=f,t[4]=T):T=t[4];var D;t[5]!==S||t[6]!==n||t[7]!==l||t[8]!==c||t[9]!==d||t[10]!==L||t[11]!==E.reactionIconWrapper||t[12]!==k||t[13]!==I||t[14]!==T?(D=s.jsxs(S,{"aria-label":n,onFocusIn:l,onFocusOut:c,onHoverIn:l,onHoverOut:c,onPress:d,overlayDisabled:R,testid:void 0,xstyle:E.reactionIconWrapper,children:[k,I,T]}),t[5]=S,t[6]=n,t[7]=l,t[8]=c,t[9]=d,t[10]=L,t[11]=E.reactionIconWrapper,t[12]=k,t[13]=I,t[14]=T,t[15]=D):D=t[15];var x;t[16]!==b||t[17]!==D?(x=s.jsx(b,{trackingNode:v,children:D}),t[16]=b,t[17]=D,t[18]=x):x=t[18];var $;return t[19]!==C||t[20]!==x?($=s.jsx(C,{children:x}),t[19]=C,t[20]=x,t[21]=$):$=t[21],$}l.CometUFIReactionsMenuIcon=p}),98);
__d("CometUFIReactionStrategy.react",["fbt","CometRelay","CometUFIReactionStrategy_feedback.graphql","CometUFIReactionsMenuIcon.react","DynamicUFIReactionTypes","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["animationURI","disableAnimationPlayback","feedback","isSelected","showSelectedIndicator","touchElementRef"],u,c,d=c||(c=o("react"));function m(t){var a=o("react-compiler-runtime").c(23),i,l,c,m,p,_,f;a[0]!==t?(i=t.animationURI,l=t.disableAnimationPlayback,c=t.feedback,m=t.isSelected,_=t.showSelectedIndicator,f=t.touchElementRef,p=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=c,a[4]=m,a[5]=p,a[6]=_,a[7]=f):(i=a[1],l=a[2],c=a[3],m=a[4],p=a[5],_=a[6],f=a[7]);var g=o("CometRelay").useFragment(u!==void 0?u:u=n("CometUFIReactionStrategy_feedback.graphql"),c),h=r("DynamicUFIReactionTypes").reactions[p.reactionID].display_name,y;a[8]!==m||a[9]!==h?(y=m?s._(/*BTDS*/"Remove {selected reaction}",[s._param("selected reaction",h)]):h,a[8]=m,a[9]=h,a[10]=y):y=a[10];var C=y,b=m&&_,v;a[11]!==i||a[12]!==l||a[13]!==g.comet_ufi_reaction_icon_renderer||a[14]!==p.reactionID||a[15]!==f?(v=function(t){var e=t.xstyle;return d.jsx(o("CometRelay").MatchContainer,{match:g.comet_ufi_reaction_icon_renderer,props:{animationURI:i,disableAnimationPlayback:l,reactionID:p.reactionID,touchElementRef:f,xstyle:e}})},a[11]=i,a[12]=l,a[13]=g.comet_ufi_reaction_icon_renderer,a[14]=p.reactionID,a[15]=f,a[16]=v):v=a[16];var S;return a[17]!==C||a[18]!==p||a[19]!==h||a[20]!==b||a[21]!==v?(S=d.jsx(o("CometUFIReactionsMenuIcon.react").CometUFIReactionsMenuIcon,babelHelpers.extends({ariaLabel:C,reactionName:h,showSelectedIndicator:b},p,{children:v})),a[17]=C,a[18]=p,a[19]=h,a[20]=b,a[21]=v,a[22]=S):S=a[22],S}l.default=m}),226);
__d("CometUFIReactionsMenuA11yCloseButton.react",["fbt","CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={accessibleElem:{clip:"xzpqnlu",clipPath:"x179tack",position:"x10l6tqk",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.onClose,a=e.onFocusIn,i;t[0]!==a?(i=function(){return a(null)},t[0]=a,t[1]=i):i=t[1];var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Close reactions"),t[2]=l):l=t[2];var d;return t[3]!==n||t[4]!==i?(d=u.jsx(r("CometPressable.react"),{focusable:!1,onFocusIn:i,onPress:n,xstyle:c.accessibleElem,children:l}),t[3]=n,t[4]=i,t[5]=d):d=t[5],d}l.default=d}),226);
__d("CometUFIReactionsMenuClassic_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionsMenuClassic_feedback",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIReactionsMenuInner_feedback"}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFIReactionsMenuDock_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionsMenuDock_feedback",selections:[{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:[{alias:null,args:null,concreteType:"FeedbackReactionAnimation",kind:"LinkedField",name:"animation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_keyframes2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"supported_reaction_infos(use_default_actor:false)"},{args:null,kind:"FragmentSpread",name:"CometUFIReactionStrategy_feedback"}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("GroupsCometUnclickableOverlay.react",["react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="rgba(36, 37, 38, 0.5)";function c(e){var t=o("react-compiler-runtime").c(9),n,a=r("useCurrentDisplayMode")();if(!e.disabled){var i;t[0]!==a?(i={0:{className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy x11uqc5h x1ugltyw"},1:{className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy x11uqc5h xiakxrv"}}[(a==="light")<<0],t[0]=a,t[1]=i):i=t[1];var l;t[2]!==e.testID||t[3]!==i?(l=s.jsx("div",babelHelpers.extends({},i,{"data-testid":void 0})),t[2]=e.testID,t[3]=i,t[4]=l):l=t[4],n=l}var u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x1n2onr6"},t[5]=u):u=t[5];var c;return t[6]!==n||t[7]!==e.children?(c=s.jsxs("div",babelHelpers.extends({},u,{children:[n,e.children]})),t[6]=n,t[7]=e.children,t[8]=c):c=t[8],c}l.default=c}),98);
__d("useCometUFIReactionsTouchActions",["react","react-compiler-runtime","useGlobalEventListener"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t,n,a){var i=o("react-compiler-runtime").c(3),l=c(null),s;i[0]===Symbol.for("react.memo_cache_sentinel")?(s=function(){return l.current===null&&(l.current=new WeakMap),l.current},i[0]=s):s=i[0];var u=s,d;i[1]!==a?(d=function(t){var e=t.touches,n=e[0],r=document.elementFromPoint(n.clientX,n.clientY);if(r instanceof HTMLElement){var o=u();if(o){var i=o.get(r);i!=null&&a(i)}}},i[1]=a,i[2]=d):d=i[2];var m=d;return r("useGlobalEventListener")("touchcancel",e?t:null),r("useGlobalEventListener")("touchend",e?n:null),r("useGlobalEventListener")("touchmove",e?m:null),u}l.default=d}),98);
__d("CometUFIReactionsMenuDock.react",["CometColumn.react","CometRelay","CometRow.react","CometRowItem.react","CometUFIReactionStrategy.react","CometUFIReactionsMenuContextProvider","CometUFIReactionsMenuDock_feedback.graphql","DynamicUFIReactionTypes","GroupsCometUnclickableOverlay.react","react","react-compiler-runtime","useCometUFIReactionsTouchActions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useMemo,m=c.useState;function p(t){var a=o("react-compiler-runtime").c(21),i=t.currentReactionID,l=t.feedback,s=t.selectCurrentReaction,c=t.setCurrentReactionID,d=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFIReactionsMenuDock_feedback.graphql"),l),p=o("CometUFIReactionsMenuContextProvider").useCometUFIReactionsMenuContext(),f=p.disableAnimationPlayback,g=p.initialReactionID,h=p.onClose,y=p.scrubbingMode,C=p.showSelectedIndicator,b;if(a[0]!==d.supported_reaction_infos){var v;b=((v=d.supported_reaction_infos)!=null?v:[]).map(_).filter(Boolean),a[0]=d.supported_reaction_infos,a[1]=b}else b=a[1];var S=b,R=r("useCometUFIReactionsTouchActions")(y,h,s,c),L=m(null),E=L[0],k=L[1],I;a[2]!==c?(I=function(){c(null)},a[2]=c,a[3]=I):I=a[3];var T=I,D;a[4]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x78zum5"},a[4]=D):D=a[4];var x=E!=="group",$,P;a[5]===Symbol.for("react.memo_cache_sentinel")?($=function(){k("classic")},P=function(){k(null)},a[5]=$,a[6]=P):($=a[5],P=a[6]);var N;a[7]!==T||a[8]!==i||a[9]!==f||a[10]!==d||a[11]!==R||a[12]!==g||a[13]!==s||a[14]!==c||a[15]!==C||a[16]!==S?(N=u.jsx("div",{onMouseEnter:$,onMouseLeave:P,children:u.jsx(r("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:0,children:S.map(function(e){var t=e.animationURI,n=e.id;return u.jsx(r("CometRowItem.react"),{expanding:!0,children:u.jsx(r("CometUFIReactionStrategy.react"),{animationURI:t,disableAnimationPlayback:f,feedback:d,isActive:i===n,isSelected:g===n,onFocusIn:function(){c(n)},onFocusOut:T,onSelect:s,reactionID:n,showSelectedIndicator:C,touchElementRef:function(t){if(t){var e=R();e&&e.set(t,n)}}},n)},n)})})}),a[7]=T,a[8]=i,a[9]=f,a[10]=d,a[11]=R,a[12]=g,a[13]=s,a[14]=c,a[15]=C,a[16]=S,a[17]=N):N=a[17];var M;return a[18]!==x||a[19]!==N?(M=u.jsx("div",babelHelpers.extends({},D,{role:"toolbar",children:u.jsx(r("CometColumn.react"),{hasDividers:!0,paddingHorizontal:0,paddingTop:0,spacing:8,children:u.jsx(r("CometRow.react"),{paddingVertical:0,spacing:0,children:u.jsx(r("CometRowItem.react"),{children:u.jsx(r("GroupsCometUnclickableOverlay.react"),{disabled:x,children:N})})})})})),a[18]=x,a[19]=N,a[20]=M):M=a[20],M}function _(e){var t=e.animation,n=e.id;if(n==null)return null;var o=r("DynamicUFIReactionTypes").ordering.indexOf(n);return o!==-1?{animationURI:t==null?void 0:t.uri_keyframes2,id:r("DynamicUFIReactionTypes").ordering[o]}:null}l.default=p}),98);
__d("CometUFIReactionsMenuInner_feedback.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIReactionsMenuInner_feedback",selections:[{args:null,kind:"FragmentSpread",name:"CometUFIReactionsMenuDock_feedback"}],type:"Feedback",abstractKey:null};a.exports=e}),null);
__d("CometUFIReactionsMenuInner.react",["fbt","CometFocusGroup.react","CometRelay","CometUFIQPLInstanceKeyContext","CometUFIReactionsMenuA11yCloseButton.react","CometUFIReactionsMenuContextProvider","CometUFIReactionsMenuDock.react","CometUFIReactionsMenuInner_feedback.graphql","CometVisualCompletionAttributes","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime","requireDeferred","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useState,g=r("requireDeferred")("CometUFIFunnelLogger").__setRef("CometUFIReactionsMenuInner.react"),h="xekv6nw-B",y={backgroundHidden:{backgroundColor:null,$$css:!0},root:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x127lhb5",backgroundColor:"x1jx94hy",borderStartStartRadius:"xr4gsrn",borderStartEndRadius:"xa83c8o",borderEndEndRadius:"x3oym20",borderEndStartRadius:"x1i84rja",boxShadow:"x1dpmhr1",display:"x78zum5",paddingBottom:"xs9asl8",paddingTop:"x123j3cw",pointerEvents:"x67bb7w",whiteSpace:"xuxw1ft",$$css:!0},rootWithGroupReactions:{borderStartStartRadius:"x17m9png",borderStartEndRadius:"x91sizk",borderEndEndRadius:"x1vva9xg",borderEndStartRadius:"x1jfkl46",$$css:!0}};function C(t){var a=o("react-compiler-runtime").c(32),i=t.enableVCTracking,l=t.feedback,c=t.hideBackground,m=t.isTwoRow,p=t.ref,h=t.wrapperXStyle,C=t.xstyle,b=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFIReactionsMenuInner_feedback.graphql"),l),v=o("CometUFIReactionsMenuContextProvider").useCometUFIReactionsMenuContext(),S=v.focusOnShow,R=v.onClose,L=v.onHoverIn,E=v.onHoverOut,k=v.onReactionSelect,I=v.scrubbingMode,T=v.shouldFocusOnShow,D=f(null),x=D[0],$=D[1],P=T&&T()||S===!0,N=i!==!0?r("CometVisualCompletionAttributes").IGNORE_DYNAMIC:void 0,M=_(r("CometUFIQPLInstanceKeyContext")),w;a[0]!==x||a[1]!==k||a[2]!==M?(w=function(){x!=null&&(g.onReady(function(e){var t=e.getReactionMenuEventFromReaction(x);t!=null&&e.addPoint(M,t)}),k(x))},a[0]=x,a[1]=k,a[2]=M,a[3]=w):w=a[3];var A=w,F=P?o("focusScopeQueries").tabbableScopeQuery:null,O;a[4]!==h?(O=(u||(u=r("stylex"))).props(h),a[4]=h,a[5]=O):O=a[5];var B;a[6]===Symbol.for("react.memo_cache_sentinel")?(B=s._(/*BTDS*/"Reactions"),a[6]=B):B=a[6];var W;a[7]!==c||a[8]!==m||a[9]!==C?(W=(u||(u=r("stylex")))(y.root,m===!0&&y.rootWithGroupReactions,c===!0&&y.backgroundHidden,C),a[7]=c,a[8]=m,a[9]=C,a[10]=W):W=a[10];var q=I?A:null,U;a[11]!==x||a[12]!==b||a[13]!==A?(U=d.jsx(r("CometFocusGroup.react"),{hideArrowSignifiers:!0,orientation:"horizontal",role:"toolbar",tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:function(t){return d.jsx(r("CometUFIReactionsMenuDock.react"),{currentReactionID:x,feedback:b,selectCurrentReaction:A,setCurrentReactionID:$})}}),a[11]=x,a[12]=b,a[13]=A,a[14]=U):U=a[14];var V;a[15]!==R?(V=d.jsx(r("CometUFIReactionsMenuA11yCloseButton.react"),{onClose:R,onFocusIn:$}),a[15]=R,a[16]=V):V=a[16];var H;a[17]!==p||a[18]!==E||a[19]!==W||a[20]!==q||a[21]!==U||a[22]!==V||a[23]!==N?(H=d.jsxs("div",babelHelpers.extends({},N,{"aria-label":B,className:W,"data-testid":void 0,onMouseLeave:E,onMouseUp:q,ref:p,role:"dialog",children:[U,V]})),a[17]=p,a[18]=E,a[19]=W,a[20]=q,a[21]=U,a[22]=V,a[23]=N,a[24]=H):H=a[24];var G;a[25]!==L||a[26]!==O||a[27]!==H?(G=d.jsx("div",babelHelpers.extends({},O,{onMouseEnter:L,children:H})),a[25]=L,a[26]=O,a[27]=H,a[28]=G):G=a[28];var z;return a[29]!==G||a[30]!==F?(z=d.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:F,containFocusQuery:o("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:G}),a[29]=G,a[30]=F,a[31]=z):z=a[31],z}l.default=C}),226);
__d("CometUFIReactionsMenuClassic.react",["CometContextualLayer.react","CometHideLayerOnEscape.react","CometRelay","CometUFIReactionsMenuClassic_feedback.graphql","CometUFIReactionsMenuContextProvider","CometUFIReactionsMenuInner.react","react","react-compiler-runtime","useOnOutsideClick"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(13),i=t.contextRef,l=t.feedback,s=t.visible,c=t.wrapperXStyle,d=t.xstyle,m=o("CometRelay").useFragment(e!==void 0?e:e=n("CometUFIReactionsMenuClassic_feedback.graphql"),l),p=o("CometUFIReactionsMenuContextProvider").useCometUFIReactionsMenuContext(),_=p.onClose,f=r("useOnOutsideClick")(s?_:null);if(!s)return null;var g;a[0]!==m||a[1]!==c||a[2]!==d?(g=u.jsx(r("CometUFIReactionsMenuInner.react"),{feedback:m,wrapperXStyle:c,xstyle:d}),a[0]=m,a[1]=c,a[2]=d,a[3]=g):g=a[3];var h;a[4]!==f||a[5]!==g?(h=u.jsx("div",{ref:f,children:g}),a[4]=f,a[5]=g,a[6]=h):h=a[6];var y;a[7]!==_||a[8]!==h?(y=u.jsx(r("CometHideLayerOnEscape.react"),{onHide:_,children:h}),a[7]=_,a[8]=h,a[9]=y):y=a[9];var C;return a[10]!==i||a[11]!==y?(C=u.jsx(r("CometContextualLayer.react"),{align:"start",contextRef:i,position:"above",children:y}),a[10]=i,a[11]=y,a[12]=C):C=a[12],C}l.default=c}),98);
__d("UFI2ScaleRect",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return c(e,!0)}function u(e){return c(e,!1)}function c(e,t){var n=e.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero,r=e.maxHeight,o=e.maxWidth,a=e.srcHeight,i=e.srcWidth;n===!1&&(a>0||s(0,5272,a),i>0||s(0,5273,i)),r>0||s(0,5274,r),o>0||s(0,5275,o);var l=n&&a===0?r:a,u=n&&i===0?o:i,c=o/u,d=r/l,m=t?Math.min(c,d):Math.min(c,d,1);return{height:Math.round(l*m),width:Math.round(u*m)}}l.scaleToContain=e,l.shrinkToContain=u}),98);/*FB_PKG_DELIM*/
__d("EBMinosVerifySingleEpoch",["EBAPIMinosVerifySingleEpoch"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,r,a,i,l,s){var u=await o("EBAPIMinosVerifySingleEpoch").minosVerifySingleEpoch({minosEpochAnonId:e,minosMailboxAuthPublicKey:a,minosMailboxEncryptionPublicKey:r,minosMailboxSigningPublicKey:n,previousEpochHead:i,qplFlow:s,selfEpochSignature:l,userId:t});return Promise.resolve([u])}l.minosVerifySingleEpoch=e}),98);
__d("EBWriteMinosMailboxKeysToCache",["EBAPIWriteMinosPublicKeysForRecipient","FBLogger","Promise","cr:12495","getErrorSafe","getSafeQplErrorMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=t.contactId,i=t.encryptionPublicKey,l=t.epochAnonId,u=t.epochHead,c=t.epochHeadCreationTime,d=t.publicKeyFbid,m=t.qplFlow;return m.addPoint("write_keys_start",{string:{contactId:a}}),n("cr:12495")!=null&&r("promiseDone")(n("cr:12495").writeStorageAlertAndAdminMessageBridgedAPI(a,u,c)),r("promiseDone")(o("EBAPIWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipientAPI({contactId:a,encryptionPublicKey:i,epochAnonId:l,epochHead:u,epochHeadCreationTime:c,publicKeyFbid:d}),function(){m.addPoint("write_keys_end"),m.endSuccess()},function(t){var n=r("getErrorSafe")(t);m.addPoint("write_keys_end"),r("FBLogger")("wmi").MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web minos] error writing minos mailbox keys to cache: ",""])),n.message),m.endFailWithError("runtime-error",o("getSafeQplErrorMessage").getSafeQPLErrorMessage(n))}),(s||(s=n("Promise"))).resolve()}l.writeMinosMailboxKeysToCache=u}),98);
__d("LogJsspStatsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6181"),s=o("FalcoLoggerInternal").create("log_jssp_stats",e),u=s;l.default=u}),98);
__d("MWChatSidebarStateSettingMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29218721377742847"}),null);
__d("MWChatSidebarStateSettingMutation.graphql",["MWChatSidebarStateSettingMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ChatSidebarIsCollapsedResponsePayload",kind:"LinkedField",name:"chat_sidebar_is_collapsed",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatSidebarStateSettingMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatSidebarStateSettingMutation",selections:t},params:{id:n("MWChatSidebarStateSettingMutation_facebookRelayOperation"),metadata:{},name:"MWChatSidebarStateSettingMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("MWChatSidebarStateSettingMutation",["CometRelay","MWChatSidebarStateSettingMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MWChatSidebarStateSettingMutation.graphql");function u(e){var t=e.environment,n=e.isCollapsed,r=e.onCompleted,a=e.onError;o("CometRelay").commitMutation(t,{mutation:s,onCompleted:r,onError:a,variables:{input:{is_collapsed:n}}})}l.default=u}),98);
__d("PromiseResult",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=(function(){function t(){var t=this;this.promise=new(e||(e=n("Promise")))(function(e,n){t.$1=e,t.$2=n})}var r=t.prototype;return r.resolve=function(t){this.$1(t)},r.reject=function(t){this.$2(t)},t})();i.default=l}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s="fetch_pull",u="fetch_pull_finish",c="fetch_",d=6e4,m="action",p="chunked",_="send",f="true",g=5,h=20,y=10,C=5e3,b=typeof window!="undefined"?window:self,v=(function(){function t(){this.$1="",this.$2=o("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(r("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(e){},this.$8=function(){},this.$9=function(e){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}t.isSupported=function(){return typeof b.fetch=="function"};var a=t.prototype;return a.run=function(t,n,r,a,i,l,s,u){var e=this;this.$1=o("MqttUtils").endpointWithSessionId(t,n),this.$3=n,this.$4=r,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,o("MqttEnv").Env.setTimeout(function(){return e.$20()},0)},a.isTopicSupported=function(t){return!0},a.publish=function(t,n){return this.$21(t,n)},a.publishBinary=function(t,n){return this.$21(t,n)},a.$21=function(o,a){if(this.$14!=="ReceivingData")return this.$2.bumpCounter(c+"publish."+o+".invalidstate"),(e||(e=n("Promise"))).reject("not connected");this.$2.bumpCounter(c+"publish."+o+".publish");var t=new(r("PromiseResult")),i={topic:o,payload:a,promiseResult:t};return this.$15.push(i),this.$22(),t.promise},a.abort=function(){this.$6=function(){},this.$7=function(e){},this.$8=function(){},this.$9=function(e){}},a.$23=function(t){var e=this;t.forEach(function(t){e.$2.bumpCounter(c+"publish."+t.topic+".resolved"),t.promiseResult.resolve()}),this.$12+=t.length},a.$24=function(t,n){var e=this;t.forEach(function(t){e.$2.bumpCounter(c+"publish."+t.topic+".rejected"),t.promiseResult.reject(n)})},a.$25=function(t,n,r,o){var e=t.map(function(e){return e.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+r),this.$2.bumpCounter(c+"publish_request_failed"),this.$14!=="ReceivingData"||r===g?(this.$24(t,o),this.$18=!1,this.$2.bumpCounter(c+"publish_request_failed_final"),this.$22()):this.$26(t,n,r+1)},a.$27=function(t,n,r,o){if(!o.ok){if(this.$2.bumpCounter(c+"publish_request_failed.http."+o.status),o.status===409&&(this.$19++,this.$19>=y)){this.$2.bumpCounter(c+"409_reset"),this.$28(new Error("Too many 409 errors"));return}this.$25(t,n,r,this.$29(o));return}this.$2.bumpCounter(c+"publish_request_success");var e=t.map(function(e){return e.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+e+", retry:"+r),this.$23(t),this.$18=!1,this.$22()},a.$22=function(){if(this.$14==="ReceivingData"&&!this.$18&&!(this.$15.length===0&&this.$16.length===0)){this.$18=!0;var e=this.$15.slice(0,h);this.$15=this.$15.slice(h,this.$15.length),this.$17!=null&&o("MqttEnv").Env.clearTimeout(this.$17),this.$17=null;var t=this.$16.slice(0,h);this.$16=this.$16.slice(h,this.$16.length),this.$26(e,t,0)}},a.$26=function(t,n,r){var e=this,a=t.map(function(e){return e.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+a+", retry:"+r);var i=o("MqttUtils").endpointWithExtraParameter(this.$1,m,_),l=t.map(function(e){return{topic:e.topic,payload:e.payload,qos:0,messageId:o("MqttEnv").Env.random()}}),s=this.$5.gen(this.$3,[],l,n);this.$2.bumpCounter(c+"publish_request"),o("MqttUtils").promiseDoneWithTimeout(b.fetch(i,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:s,keepalive:!1}),function(o){return e.$27(t,n,r,o)},function(o){return e.$25(t,n,r,o)},d)},a.$30=function(t){var e=t.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+e),this.$9(e),this.$31(!1,e),this.$2.bumpCounter(c+"error"),this.$14="Error"},a.$32=function(t){var e=this;this.$2.debugTrace("FetchClient","Fetch response data received");var n=o("MqttProtocolCodec").decodeByteMessages(new Uint8Array(t)),r=n.messages,a=r.filter(function(e){return e.messageType===o("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ}),i=r.filter(function(e){return e.messageType===o("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(t){if(!(t instanceof o("MqttProtocolCodec").WireMessage.Publish))return{};var n=t;return n.qos===1&&n.messageIdentifier!=null&&(e.$16.push(n.messageIdentifier),e.$17==null&&(e.$17=o("MqttEnv").Env.setTimeout(function(){e.$22()},C))),{topic:n.topic,payload:n.payloadMessage,qos:n.qos}});for(var l of i){var s;this.$2.bumpCounter(c+"response_"+((s=l.topic)!=null?s:"void"))}i&&i.length>0&&(this.$13+=i.length,this.$7(i)),a&&a.length>0&&this.$33()},a.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(c+"ping")},a.$28=function(t){this.$2.debugTrace("FetchClient","Fetch request ended: "+t.toString()),this.$2.bumpCounter(c+"done"),this.$34(t.message),this.$8(),this.$14="Done"},a.$35=function(t,n,a){var e=this;if(a!=null)try{this.$32(a)}catch(e){this.$28(r("getErrorSafe")(e)),this.$2.bumpCounter(c+"dataDecodeException");return}if(n){this.$28(new Error("EOF"));return}o("MqttUtils").promiseDone(t.read(),function(n){var r=n.done,o=n.value;return e.$35(t,r,o)},function(t){return e.$28(t)})},a.$36=function(t){if(!t.ok){this.$2.bumpCounter(c+"error.http."+t.status),this.$30(this.$29(t));return}var e=t.body;if(!e){this.$30(new Error("Empty body"));return}var n=e.getReader();this.$6(),this.$2.bumpCounter(c+"success"),this.$31(!0,null),this.$11=Date.now(),this.$14="ReceivingData",this.$2.debugTrace("FetchClient","Fetch request success"),this.$35(n,!1,null)},a.$34=function(t){this.$2.eventLogPullFinish({pullEventName:u,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:t,publishReceived:this.$13,publishSent:this.$12})},a.$31=function(t,n){this.$2.eventLogPull({pullEventName:s,sessionID:this.$3,status:t,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:n})},a.$20=function(){var e=this;if(this.$14==="Ready"){this.$2.debugTrace("FetchClient","Sending fetch request"),this.$2.bumpCounter(c+"request"),this.$10=Date.now();var t=o("MqttUtils").endpointWithExtraParameter(this.$1,p,f);o("MqttUtils").promiseDoneWithTimeout(b.fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(t){return e.$36(t)},function(t){return e.$30(t)},d)}},a.$29=function(t){return new Error("Http error, status="+t.status)},t})();l.default=v}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=12e4,u="simple_pull",c="longpolling_",d=(function(){function t(){this.$3="",this.$4=0,this.$2=o("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(r("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(e){},this.$9=function(){},this.$10=function(e){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var a=t.prototype;return a.run=function(t,n,r,o,a,i,l,s){this.$3=t,this.$4=n,this.$5=r,this.$6=o,this.$7=a,this.$8=i,this.$9=l,this.$10=s,this.$14(this.$5)},a.isTopicSupported=function(t){return this.$13.has(t)},a.publish=function(r,o){return(e||(e=n("Promise"))).reject("not supported")},a.publishBinary=function(r,o){return(e||(e=n("Promise"))).reject("not supported")},a.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")},a.$15=function(t,n){this.$1!==t&&(this.$1=t,t==="Error"&&n!=null&&this.$10(n),this.$2.debugTrace("LongPollingClient","_changeStatus : "+t))},a.$16=function(t){if(this.$1==="RequestSend"){if(!t){this.$17("EmptyResponse",null);return}this.$7(),this.$2.bumpCounter(c+"success"),this.$18(!0,null),this.$15("ResponseReceived");var e=o("MqttProtocolCodec").decodeByteMessages(new Uint8Array(t)),n=e.messages.filter(function(e){return e instanceof o("MqttProtocolCodec").WireMessage.Publish}).map(function(e){if(e instanceof o("MqttProtocolCodec").WireMessage.Publish){var t=e;return{topic:t.topic,payload:t.payloadMessage,qos:t.qos}}else return{}});this.$8(n),this.$9()}},a.$17=function(t,n){var e=n!=null?n.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+t+", errorMsg:"+e),this.$18(!1,t+":"+e),this.$2.bumpCounter(c+"error."+t),this.$15("Error",t)},a.$18=function(t,n){this.$2.eventLogPull({pullEventName:u,sessionID:this.$4,status:t,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:n})},a.$14=function(t){var e=this;if(!(this.$1!=="Ready"||this.$12)){this.$2.bumpCounter(c+"request");try{this.$11=Date.now(),this.$12=new(r("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(t).setTransportBuilder(r("getCrossOriginTransport").withCredentials).setResponseHandler(function(t){return e.$16(t)}).setNetworkFailureHandler(function(t){e.$17("Network",t)}).setErrorHandler(function(t){e.$17("Error",t)}).setAbortHandler(function(t){e.$17("Abort",null)}).setTimeoutHandler(function(){e.$17("Timeout",null)}).setTimeout(s).send(),this.$15("RequestSend")}catch(e){this.$17("Error",r("getErrorSafe")(e))}}},t})();l.default=d}),98);
__d("MqttLongPollingHookCollection",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Set}var t=e.prototype;return t.addHook=function(t){this.$1.add(t)},t.removeHook=function(t){this.$1.delete(t)},t.onPollRequestSent=function(){this.$1.forEach(function(e){e.onPollRequestSent()})},t.onPollRequestSuccess=function(){this.$1.forEach(function(e){e.onPollRequestSuccess()})},t.onPollResponse=function(t){this.$1.forEach(function(e){e.onPollResponse(t)})},t.onPollFinish=function(){this.$1.forEach(function(e){e.onPollFinish()})},t.onPollRequestFailed=function(t){this.$1.forEach(function(e){e.onPollRequestFailed(t)})},t.onPollShutdownAbort=function(){this.$1.forEach(function(e){e.onPollShutdownAbort()})},e})();i.default=e}),66);
__d("exponentialBackoff",["MqttEnv"],(function(t,n,r,o,a,i,l){function e(e,t){t===void 0&&(t=null);var n=null,r=0;function a(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];var s=function(){e.apply(t,i)};if(n===null){var u=Math.max(0,Math.pow(2,Math.min(r,6))*(1e3+o("MqttEnv").Env.random()*100)-2e3);n=o("MqttEnv").Env.setTimeout(function(){s(),n=null},u)}r++}return a.reset=function(){r=0,n!=null&&(o("MqttEnv").Env.clearTimeout(n),n=null)},a.isPending=function(){return n!=null},a}l.default=e}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=4,u=1e3,c=3e3,d="mqtt_should_longpoll",m="last_lp",p="yes",_="no",f=(function(){function t(e,t,n,a,i,l,s,u,c){var d=this;this.$23=function(){try{if(!d.$30())return;d.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var e=d.$31();d.$14=e;var t=d.$9(),n=d.$10(),a=t.filter(function(t){return e.isTopicSupported(t)}),i=n.filter(function(t){return e.isTopicSupported(t.topic)});if(a.length===0&&i.length===0){d.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do"),d.$14=null,o("MqttEnv").Env.setTimeout(function(){d.$23()},1e3);return}var l=o("MqttUtils").generateSessionId();e.run(d.$6,l,d.$7.gen(l,a,i),d.$7,function(){return d.$32()},function(e){return d.$33(e)},function(){return d.$34()},function(e){return d.$35(e)}),d.$19.onPollRequestSent();var s=a.join(","),u=i.map(function(e){return e.topic}).join(",");d.$5.debugTrace("LongPollingRunner","Making a poll request to "+d.$6+". SubscribedTopics:"+s+". Publishes:"+u)}catch(e){var c=r("getErrorSafe")(e);d.$5.logErrorWarn(c,"lp_js_error"),d.$11(new(o("MqttTypes")).MqttChannelError(!1,"js error lp",c)),d.$35("lp_js_error")}},this.$6=e,this.$7=t,this.$1=a,this.$2=0,this.$3=n,this.$4=o("MqttWebSocketUtils").hasWSSupport(),this.$5=o("MqttEnv").Env.getLoggerInstance(),this.$8=i,this.$9=l,this.$10=s,this.$11=u,this.$12=c,this.$13=!1,this.$14=null,this.$15="LPInactive",this.$16="NotSent",this.$17=0,this.$19=new(r("MqttLongPollingHookCollection")),this.$18=r("exponentialBackoff")(this.$23,this),this.$20=0,this.$21=_;var m=o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_lp_use_fetch),p=r("MqttFetchClient").isSupported();m?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail"),p?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported"),this.$22=m&&p}var a=t.prototype;return a.addHook=function(t){this.$19.addHook(t)},a.start=function(){var e=this;this.$21=o("MqttEnv").Env.configRead(m,_),this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21),this.$20=Date.now(),this.$23(),o("MqttEnv").Env.setTimeout(function(){e.$23()},u+100),o("MqttEnv").Env.setTimeout(function(){e.$23()},c+100)},a.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null},a.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"},a.publish=function(t,n,r){return this.$24(t,n)},a.publishBinary=function(t,n,r){return this.$24(t,n)},a.$24=function(r,a){return o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&this.$14&&this.$14.isTopicSupported(r)?typeof a=="string"?this.$14.publish(r,a):this.$14.publishBinary(r,a):(e||(e=n("Promise"))).reject()},a.onConnectAttempt=function(){},a.onConnectFailure=function(){this.$2++,this.$23()},a.onConnected=function(){},a.onConnectSuccess=function(){this.$1=!0,o("MqttEnv").Env.configWrite(m,null)},a.onConnectionLost=function(){},a.onConnectionDisconnect=function(){},a.onSubscribe=function(t){},a.onUnsubscribe=function(t){},a.onPublish=function(t){},a.onMessage=function(t){},a.onWSFatal=function(){this.$3=!0,this.$23()},a.getStatus=function(){return this.$15},a.getRequestStatus=function(){return this.$16},a.$25=function(t){t!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+t+" from "+this.$15),this.$15=t,this.$12(this.$15,this.$16))},a.$26=function(t){this.$22&&t!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+t+" from "+this.$16),this.$16=t,this.$12(this.$15,this.$16))},a.$27=function(){this.$17=0},a.$28=function(){this.$17++,this.$17>=s&&this.$25("LPError")},a.$29=function(){var e,t=(e=o("MqttEnv")).Env.genGk(e.MqttGkNames.mqtt_lp_no_delay),n=e.Env.genGk(e.MqttGkNames.mqtt_ws_polling_enabled),r=e.Env.genGk(e.MqttGkNames.mqtt_fast_lp);if(this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(t)+" enabled:"+String(n)+" fastPoll:"+String(r)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3)),!n)return!1;if(t)return this.$5.bumpCounter(d+".nd"),!0;if(!this.$4)return this.$5.bumpCounter(d+".na"),!0;if(this.$3)return this.$5.bumpCounter(d+".fatal"),!0;if(this.$1)return!1;if(r){var a=Date.now()-this.$20;if(this.$21===p){if(this.$2>=1)return!0;if(a>u)return this.$5.bumpCounter(d+".fastdelay"),!0}else if(a>c)return this.$5.bumpCounter(d+".regulardelay"),!0}return this.$2>=3?(this.$5.bumpCounter(d+".failure"),!0):!1},a.$30=function(){if(this.$14!=null)return!1;var e=this.$29();return!this.$13&&e&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27()),this.$13&&!e&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27()),e},a.$31=function(){return this.$22?(this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API"),new(r("MqttFetchClient"))):(this.$5.debugTrace("LongPollingRunner","Creating regular Polling client"),new(r("MqttLongPollingClient")))},a.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),o("MqttEnv").Env.configWrite(m,p),this.$26("ReceivingData")},a.$33=function(t){var e=t.map(function(e){return e.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+e);for(var n of t)this.$19.onPollResponse(n.topic),this.$8(n.topic,n.payload,n.qos)},a.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")},a.$35=function(t){this.$19.onPollRequestFailed(t),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")},t})();l.default=f}),98);/*FB_PKG_DELIM*/
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[4]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[5]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[4],r[5],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("wa_jid",void 0),r[2].set("thread_key",e[0]),r[2].set("disappearing_ttl",e[1]),r[2].set("updated_timestamp",e[2]),r[2].set("updated_by",e[3]),r[2].set("sync_group",t.i64.cast([0,95])),r[2].set("ephemerality_type",void 0),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"disappearing_setting",t.i64.cast([0,714]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticUpdateThreadDisappearingSettingStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){a===void 0&&(a={});var i=t.storedProcedure(r("LSOptimisticUpdateThreadDisappearingSetting"),a.threadKey,a.disappearingTtl,a.updatedTimestamp,a.updatedBy);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUpsertAttachmentRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.sequence([function(n){return t.forEach(t.db.table(17).fetch([[[e[0],e[1]]]]),function(e){return e.delete()})},function(n){return t.db.table(17).add({threadKey:e[0],mediaGroup:e[1],minTimestampMs:e[2],maxTimestampMs:t.i64.cast([2328,1316134911]),hasMoreBefore:e[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1,lastLoadedMessageId:e[4]})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxUpsertAttachmentRangeStoredProcedure",e.__tables__=["attachments_ranges_v2__generated"],a.exports=e}),null);
__d("LSUpsertAttachmentRangeStoredProcedure",["LSSynchronousPromise","LSUpsertAttachmentRange","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpsertAttachmentRange"),a.threadKey,a.mediaGroup,a.newMinTs,a.hasMoreBefore,a.newLastLoadedMessageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743853"),s=o("FalcoLoggerInternal").create("ls_message_click",e),u=s;l.default=u}),98);
__d("MAWBridgeNewMediaRangeHandler",["I64","LSFactory","LSIntEnum","LSUpsertAttachmentRangeStoredProcedure","MAWMediaGalleryEBTaggingUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","cr:20238","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeNewMediaRangeHandler",function(t,i){var l=(e||(e=o("I64"))).of_float(a.earliestLoadedMediaTs),u=a.mediaGalleryGroup,c=n("cr:20238")!=null?n("cr:20238").getMediaRestoreEBRange(u).getRange(i):null,d=!!(c!=null&&c.hasMoreBefore)&&o("MAWMediaGalleryEBTaggingUtils").isMediaGalleryGroupSupportedForTaggedRestore(u),m=a.hasMoreBefore||d;return r("LSUpsertAttachmentRangeStoredProcedure")(r("LSFactory")(t),{hasMoreBefore:m,mediaGroup:(s||(s=o("LSIntEnum"))).ofNumber(u),newLastLoadedMessageId:a.lastLoadedMessageId,newMinTs:l,threadKey:i})})}function c(e,t){return u(e,t).then(r("emptyFunction"))}l.call=c}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDatabaseSingleton","LSFactory","LSFlushDataTrace.nop"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=n.checkPointId,i=n.dataTraceId,l=n.errorMessage,s=n.tags;return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:a,dataTraceId:i,errorMessage:l,syncChannel:(e||(e=o("I64"))).neg_one,tags:s}).then(function(){if(n.shouldFlush)return r("LSFlushDataTrace.nop")(t,0,i)})}function c(e){return(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(t){return t.runInTransaction(function(t){return u(t,e)},"readwrite",void 0,void 0,i.id+":43")})}l.call=u,l.callWithoutTxn=c}),98);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),u=r("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),c=r("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");async function d(t,n,r,a){var i=await t.threads.get(a);if(i!=null){var l=i.disappearingSettingUpdatedTs,s=i.disappearingSettingTtl;if(l==null||s==null||(e||(e=o("I64"))).lt(l,(e||(e=o("I64"))).of_float(r))&&!(e||(e=o("I64"))).equal(s,(e||(e=o("I64"))).of_int32(n)))return!0}return!1}async function m(t,n,a,i,l,s,c){var m=await d(t,n,a,l);if(!m)return Promise.resolve();s&&r("FBLogger")("wmi_eb").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");var p=await u.load();return r("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(p(t),{disappearingTtl:(e||(e=o("I64"))).of_int32(n),threadKey:l,updatedBy:e.of_string(i?r("MAWEphemeralMsgAutoResetSystemId"):c!=null?c:o("MAWCurrentUser").getID()),updatedTimestamp:e.of_float(a)})}async function p(e,t,n,r){var o=await s.load(),a=await o();return a.runInTransaction(function(o){return m(o,e,t,n,r,!1)},"readwrite")}async function _(e,t,n,r,a){var i=await s.load(),l=await i(),u=(await c.load()).castUnixTimeToMillisTime(t);return l.runInTransaction(async function(t){var i=await o("MAWChatJid").toThreadKeyMaybe(t,r);return i!=null?m(t,e,u,n,i,a):Promise.resolve()},"readwrite")}l.updateEphemeralSettingsWithTxn=m,l.updateEphemeralSettings=p,l.updateEphemeralSettingsByChatJid=_}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWBridgeTraceRecordCheckpointHandler","MAWJobDefinitions","MAWJobManager","WAJobOrchestratorTypes","err","getErrorSafe","ifRequireable","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;async function c(e,t,n,a,i,l,s,c,m,p,_,f,g,h,y,C){y===void 0&&(y=o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);try{return d(t,n,g,a,i,s,m,p,_,h==null?void 0:h,void 0,y,C)}catch(t){if(p!=null){var b={checkPointId:(u||(u=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:p,errorMessage:r("getErrorSafe")(t).message,shouldFlush:!0,syncChannel:-1,tags:void 0};return e!=null?o("MAWBridgeTraceRecordCheckpointHandler").call(e,b).then(function(){return Promise.reject(r("getErrorSafe")(t))}):(o("MAWBridgeTraceRecordCheckpointHandler").callWithoutTxn(b),Promise.reject(r("getErrorSafe")(t)))}}return Promise.resolve()}function d(t,n,a,i,l,c,d,m,p,_,f,g,h){g===void 0&&(g=o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);var y;if((e||(e=r("ExecutionEnvironment"))).isInWorker)y=o("MAWJobManager").getJobManager();else{var C;r("ifRequireable")("MAWTimedJob",function(e){var t=e.TimedUIJobStarters;C=t},function(){throw r("err")("MAWTimedJob is not requireable in MAWRestoreProtobufsFromEncryptedBackupsNOP")}),y=r("nullthrows")(C,"ifRequireable is not sync")}return m!=null&&_!=null&&(u||(u=o("LSIntEnum"))).unwrapIntEnum(_)===r("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION&&!(e||(e=r("ExecutionEnvironment"))).isInWorker?y.waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(a,t,n,i,l,c,d,void 0,m!=null?m:void 0,p!=null?p:void 0,void 0,{priority:g},_,f,void 0,h!=null?h:void 0)):(u||(u=o("LSIntEnum"))).unwrapIntEnum(_||(s||(s=o("I64"))).zero)===r("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&!(e||(e=r("ExecutionEnvironment"))).isInWorker?y.waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(a,t,n,i,l,c,d,void 0,m!=null?m:void 0,p!=null?p:void 0,void 0,{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},_,f,void 0,h!=null?h:void 0)):Promise.resolve(y.fireAndForget(o("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(a,t,n,i,l,c,d,void 0,m!=null?m:void 0,p!=null?p:void 0,void 0,{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},_,f,void 0,h!=null?h:void 0)))}l.call=c}),98);
__d("MWPReplyLogging",["I64","QPLUserFlow","deepEquals","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;function u(t){var n=Date.now()|0;return s.set((e||(e=o("I64"))).to_string(t),n),n}function c(t){var n=s.get((e||(e=o("I64"))).to_string(t));return n==null?u(t):n}function d(t,n,a){if(a){t?r("QPLUserFlow").endCancel(r("qpl")._(25298086,"3996"),{instanceKey:c(n)}):r("QPLUserFlow").endSuccess(r("qpl")._(25298086,"3996"),{instanceKey:c(n)}),s.delete((e||(e=o("I64"))).to_string(n));return}}function m(e,t,n){if(e!=null){if(r("deepEquals")(e,t)){r("QPLUserFlow").addPoint(r("qpl")._(25298086,"3996"),"same_message",{instanceKey:c(n)});return}if(!r("deepEquals")(e,t)){var o=c(n);r("QPLUserFlow").addPoint(r("qpl")._(25298086,"3996"),"switch_message",{instanceKey:o}),r("QPLUserFlow").endCancel(r("qpl")._(25298086,"3996"),{instanceKey:o}),r("QPLUserFlow").start(r("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:u(n),timeoutInMs:6e4});return}}r("QPLUserFlow").start(r("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:u(n),timeoutInMs:6e4})}var p={logClearReply:d,logSetReply:m};l.default=p}),98);
__d("MwbCmInformTreatmentEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6736"),s=o("FalcoLoggerInternal").create("mwb_cm_inform_treatment_event",e),u=s;l.default=u}),98);
__d("MwbInformTreatmentShownImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6735"),s=o("FalcoLoggerInternal").create("mwb_inform_treatment_shown_impression",e),u=s;l.default=u}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744337"),s=o("FalcoLoggerInternal").create("rtc_web_user_actions_debug",e),u=s;l.default=u}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744338"),s=o("FalcoLoggerInternal").create("rtc_web_user_actions",e),u=s;l.default=u}),98);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map;function c(e){var t=new(s||(s=r("URI")))(e);return t.getDomain()?e:new(s||(s=r("URI")))(window.location.href).setPath(t.getPath()).toString()}function d(e){var t=new(s||(s=r("URI")))(e).getPath();return/\.mp3$/.test(t)?"audio/mpeg":/\.og[ga]$/.test(t)?"audio/ogg":""}var m=function(t,n){for(var e of r("createArrayFromMixed")(t)){if(u.has(e))return;var o=document.createElement("audio");if(!(!o||!o.canPlayType||!o.canPlayType(d(e)))){o.preload="auto",o.src=c(e),document.body&&document.body.appendChild(o),u.set(e,o),(n==null?void 0:n.onPreload)!=null&&n.onPreload(o);return}}},p=function(n,a){a===void 0&&(a={});for(var t of r("createArrayFromMixed")(n)){u.has(t)||m(t,a.callbacks);var i=u.get(t);if(i){a.loop&&i.setAttribute("loop",""),a.volume&&(i.volume=a.volume);var l=i.play();l!=null&&typeof l.then=="function"?l.then(function(){(e||(e=o("ODS"))).bumpEntityKey(2966,"sound_player","play.success")}).catch(function(t){(e||(e=o("ODS"))).bumpEntityKey(2966,"sound_player","play.error")}):(e||(e=o("ODS"))).bumpEntityKey(2966,"sound_player","non_promise");return}}},_=function(t){for(var e of r("createArrayFromMixed")(t)){var n=u.get(e);if(n){n.pause();return}}},f=function(t){for(var e of r("createArrayFromMixed")(t)){var n=u.get(e);n&&(n.pause(),n.removeAttribute("src"),n.src=c(e))}};l.preload=m,l.play=p,l.pause=_,l.stop=f}),98);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(t,n,r,o,a,i){var e,l="fb_sounds_playing3";function s(){var t=(e||(e=n("WebStorage"))).getLocalStorage();if(t)try{var r=t[l];if(r&&(r=JSON.parse(r),Array.isArray(r)))return r}catch(e){}return[]}function u(t){var r=(e||(e=n("WebStorage"))).getLocalStorage();if(r){var o=s();for(o.push(t);o.length>5;)o.shift();try{r[l]=JSON.stringify(o)}catch(e){}}}function c(e){return s().some(function(t){return t===e})}var d={play:function(t,r,o,a){t=n("createArrayFromMixed")(t),r=r||t[0]+Math.floor(Date.now()/1e3),!c(r)&&(n("SoundPlayer").play(t,{loop:!!o,callbacks:a}),u(r))},isSupported:function(){return!!(e||(e=n("WebStorage"))).getLocalStorage()}};a.exports=d}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","cr:950105"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("SoundSynchronizer").play(e,t,n,r)}function s(e,t,n,r){var a={name:"SoundRPC",data:{paths:t,sync:n,loop:r}};o("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(e,o("FBJSON").stringify(a))}function u(){return!!window.postMessage}function c(){var t=function(n){if(/\.facebook.com$/.test(n.origin)){var t={};try{var r=n.data;typeof r=="string"&&(t=o("FBJSON").parse(r))}catch(e){}var a=t,i=a.data,l=a.name;l==="SoundRPC"&&i!=null&&typeof i=="object"&&e(i.paths,i.sync,i.loop)}};n("cr:950105")!=null?n("cr:950105").listen(window,"message",t):window.addEventListener("message",t)}l.playLocal=e,l.playRemote=s,l.supportsRPC=u,l._listen=c}),98);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(t,n,r,o,a,i,l){var e,s=null,u=!1;function c(e){}function d(e,t,n,r){s?o("SoundRPC").playRemote(s.contentWindow,e,t,!1):o("SoundRPC").playLocal(e,t,n,r),u=!0}function m(){return u}function p(e,t,n){!u&&r("Visibility").isHidden()||d(e,t,n)}function _(e){s||o("SoundPlayer").stop(e)}var f=new(e||(e=r("URI")))(location.href),g=new Set(["comet","www","business"]);f.getSubdomain()&&!g.has(f.getSubdomain())&&f.setSubdomain("www");var h=f.getDomain();function y(){return o("UserAgent_DEPRECATED").ie()<9||r("SoundInitialData").RPC_DISABLED?!1:o("SoundSynchronizer").isSupported()&&o("SoundRPC").supportsRPC()}r("isFacebookURI")(f)&&location.host!==h&&y()&&(s=document.createElement("iframe"),s.setAttribute("src","//"+h+"/sound_iframe.php"),s.style.display="none",document.body&&document.body.appendChild(s)),l.init=c,l.play=d,l.hasPlayedSoundBefore=m,l.playOnlyIfImmediate=p,l.stop=_}),98);
__d("ZenonSDESKeyDetector",[],(function(t,n,r,o,a,i){"use strict";var e=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function l(t){return e.test(JSON.stringify(t))}i.default=l}),66);
__d("ZenonUserActionLogger",["FBLogger","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,u={logCheckpoint:function(t){u.logEvent(babelHelpers.extends({},t,{event:"checkpoint"}))},logClick:function(t){u.logEvent(babelHelpers.extends({},t,{event:"tap"}))},logError:function(t){u.logEvent(babelHelpers.extends({},t,{event:"error"}))},logEvent:function(t){var e,n;if(r("ZenonSDESKeyDetector")(t))throw r("FBLogger")("rtc_www").mustfixThrow("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!");if(o("ZenonLoggingUtils").shouldAllowLogging()){var a=babelHelpers.extends({},t,{page:(e=t.page)!=null?e:s}),i=babelHelpers.extends({},a,{client_time:Date.now().toString()});r("RtcWebUserActionsDebugFalcoEvent").log(function(){return i}),r("RtcWebUserActionsFalcoEvent").log(function(){return i}),r("ZenonDebugLogger").getInstance().getLogHistory().log((n=t.event)!=null?n:"null",JSON.stringify(a))}},logImpression:function(t){u.logEvent(babelHelpers.extends({},t,{event:"impression"}))},logPreCallClick:function(t){u.logEvent(babelHelpers.extends({},t,{event:"tap"}))},logPreCallImpression:function(t){u.logEvent(babelHelpers.extends({},t,{event:"impression"}))},startTimer:function(n){var t=Date.now();e=e.set(n,t),u.logCheckpoint({checkpoint:n+"_timerStart"})},stopTimer:function(n){var t=n.checkpointName===void 0?n.timerName:n.checkpointName,r=n.event||{},o=function(n){var t=e.get(n);return t!=null?(e.delete(n),parseInt(Date.now()-t,10)):null},a=o(n.timerName);return u.logCheckpoint(babelHelpers.extends({},r,{checkpoint:t+"_timerEnd",event_time_elapsed:a==null?void 0:a.toString()})),parseInt(a,10)}};i.exports=u}),34);
__d("mwEBCheckIfEBKeysExistInDisk",["EBDB","FBLogger","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("gkx")("415");async function u(t){if(!s||t==="true")return Promise.resolve();try{var n=await o("EBDB").getEBDB(),a=await n.store("secure_encrypted_backups_client_state").count();r("QPLUserFlow").addAnnotations(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:(a>0).toString()}})}catch(t){var i=r("getErrorSafe")(t);throw r("QPLUserFlow").addAnnotations(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"failed_to_open_db"}}),r("FBLogger")("wmi_eb").catching(i).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to check if EB keys exists"]))),i}}l.default=u}),98);/*FB_PKG_DELIM*/
__d("FDSCheckmarkOutline20Icon",["cr:14685"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14685")}),98);
__d("FDSSettingsOutline20Icon",["cr:14246"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14246")}),98);
__d("CometNotificationsActionsMenu.react",["fbt","ix","FDSCheckmarkOutline20Icon","FDSMenu.react","FDSMenuItem.react","FDSSettingsOutline20Icon","XCometNotificationsControllerRouteBuilder","XCometSettingsControllerRouteBuilder","fbicon","gkx","react","requireDeferred","useCometRouterState"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=r("requireDeferred")("NotifSeeAllFalcoEvent").__setRef("CometNotificationsActionsMenu.react");function m(e){var t,n,a=e.actorId,i=e.notificationsListRef,l=e.onSeeAllClick,m=r("useCometRouterState")(),p=(m==null?void 0:m.main.route.tabKey)==="notifications",_=function(){i.current!=null&&i.current.markAllNotificationsAsRead!=null&&i.current.markAllNotificationsAsRead()},f=function(){i.current!=null&&i.current.handleDebugModeClick!=null&&i.current.handleDebugModeClick()},g=i==null||(t=i.current)==null||(t=t.debugModeEnabled)==null?void 0:t.current,h=(n=r("gkx")("23784"))!=null?n:!1;return c.jsxs(r("FDSMenu.react"),{"aria-label":s._(/*BTDS*/"Notifications list actions"),withArrow:!0,children:[c.jsx(r("FDSMenuItem.react"),{icon:r("FDSCheckmarkOutline20Icon"),onClick:_,primaryText:s._(/*BTDS*/"Mark all as read"),testid:void 0}),c.jsx(r("FDSMenuItem.react"),{href:r("XCometSettingsControllerRouteBuilder").buildURL({tab:"notifications"}),icon:r("FDSSettingsOutline20Icon"),primaryText:s._(/*BTDS*/"Notification settings")}),h?c.jsx(r("FDSMenuItem.react"),{icon:o("fbicon")._(u("874274"),20),onClick:f,primaryText:"[FB Only] "+(g===!0?"Disable":"Enable")+" Debug Mode"}):null,!p&&r("gkx")("23785")?c.jsx(r("FDSMenuItem.react"),{href:r("XCometNotificationsControllerRouteBuilder").buildURL({}),icon:o("fbicon")._(u("1529371"),20),onClick:function(){l&&l(),d.onReady(function(e){var t=e.log;return t(function(){return{notification_data:{user_id:a},ref:"www_tab"}})})},primaryText:s._(/*BTDS*/"Open Notifications")}):null]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("CometNotificationsRankingErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743388"),s=o("FalcoLoggerInternal").create("comet_notifications_ranking_error",e),u=s;l.default=u}),98);
__d("CometNotificationsReceiveLiveQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25569767992722580"}),null);
__d("CometNotificationsReceiveLiveQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometNotificationsReceiveLiveQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},t={defaultValue:null,kind:"LocalArgument",name:"environment"},r={defaultValue:null,kind:"LocalArgument",name:"filter_tokens"},o={defaultValue:null,kind:"LocalArgument",name:"notif_cache_ids"},a={defaultValue:null,kind:"LocalArgument",name:"refresh_num"},i={defaultValue:null,kind:"LocalArgument",name:"scale"},l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u=[s],c=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"]},{kind:"Literal",name:"source",value:"unknown"}],d={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m=[d],p={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"prefetch_score",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},C={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o,a,i],kind:"Fragment",metadata:null,name:"CometNotificationsReceiveLiveQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsReceiveLiveQuery_notificationsListViewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,i,o,e,a],kind:"Operation",name:"CometNotificationsReceiveLiveQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isActor"},s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:u,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:u,type:"AdsSideFeedUnitItem",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:c,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[l,{kind:"InlineFragment",selections:[p,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_id",storageKey:null},{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},_,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},p],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[g,s,h,y,C,_],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[g,y,s,h,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[l],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},C,b,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:n("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"XFBUfiIconsAndCounts",kind:"LinkedField",name:"ufi_icons_and_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi_counts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ufi_icon_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"44kVfU"}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometRisingFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"RisingFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometGroupsNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometXIPaidexNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XIPaidexNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometAPPlusPostWaitlistNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"APPlusPostWaitlistNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCustomBadgeNameIsLiveNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeNameIsLiveNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCreatorCustomBadgeUserUpgradeNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeUserUpgradeNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometFXFetaUpgradeSuccessNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FXFetaUpgradeSuccessNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:"44kVfU")'}],storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[g,b,s],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"see_previous_text",storageKey:null}],type:"NotifPageSeePreviousButtonRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:c,filters:["environment_alias_override"],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null},{alias:null,args:[{kind:"Literal",name:"promptType",value:"FOOTER"},{kind:"Literal",name:"surface",value:"JEWEL_COMET"}],concreteType:"XFBCometPushTurnOnStatus",kind:"LinkedField",name:"comet_push_turn_on_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_comet_push_turn_on_eligible",storageKey:null}],storageKey:'comet_push_turn_on_status(promptType:"FOOTER",surface:"JEWEL_COMET")'},{alias:null,args:null,concreteType:"BrowserPushConfig",kind:"LinkedField",name:"browser_push_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"browser_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_worker_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("CometNotificationsReceiveLiveQuery_facebookRelayOperation"),metadata:{live:{config_id:""}},name:"CometNotificationsReceiveLiveQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"count"},{kind:"RootArgument",name:"environment"},{kind:"RootArgument",name:"filter_tokens"},{kind:"RootArgument",name:"notif_cache_ids"}],kind:"Fragment",metadata:null,name:"CometNotificationsReceiveLiveQuery_notificationsListViewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometRightSideHeaderCards_viewerSideFeed"},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},{kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"}],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNotificationsList_viewerData"},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("requestLiveQueryExperimental",["invariant","LiveQueryEventsLoggingResolver","ODS","RelayAPIConfig","RelayGraphQLRequestUtils","getErrorSafe","makeGraphQLLiveQueryRequest","nullthrows","promiseDone","relay-runtime","relay-runtime/store/RelayConcreteVariables"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e,t){var n={access_token:r("RelayAPIConfig").accessToken,actor_id:r("RelayAPIConfig").actorID,config_id:r("nullthrows")(e.params.metadata.live.config_id,"config_id should not be null")},a={doc_id:r("nullthrows")(e.params.id,"id in request params should not be null"),operation_name:e.params.name,config_id:n.config_id,actor_id:n.actor_id,variables:t};n.access_token!==""&&(a=babelHelpers.extends({},a,{access_token:n.access_token}));var i=o("LiveQueryEventsLoggingResolver").tempResolveLoggingContext();return i!=null&&(a=babelHelpers.extends({},a,{logging_context:i})),a}function c(t,n){var a=n.query,i=n.variables,l=o("relay-runtime").getRequest(a),c=d(l,i),m=u(l,c),p,_=c,f=o("relay-runtime").createOperationDescriptor(l,i),g=o("relay-runtime").Observable.create(function(t){return p=r("makeGraphQLLiveQueryRequest")(m).onResponse(function(n){var a;try{a=r("RelayGraphQLRequestUtils").parsePayload(n),typeof a=="object"||s(0,12937)}catch(n){return(e||(e=o("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_invalid_payload"),t.error(r("getErrorSafe")(n))}if(!("errors"in a)&&!("data"in a))return(e||(e=o("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_empty_response"),t.error(o("relay-runtime").RelayError.createWarning("EmptyResponseError","Parsed network response is empty"));if(a.errors){for(var i of a.errors)if(i.severity==="CRITICAL"){var u=r("RelayGraphQLRequestUtils").createErrorFromPayload(i,l.operation.name);return(e||(e=o("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_critical_error"),t.error(u)}}t.closed||((e||(e=o("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_notification"),t.next(a))}).onRetryUpdateRequestBody(function(){return JSON.stringify({variables:_})}).send(),function(){r("promiseDone")(p,function(e){e.cancel()})}});t.executeWithSource({operation:f,source:g}).subscribe({});var h=!1,y;return{dispose:function(){!h&&p!=null&&(r("promiseDone")(p,function(e){e.cancel()}),h=!0)},updateVariables:function(t){return!h&&p!=null?(y=t,r("promiseDone")(p,function(e){if(y!=null&&!h){var t=d(l,y);e.amendExperimental({new_variables:t}),_=t,y=null}}),!0):!1}}}function d(e,t){return o("relay-runtime/store/RelayConcreteVariables").getOperationVariables(e.operation,e.params.providedVariables,t)}l.default=c}),98);
__d("CometNotificationsReceiveLiveQuery",["CometNotificationsReceiveLiveQuery.graphql","CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql","requestLiveQueryExperimental"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql"));var u=s!==void 0?s:s=n("CometNotificationsReceiveLiveQuery.graphql");function c(e,t){return r("requestLiveQueryExperimental")(e,{query:u,variables:t})}l.subscribeToNotificationUpdates=c}),98);
__d("CometSeeMoreButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6039"),s=o("FalcoLoggerInternal").create("comet_see_more_button_click",e),u=s;l.default=u}),98);
__d("CometSeeMoreButtonImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6040"),s=o("FalcoLoggerInternal").create("comet_see_more_button_impression",e),u=s;l.default=u}),98);
__d("FBNucleusSettingsOutline20Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M10 5.75a4.25 4.25 0 1 0 0 8.5 4.25 4.25 0 0 0 0-8.5zM7.25 10a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0z"}),s.jsx("path",{d:"M8.596.5a1.25 1.25 0 0 0-1.17.811l-.476 1.27a1.75 1.75 0 0 1-1.909 1.114l-1.16-.182a1.25 1.25 0 0 0-1.257.58L1.226 6.366a1.25 1.25 0 0 0 .06 1.399l.904 1.22a1.75 1.75 0 0 1 .018 2.059l-.934 1.307a1.25 1.25 0 0 0-.036 1.4l1.392 2.175a1.25 1.25 0 0 0 1.246.562l1.165-.183a1.75 1.75 0 0 1 1.91 1.115l.475 1.269c.183.488.65.811 1.17.811h2.807a1.25 1.25 0 0 0 1.17-.811l.499-1.328a1.75 1.75 0 0 1 1.856-1.122l1.235.154a1.25 1.25 0 0 0 1.195-.547l1.387-2.08a1.25 1.25 0 0 0-.023-1.42l-.949-1.329a1.75 1.75 0 0 1 0-2.034l.95-1.329a1.25 1.25 0 0 0 .022-1.42l-1.387-2.08a1.25 1.25 0 0 0-1.195-.547l-1.236.154a1.75 1.75 0 0 1-1.855-1.122l-.498-1.328A1.25 1.25 0 0 0 11.404.5H8.595zm-.241 2.607L8.77 2h2.46l.437 1.166a3.25 3.25 0 0 0 3.447 2.083l1.082-.135L17.4 6.923l-.848 1.188a3.25 3.25 0 0 0 0 3.778l.848 1.188-1.205 1.809-1.082-.135a3.25 3.25 0 0 0-3.447 2.083L11.23 18H8.77l-.415-1.107a3.25 3.25 0 0 0-3.545-2.07l-1.005.157-1.212-1.894.835-1.17a3.25 3.25 0 0 0-.033-3.824l-.803-1.084 1.223-1.987.995.156a3.25 3.25 0 0 0 3.545-2.07z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=20,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSSettingsOutline20PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("497570"),20),u=e;l.default=u}),98);
__d("GriffinTabOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743657"),s=o("FalcoLoggerInternal").create("griffin_tab_open",e),u=s;l.default=u}),98);
__d("NoNotificationsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1894842"),s=o("FalcoLoggerInternal").create("no_notifications",e),u=s;l.default=u}),98);
__d("NotifDebugModeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1836246"),s=o("FalcoLoggerInternal").create("notif_debug_mode",e),u=s;l.default=u}),98);
__d("NotifFilterClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1836768"),s=o("FalcoLoggerInternal").create("notif_filter_click",e),u=s;l.default=u}),98);
__d("NotifFilterImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1871"),s=o("FalcoLoggerInternal").create("notif_filter_impression",e),u=s;l.default=u}),98);
__d("NotifListBottomCollisionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744067"),s=o("FalcoLoggerInternal").create("notif_list_bottom_collision",e),u=s;l.default=u}),98);
__d("NotifSeeAllFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1836151"),s=o("FalcoLoggerInternal").create("notif_see_all",e),u=s;l.default=u}),98);
__d("OpenJewelOptionsMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1836319"),s=o("FalcoLoggerInternal").create("open_jewel_options_menu",e),u=s;l.default=u}),98);/*FB_PKG_DELIM*/
__d("LSDataTraceCheckPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});i.default=e}),66);
__d("ReQLTable",[],(function(t,n,r,o,a,i){"use strict";async function e(e,t,n){var r=await e.get.apply(e,t),o=n(r);await e.upsert(t,o)}i.update=e}),66);
__d("updateAndFlushLSDataTrace",["FBLogger","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQLTable","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("requireDeferred")("LSDataTraceFlush").__setRef("updateAndFlushLSDataTrace");function d(t,a){return a==null?(u||(u=n("Promise"))).resolve():r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(e||(e=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),dataTraceId:a,syncChannel:(s||(s=o("I64"))).neg_one}).then(function(){return o("ReQLTable").update(t.data_trace_meta,[a],function(e){if(e!=null)return{contextOne:e.contextOne,contextThree:e.contextThree,contextTwo:e.contextTwo,foregroundTimestampMs:e.foregroundTimestampMs,initTimestampMs:e.initTimestampMs,predefinedId:e.predefinedId,shouldFlush:!0,traceId:e.traceId,traceType:e.traceType};throw r("FBLogger")("messenger_web").mustfixThrow('Data trace is missing, id: "%s"',a)}).then(function(){return c.load().then(function(e){return e.flush(t,a)})})})}l.default=d}),98);
__d("LSFlushDataTrace.nop",["MetaConfig","Promise","ReQL","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a,i,l){return r("MetaConfig")._("62")?o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(l)).then(function(t){return t!=null?r("updateAndFlushLSDataTrace")(a,l):(e||(e=n("Promise"))).resolve()}):(e||(e=n("Promise"))).resolve()};s.__nop_name__="LSFlushDataTrace",l.default=s}),98);
__d("XmaEventsE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1399"),s=o("FalcoLoggerInternal").create("xma_events_e2ee",e),u=s;l.default=u}),98);